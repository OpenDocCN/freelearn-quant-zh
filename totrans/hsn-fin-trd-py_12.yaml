- en: '*Chapter 9*: Fundamental Algorithmic Trading Strategies'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第9章*：基础算法交易策略'
- en: This chapter outlines several algorithms profitable on the given stock, given
    a time window and certain parameters, with the aim of helping you to formulate
    an idea of how to develop your own trading strategies.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这一章概述了几种算法，根据给定的股票、时间窗口和特定参数，旨在帮助您构思如何制定自己的交易策略。
- en: 'In this chapter, we will discuss the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: What is an algorithmic trading strategy?
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是算法交易策略？
- en: Learning momentum-based/trend-following strategies
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习基于动量的/趋势跟随策略
- en: Learning mean-reversion strategies
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习均值回归策略
- en: Learning mathematical model-based strategies
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习基于数学模型的策略
- en: Learning time series prediction-based strategies
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习基于时间序列预测的策略
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The Python code used in this chapter is available in the `Chapter09/signals_and_strategies.ipynb`
    notebook in the book's code repository.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中使用的Python代码可在书籍代码存储库中的`Chapter09/signals_and_strategies.ipynb`笔记本中找到。
- en: What is an algorithmic trading strategy?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是算法交易策略？
- en: 'Any algorithmic trading strategy should entail the following:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 任何算法交易策略都应包含以下内容：
- en: It should be a model based on an underlying market theory since only then can
    you find its predictive power. Fitting a model to data with great backtesting
    results is simple, but usually does not provide sound predictions.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它应该是基于潜在市场理论的模型，因为只有这样才能发现其预测能力。将模型拟合到具有出色回测结果的数据中是简单的，但通常不能提供可靠的预测。
- en: It should be as simple as possible – the more complex the strategy, the less
    likely it is to perform well in the long term (overfitting).
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应尽可能简单 - 策略越复杂，长期表现越差（过度拟合）。
- en: 'It should restrict the strategy for a well-defined set of financial assets
    (trading universe) based on the following:'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应将策略限制为一组明确定义的金融资产（交易宇宙），基于以下内容：
- en: a) Their returns profile.
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) 他们的收益概况。
- en: b) Their returns not being correlated.
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) 他们的收益不相关。
- en: c) Their trading patterns – you do not want to trade an illiquid asset; you
    restrict yourself just to significantly traded assets.
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c) 他们的交易模式 - 您不希望交易流动性不足的资产；您限制自己只交易交易活跃的资产。
- en: 'It should define the relevant financial data:'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该定义相关的金融数据：
- en: 'a) Frequency: Daily, monthly, intraday, and suchlike'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) 频率：每日、每月、日内等等
- en: b) Data source
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) 数据来源
- en: It should define the model's parameters.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该定义模型的参数。
- en: It should define their timing, entry, exit rules, and position sizing strategy
    – for example, we cannot trade more than 10% of the average daily volume; usually,
    the decision to enter/exit is made by a composition of several indicators.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应定义它们的定时、入场、退出规则和头寸规模策略 - 例如，我们不能交易超过平均每日交易量的10%；通常，进入/退出决策由几个指标的组合做出。
- en: It should define the risk levels – how much of a risk a single asset can bear.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该定义风险水平 - 单个资产能承受多大风险。
- en: It should define the benchmark used to compare performance against.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该定义用于比较绩效的基准。
- en: It should define its rebalancing policy – as the markets evolve, the position
    sizes and risk levels will deviate from their target levels and then it is necessary
    to adjust the portfolios.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应该定义其再平衡政策 - 随着市场的发展，头寸大小和风险水平将偏离其目标水平，因此需要调整投资组合。
- en: Usually, you have a large library of algorithmic trading strategies, and backtesting
    will suggest which of these strategies, on which assets, and at what point in
    time they may generate a profit. You should keep a backtesting journal to keep
    track of what strategies did or didn't work, on what stock, and during what period.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，您会拥有大量的算法交易策略库，回测将建议这些策略中的哪些策略，在哪些资产上以及何时可能获利。您应该保持一份回测日志，以跟踪哪些策略有效，哪些策略无效，以及在哪些股票和时间段内。
- en: 'How do you go about finding a portfolio of stocks to consider for trading?
    The options are as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如何寻找要考虑交易的股票组合？选项如下：
- en: Use ETF/index components – for example, the members of the Dow Jones Industrial
    Average.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用ETF/指数成分 - 例如，道琼斯工业平均指数的成员。
- en: 'Use all listed stocks and then restrict the list to the following:'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用所有上市股票，然后将列表限制为以下内容：
- en: a) Those stocks that are traded the most
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: a) 那些交易最多的股票
- en: b) Just non-correlated stocks
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: b) 只是非相关的股票
- en: c) Those stocks that are underperforming or overperforming using a returns model,
    such as the **Fama-French three-factor model**
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: c) 使用收益模型（例如**法玛-法rench三因子模型**）表现不佳或表现良好的股票。
- en: 'You should classify each stock into as many categories as possible:'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: a) Value/growth stocks
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: b) By industry
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Each trading strategy depends on a number of parameters. How do you go about
    finding the best values for each of them? The possible approaches are as follow:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: A parameter sweep by trying each possible value within the range of possible
    values for each parameter, but this would require an enormous amount of computing
    resources.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Very often, a parameter sweep that involves testing many random samples, instead
    of all values, from the range of possible values provides a reasonable approximation.
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To build a large library of algorithmic trading strategies, you should do the
    following:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: Subscribe to financial trading blogs.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Read financial trading books.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The key algorithmic trading strategies can be classified as follows:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: Momentum-based/trend-following strategies
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mean-reversion strategies
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mathematical model-based strategies
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Arbitrage strategies
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Market-making strategies
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Index fund rebalancing strategies
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Trading timing optimization strategies (VWAP, TWAP, POV, and so on)
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In addition, you yourself should classify all trading strategies depending on
    the environment where they work best – some strategies work well in volatile markets
    with strong trends, while others do not.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: The following algorithms use the freely accessible Quandl data bundle; thus,
    the last trading date is January 1, 2018.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: You should accumulate many different trading algorithms, list the number of
    possible parameters, and backtest the stocks on a number of parameters on the
    universe of stocks (for example, those with an average trading volume of at least
    *X*) to see which may be profitable. Backtesting should happen in a time window
    such as the present and near future – for example, the volatility regime.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: 'The best way of reading the following strategies is as follows:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: Identify the signal formula of the strategy and consider it for an entry/exit
    rule for your own strategy or for a combination with other strategies – some of
    the most profitable strategies are combinations of existing strategies.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Consider the frequency of trading – daily trading may not be suitable for all
    strategies due to the transaction costs.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each strategy works for different types of stocks and their market – some work
    only for trending stocks, some work only for high-volatility stocks, and so on.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Learning momentum-based/trend-following strategies
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Momentum-based/trend-following strategies are types of technical analysis strategies.
    They assume that the near-time future prices will follow an upward or downward
    trend.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: Rolling window mean strategy
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This strategy is to own a financial asset if its latest stock price is above
    the average price over the last *X* days.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following example, it works well for Apple stock and a period of 90
    days:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The outputs are as follows:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.1 – Rolling window mean strategy; summary return and risk statistics](img/Figure_9.1_B15029.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
- en: Figure 9.1 – Rolling window mean strategy; summary return and risk statistics
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1 - 滚动窗口平均策略；摘要回报和风险统计
- en: 'When assessing a trading strategy, the preceding statistics are the first step.
    Each provides a different view on the strategy performance:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估交易策略时，上述统计数据是第一步。每个都提供了策略表现的不同视角：
- en: '**Sharpe ratio**: This is a measure of excess return versus standard deviation
    of the excess return. The higher the ratio, the better the algorithm performed
    on a risk-adjusted basis.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**夏普比率**：这是超额收益与超额收益标准差的比率。比率越高，算法在风险调整基础上表现越好。'
- en: '**Calmar ratio**: This is a measure of the average compounded annual rate of
    return versus its maximum drawdown. The higher the ratio, the better the algorithm
    performed on a risk-adjusted basis.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Calmar比率**：这是平均复合年收益率与其最大回撤的比率。比率越高，算法在风险调整基础上表现越好。'
- en: '**Stability**: This is defined as the R-squared value of a linear fit to the
    cumulative log returns. The higher the number, the higher the trend in the cumulative
    returns.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**稳定性**：这是对累积对数收益的线性拟合的R平方值的定义。数字越高，累积收益的趋势就越高。'
- en: '**Omega ratio**: This is defined as the probability weighted ratio of gains
    versus losses. It is a generalization of the Sharpe ratio, taking into consideration
    all moments of the distribution. The higher the ratio, the better the algorithm
    performed on a risk-adjusted basis.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Omega比率**：这被定义为收益与损失的概率加权比率。这是夏普比率的一般化，考虑了分布的所有时刻。比率越高，算法在风险调整基础上表现越好。'
- en: '**Sortino ratio**: This is a variation of the Sharpe ratio – it uses only the
    standard deviation of the negative portfolio returns (downside risk). The higher
    the ratio, the better the algorithm performed on a risk-adjusted basis.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Sortino比率**：这是夏普比率的一种变体 - 它仅使用负投资组合收益（下行风险）的标准偏差。比率越高，算法在风险调整基础上表现越好。'
- en: '**Tail ratio**: This is defined as the ratio between the right 95% and the
    left tail 5%. For example, a ratio of 1/3 means that the losses are three times
    worse than the profits. The higher the number, the better.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**尾部比率**：这被定义为右尾95%与左尾5%之间的比率。例如，1/3的比率意味着损失是利润的三倍。数字越高，越好。'
- en: 'In this example, we see that the strategy has a very high stability (.92) over
    the trading window, which somewhat offsets the high maximum drawdown (-59.4%).
    The tail ratio is most favorable:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们看到策略在交易窗口上具有很高的稳定性（.92），这在一定程度上抵消了较高的最大回撤（-59.4%）。尾部比率最有利：
- en: '![Figure 9.2 – Rolling window mean strategy; worst five drawdown periods](img/Figure_9.2_B15029.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![图9.2 - 滚动窗口平均策略；最差的五次回撤期间](img/Figure_9.2_B15029.jpg)'
- en: Figure 9.2 – Rolling window mean strategy; worst five drawdown periods
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2 - 滚动窗口平均策略；最差的五次回撤期间
- en: While the worst maximum drawdown of 59.37% is certainly not good, if we adjusted
    the entry/exit strategy rules, we would most likely avoid it. Notice the duration
    of the drawdown periods – more than 3 years in the maximum drawdown period.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然59.37％的最大回撤确实不好，但如果我们调整了入市/退出策略规则，我们很可能会避免它。请注意回撤期的持续时间 - 最大回撤期超过3年。
- en: '![Figure 9.3 – Rolling window mean strategy; cumulative returns over the investment
    horizon](img/Figure_9.3_B15029.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![图9.3 - 滚动窗口平均策略；投资视角下的累积回报](img/Figure_9.3_B15029.jpg)'
- en: Figure 9.3 – Rolling window mean strategy; cumulative returns over the investment
    horizon
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.3 - 滚动窗口平均策略；投资视角下的累积回报
- en: As the stability measure confirms, we see a positive trend in the cumulative
    returns over the trading horizon.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 正如稳定性指标所证实的那样，我们在交易周期内看到累积收益呈正趋势。
- en: '![Figure 9.4 – Rolling window mean strategy; returns over the investment horizon](img/Figure_9.4_B15029.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![图9.4 - 滚动窗口平均策略；投资视角下的回报](img/Figure_9.4_B15029.jpg)'
- en: Figure 9.4 – Rolling window mean strategy; returns over the investment horizon
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4 - 滚动窗口平均策略；投资视角下的回报
- en: The chart confirms that the returns oscillate widely around zero.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图表证实了收益在零点周围波动很大。
- en: '![Figure 9.5 – Rolling window mean strategy; 6-month rolling volatility over
    the investment horizon](img/Figure_9.5_B15029.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图9.5 - 滚动窗口平均策略；投资视角下的6个月滚动波动率](img/Figure_9.5_B15029.jpg)'
- en: Figure 9.5 – Rolling window mean strategy; 6-month rolling volatility over the
    investment horizon
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.5 - 滚动窗口平均策略；投资视角下的6个月滚动波动率
- en: This chart illustrates that the strategy's return volatility is decreasing over
    the time horizon.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图表说明了策略的回报波动率在时间范围内在减少。
- en: '![Figure 9.6 – Rolling window mean strategy; 6-month rolling Sharpe ratio over
    the investment horizon](img/Figure_9.6_B15029.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
- en: Figure 9.6 – Rolling window mean strategy; 6-month rolling Sharpe ratio over
    the investment horizon
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: We see that the maximum Sharpe ratio of the strategy is above 4, with its minimum
    value below -2\. If we reviewed the entry/exit rules, we should be able to improve
    the strategy's performance.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.7 – Rolling window mean strategy; top five drawdown periods over
    the investment horizon](img/Figure_9.7_B15029.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
- en: Figure 9.7 – Rolling window mean strategy; top five drawdown periods over the
    investment horizon
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: A graphical representation of the maximum drawdown indicates that the periods
    of maximum drawdown are overly long.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.8 – Rolling window mean strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon](img/Figure_9.8_B15029.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
- en: Figure 9.8 – Rolling window mean strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** chart shows that we have traded during most months.
    The **Annual returns** bar chart shows that the returns are overwhelmingly positive,
    while the **Distribution of monthly returns** chart shows that the skew is positive
    to the right.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: The rolling window mean strategy is one of the simplest strategies and is still
    very profitable for certain combinations of stocks and time frames. Notice that
    the maximum drawdown for this strategy is significant and may be improved if we
    added more advanced entry/exit rules.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: Simple moving averages strategy
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This strategy follows a simple rule: buy the stock if the short-term moving
    averages rise above the long-term moving averages:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The outputs are as follows:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.9 – Simple moving averages strategy; summary return and risk statistics](img/Figure_9.9_B15029.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
- en: Figure 9.9 – Simple moving averages strategy; summary return and risk statistics
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: The statistics show that the strategy is overwhelmingly profitable in the long
    term (high stability and tail ratios), while the maximum drawdown can be substantial.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.10 – Simple moving averages strategy; worst five drawdown periods](img/Figure_9.10_B15029.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
- en: Figure 9.10 – Simple moving averages strategy; worst five drawdown periods
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: The worst drawdown periods are rather long – more than 335 days, with some even
    taking more than 3 years in the worst case.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.11 – Simple moving averages strategy; cumulative returns over the
    investment horizon](img/Figure_9.11_B15029.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
- en: Figure 9.11 – Simple moving averages strategy; cumulative returns over the investment
    horizon
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: This chart does, however, confirm that this long-term strategy is profitable
    – we see the cumulative returns grow consistently after the first drawdown.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.12 – Simple moving averages strategy; returns over the investment
    horizon](img/Figure_9.12_B15029.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
- en: Figure 9.12 – Simple moving averages strategy; returns over the investment horizon
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.12 – 简单移动平均线策略；投资期内回报
- en: The chart illustrates that there was a major negative return event at the very
    start of the trading window and then the returns oscillate around zero.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图表说明，在交易窗口的开头就发生了一次重大的负回报事件，然后回报围绕零波动。
- en: '![Figure 9.13 – Simple moving averages strategy; 6-month rolling volatility
    over the investment horizon](img/Figure_9.13_B15029.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图表 9.13 – 简单移动平均线策略；投资期内 6 个月滚动波动率](img/Figure_9.13_B15029.jpg)'
- en: Figure 9.13 – Simple moving averages strategy; 6-month rolling volatility over
    the investment horizon
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.13 – 简单移动平均线策略；投资期内 6 个月滚动波动率
- en: The rolling volatility chart shows that the rolling volatility is decreasing
    with time.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动波动率图表显示，滚动波动率随时间递减。
- en: '![Figure 9.14 – Simple moving averages strategy; 6-month rolling Sharpe ratio
    over the investment horizon](img/Figure_9.14_B15029.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图表 9.14 – 简单移动平均线策略；投资期内 6 个月滚动夏普比率](img/Figure_9.14_B15029.jpg)'
- en: Figure 9.14 – Simple moving averages strategy; 6-month rolling Sharpe ratio
    over the investment horizon
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.14 – 简单移动平均线策略；投资期内 6 个月滚动夏普比率
- en: While the maximum Sharpe ratio was over 4, with the minimum equivalent being
    below -4, the average Sharpe ratio was 0.68.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然最大夏普比率超过了 4，最小值低于 -4，但平均夏普比率为 0.68。
- en: '![Figure 9.15 – Simple moving averages strategy; top five drawdown periods
    over the investment horizon](img/Figure_9.15_B15029.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![图表 9.15 – 简单移动平均线策略；投资期内前五个最大回撤期](img/Figure_9.15_B15029.jpg)'
- en: Figure 9.15 – Simple moving averages strategy; top five drawdown periods over
    the investment horizon
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.15 – 简单移动平均线策略；投资期内前五个最大回撤期
- en: This chart confirms that the maximum drawdown periods were very long.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 该图表证实了最大回撤期间非常长。
- en: '![Figure 9.16 – Simple moving averages strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon](img/Figure_9.16_B15029.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图表 9.16 – 简单移动平均线策略；月度回报、年度回报和投资期内月度回报分布](img/Figure_9.16_B15029.jpg)'
- en: Figure 9.16 – Simple moving averages strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.16 – 简单移动平均线策略；月度回报、年度回报和投资期内月度回报分布
- en: The monthly returns table shows that there was no trade across many months.
    The annual returns were mostly positive. The **Distribution of monthly returns**
    chart confirms that the skew is negative.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 月度回报表显示，很多月份都没有交易。年度回报大部分为正数。**月度回报分布**图表证实了偏斜是负向的。
- en: The simple moving averages strategy is less profitable and has a greater maximum
    drawdown than the rolling window mean strategy. One reason may be that the rolling
    window for the moving averages is too large.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 简单移动平均线策略的盈利能力较低，并且最大回撤比滚动窗口均值策略更大。一个可能的原因是移动平均的滚动窗口太大了。
- en: Exponentially weighted moving averages strategy
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 指数加权移动平均线策略
- en: This strategy is similar to the previous one, with the exception of using different
    rolling windows and exponentially weighted moving averages. The results are slightly
    better than those achieved under the previous strategy.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略与之前的策略类似，唯一的区别是使用不同的滚动窗口和指数加权移动平均线。结果略优于之前策略下取得的结果。
- en: 'Some other moving average algorithms use both simple moving averages and exponentially
    weighted moving averages in the decision rule; for example, if the simple moving
    average is greater than the exponentially weighted moving average, make a move:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 一些其他移动平均算法在决策规则中同时使用简单移动平均线和指数加权移动平均线；例如，如果简单移动平均线大于指数加权移动平均线，则采取行动：
- en: '[PRE2]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The outputs are as follows:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.17 – Exponentially weighted moving averages strategy; summary return
    and risk statistics](img/Figure_9.17_B15029.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图表 9.17 – 指数加权移动平均线策略；摘要回报和风险统计数据](img/Figure_9.17_B15029.jpg)'
- en: Figure 9.17 – Exponentially weighted moving averages strategy; summary return
    and risk statistics
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图表 9.17 – 指数加权移动平均策略；摘要回报和风险统计数据
- en: The results show that the level of maximum drawdown has dropped from the previous
    strategies, while still keeping very strong stability and tail ratios.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示，最大回撤水平从之前的策略中下降了，同时仍然保持非常强的稳定性和尾部比率。
- en: '![Figure 9.18 – Exponentially weighted moving averages strategy; worst five
    drawdown periods](img/Figure_9.18_B15029.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
- en: Figure 9.18 – Exponentially weighted moving averages strategy; worst five drawdown
    periods
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: The magnitude of the worst drawdown, as well as its maximum duration in days,
    is far better than for the previous two strategies.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.19 – Exponentially weighted moving averages strategy; cumulative
    returns over the investment horizon](img/Figure_9.19_B15029.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
- en: Figure 9.19 – Exponentially weighted moving averages strategy; cumulative returns
    over the investment horizon
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: As the stability indicator shows, we see consistent positive cumulative returns.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.20 – Exponentially weighted moving averages strategy; returns over
    the investment horizon](img/Figure_9.20_B15029.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
- en: Figure 9.20 – Exponentially weighted moving averages strategy; returns over
    the investment horizon
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: The returns oscillate around zero, being more positive than negative.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.21 – Exponentially weighted moving averages strategy; 6-month rolling'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: volatility over the investment horizon](img/Figure_9.21_B15029.jpg)
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: Figure 9.21 – Exponentially weighted moving averages strategy; 6-month rolling
    volatility over the investment horizon
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: The rolling volatility is dropping over time.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.22 – Exponentially weighted moving averages strategy; 6-month rolling'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: Sharpe ratio over the investment horizon](img/Figure_9.22_B15029.jpg)
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
- en: Figure 9.22 – Exponentially weighted moving averages strategy; 6-month rolling
    Sharpe ratio over the investment horizon
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
- en: We see that the maximum Sharpe ratio reached almost 5, while the minimum was
    slightly below -2, which again is better than for the two previous algorithms.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.23 – Exponentially weighted moving averages strategy; top five drawdown
    periods over the investment horizon](img/Figure_9.23_B15029.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
- en: Figure 9.23 – Exponentially weighted moving averages strategy; top five drawdown
    periods over the investment horizon
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: Notice that the periods of the worst drawdown are not identical for the last
    three algorithms.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.24 – Exponentially weighted moving averages strategy; monthly returns,
    annual returns, and the distribution of monthly returns over the investment horizon](img/Figure_9.24_B15029.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
- en: Figure 9.24 – Exponentially weighted moving averages strategy; monthly returns,
    annual returns, and the distribution of monthly returns over the investment horizon
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table shows that we have traded in most months. The
    **Annual returns** chart confirms that most returns have been positive. The **Distribution
    of monthly returns** chart is positively skewed, which is a good sign.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: The exponentially weighted moving averages strategy performs better for Apple's
    stock over the given time frame. However, in general, the most suitable averages
    strategy depends on the stock and the time frame.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: RSI strategy
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This strategy depends on the `stockstats` package. It is very instructive to
    read the source code at [https://github.com/intrad/stockstats/blob/master/stockstats.py](https://github.com/intrad/stockstats/blob/master/stockstats.py).
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略依赖于`stockstats`包。阅读源代码非常有益，地址为[https://github.com/intrad/stockstats/blob/master/stockstats.py](https://github.com/intrad/stockstats/blob/master/stockstats.py)。
- en: 'To install it, use the following command:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装它，请使用以下命令：
- en: '[PRE3]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The RSI indicator measures the velocity and magnitude of price movements and
    provides an indicator when a financial asset is oversold or overbought. It is
    a leading indicator.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: RSI指标测量价格波动的速度和幅度，并在金融资产超买或超卖时提供指标。它是一个领先指标。
- en: 'It is measured from 0 to 100, with values over 70 indicating overbought, and
    values below 30 oversold:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 它的取值范围为0到100，值超过70表示超买，值低于30表示超卖：
- en: '[PRE4]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The outputs are as follows:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.25 – RSI strategy; summary return and risk statistics](img/Figure_9.25_B15029.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图9.25 – RSI策略；总结的收益和风险统计数据](img/Figure_9.25_B15029.jpg)'
- en: Figure 9.25 – RSI strategy; summary return and risk statistics
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.25 – RSI策略；总结的收益和风险统计数据
- en: The first look at the strategy shows an excellent Sharpe ratio, with a very
    low maximum drawdown and a favorable tail ratio.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 对该策略的初步研究显示出优秀的夏普比率，最大回撤非常低，并且尾部比率有利。
- en: '![Figure 9.26 – RSI strategy; worst five drawdown periods](img/Figure_9.26_B15029.jpg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![图9.26 – RSI策略；最差的五个回撤期](img/Figure_9.26_B15029.jpg)'
- en: Figure 9.26 – RSI strategy; worst five drawdown periods
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.26 – RSI策略；最差的五个回撤期
- en: The worst drawdown periods were very short – less than 2 months – and not substantial
    – a maximum drawdown of only -10.55%.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 最糟糕的回撤期非常短暂 – 不到2个月 – 且不重大 – 最大回撤仅为-10.55%。
- en: '![Figure 9.27 – RSI strategy; cumulative returns over the investment horizon](img/Figure_9.27_B15029.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![图9.27 – RSI策略；投资期限内的累积收益](img/Figure_9.27_B15029.jpg)'
- en: Figure 9.27 – RSI strategy; cumulative returns over the investment horizon
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.27 – RSI策略；投资期限内的累积收益
- en: The **Cumulative returns** chart shows that we have not traded across most of
    the trading horizon and when we did trade, there was a positive trend in the cumulative
    returns.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '**累积收益**图表显示，我们在大部分交易期间都没有进行交易，而当我们进行交易时，累积收益呈正趋势。'
- en: '![Figure 9.28 – RSI strategy; returns over the investment horizon](img/Figure_9.28_B15029.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![图9.28 – RSI策略；投资期限内的收益](img/Figure_9.28_B15029.jpg)'
- en: Figure 9.28 – RSI strategy; returns over the investment horizon
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.28 – RSI策略；投资期限内的收益
- en: We can see that when we traded, the returns were more likely to be positive
    than negative.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，在进行交易时，收益更可能为正而不是负。
- en: '![Figure 9.29 – RSI strategy; 6-month rolling volatility over the investment
    horizon](img/Figure_9.29_B15029.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图9.29 – RSI策略；投资期限内的6个月滚动波动率](img/Figure_9.29_B15029.jpg)'
- en: Figure 9.29 – RSI strategy; 6-month rolling volatility over the investment horizon
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.29 – RSI策略；投资期限内的6个月滚动波动率
- en: Notice that the maximum rolling volatility of 0.2 is far lower than for the
    previous strategies.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到最大滚动波动率为0.2，远低于先前策略。
- en: '![Figure 9.30 – RSI strategy; 6-month rolling Sharpe ratio over the investment
    horizon](img/Figure_9.30_B15029.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![图9.30 – RSI策略；投资期限内的6个月滚动夏普比率](img/Figure_9.30_B15029.jpg)'
- en: Figure 9.30 – RSI strategy; 6-month rolling Sharpe ratio over the investment
    horizon
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.30 – RSI策略；投资期限内的6个月滚动夏普比率
- en: We can see that Sharpe's ratio has consistently been over 1, with its maximum
    value over 3 and its minimum value below -1.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到夏普比率一直稳定在1以上，最大值超过3，最小值低于-1。
- en: '![Figure 9.31 – RSI strategy; top five drawdown periods over the investment
    horizon](img/Figure_9.31_B15029.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![图9.31 – RSI策略；投资期限内的前五个回撤期](img/Figure_9.31_B15029.jpg)'
- en: Figure 9.31 – RSI strategy; top five drawdown periods over the investment horizon
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.31 – RSI策略；投资期限内的前五个回撤期
- en: The chart illustrates short and insignificant drawdown periods.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图表显示了短暂且不显著的回撤期。
- en: '![Figure 9.32 – RSI strategy; monthly returns, annual returns, and the distribution
    of monthly returns over the investment horizon](img/Figure_9.32_B15029.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图9.32 – RSI策略；月度收益、年度收益以及投资期限内月度收益的分布](img/Figure_9.32_B15029.jpg)'
- en: Figure 9.32 – RSI strategy; monthly returns, annual returns, and the distribution
    of monthly returns over the investment horizon
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.32 – RSI策略；月度收益、年度收益以及投资期限内月度收益的分布
- en: The **Monthly returns** table states that we have not traded in most months.
    However, according to the **Annual returns** chart, when we traded, we were hugely
    profitable. The **Distribution of monthly returns** chart confirms that the skew
    is hugely positive, with a large kurtosis.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '**月度收益** 表格显示，大多数月份我们都没有交易。但是，根据 **年度收益** 图表，在我们交易时，我们的利润非常巨大。 **月度收益分布** 图表证实了偏斜非常正向，峰度很大。'
- en: The RSI strategy is highly performant in the case of Apple's stock over the
    given time frame, with a Sharpe ratio of 1.11\. Notice, however, that the success
    of the strategy depends largely on the very strict entry/exit rules, meaning we
    are not trading in certain months at all.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: RSI 策略在给定时间范围内的苹果股票表现非常出色，夏普比率为 1.11。然而，请注意，该策略的成功很大程度上取决于非常严格的进出场规则，这意味着我们根本不会在某些月份进行交易。
- en: MACD crossover strategy
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MACD 交叉策略
- en: '**Moving Average Convergence Divergence** (**MACD**) is a lagging, trend-following
    momentum indicator reflecting the relationship between two moving averages of
    stock prices.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '**移动平均线收敛背离**（**MACD**）是一种滞后的、追踪趋势的动量指标，反映了股价两个移动平均线之间的关系。'
- en: 'The strategy depends on two statistics, the MACD and the MACD signal line:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略依赖于两个统计数据，即 MACD 和 MACD 信号线：
- en: The MACD is defined as the difference between the 12-day exponential moving
    average and the 26-day exponential moving average.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MACD 被定义为 12 天指数移动平均线和 26 天指数移动平均线之间的差异。
- en: The MACD signal line is then defined as the 9-day exponential moving average
    of the MACD.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 然后将 MACD 信号线定义为 MACD 的 9 天指数移动平均线。
- en: 'The MACD crossover strategy is defined as follows:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: MACD 交叉策略定义如下：
- en: A bullish crossover happens when the MACD line turns upward and crosses beyond
    the MACD signal line.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 MACD 线向上转向并超过 MACD 信号线时，发生了牛市交叉。
- en: A bearish crossover happens when the MACD line turns downward and crosses under
    the MACD signal line.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 MACD 线向下转向并穿过 MACD 信号线时，发生了空头交叉。
- en: 'Consequently, this strategy is best suited for volatile, highly traded markets:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这种策略最适合波动大、交易活跃的市场：
- en: '[PRE5]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The outputs are as follows:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.33 – MACD crossover strategy; summary return and risk statistics](img/Figure_9.33_B15029.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.33 – MACD 交叉策略；汇总收益和风险统计数据](img/Figure_9.33_B15029.jpg)'
- en: Figure 9.33 – MACD crossover strategy; summary return and risk statistics
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.33 – MACD 交叉策略；汇总收益和风险统计数据
- en: The tail ratio illustrates that the top gains and losses are roughly of the
    same magnitude. The very low stability indicates that there is no strong trend
    in cumulative returns.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 尾部比率表明，最大收益和最大损失大致相当。非常低的稳定性表明，累计收益没有强劲的趋势。
- en: '![Figure 9.34 – MACD crossover strategy; worst five drawdown periods](img/Figure_9.34_B15029.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.34 – MACD 交叉策略；最糟糕的五个回撤期](img/Figure_9.34_B15029.jpg)'
- en: Figure 9.34 – MACD crossover strategy; worst five drawdown periods
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.34 – MACD 交叉策略；最糟糕的五个回撤期
- en: Apart from the worst drawdown period, the other periods were shorter than 6
    months, with a net drawdown lower than 10%.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 除了最糟糕的回撤期外，其他时期都少于 6 个月，并且净回撤低于 10%。
- en: '![Figure 9.35 – MACD crossover strategy; cumulative returns over the investment
    horizon](img/Figure_9.35_B15029.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.35 – MACD 交叉策略；投资期限内的累计收益](img/Figure_9.35_B15029.jpg)'
- en: Figure 9.35 – MACD crossover strategy; cumulative returns over the investment
    horizon
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.35 – MACD 交叉策略；投资期限内的累计收益
- en: The **Cumulative returns** chart confirms the low stability indicator value.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '**累计收益** 图表证实了低稳定性指标值。'
- en: 'The following is the **Returns** chart:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **Returns** 图表：
- en: '![Figure 9.36 – MACD crossover strategy; returns over the investment horizon](img/Figure_9.36_B15029.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.36 – MACD 交叉策略；投资期限内的收益](img/Figure_9.36_B15029.jpg)'
- en: Figure 9.36 – MACD crossover strategy; returns over the investment horizon
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.36 – MACD 交叉策略；投资期限内的收益
- en: The **Returns** chart shows that returns oscillated widely around zero, with
    a few outliers.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '**Returns** 图表显示，收益在零点周围波动幅度很大，有一些异常值。'
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **滚动波动率** 图表：
- en: '![Figure 9.37 – MACD crossover strategy; 6-month rolling volatility over the
    investment horizon](img/Figure_9.37_B15029.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.37 – MACD 交叉策略；投资期限内的 6 个月滚动波动率](img/Figure_9.37_B15029.jpg)'
- en: Figure 9.37 – MACD crossover strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.37 – MACD 交叉策略；投资期限内的 6 个月滚动波动率
- en: The rolling volatility has been oscillating around 0.15.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动波动率一直在 0.15 左右波动。
- en: 'The following is the rolling Sharpe ratio chart:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.38 – MACD crossover strategy; 6-month rolling Sharpe ratio over
    the investment horizon](img/Figure_9.38_B15029.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
- en: Figure 9.38 – MACD crossover strategy; 6-month rolling Sharpe ratio over the
    investment horizon
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: The maximum rolling Sharpe ratio of about 4, with a minimum ratio of -2, is
    largely favorable.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the top five drawdown periods chart:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.39 – MACD crossover strategy; top five drawdown periods over the
    investment horizon](img/Figure_9.39_B15029.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
- en: Figure 9.39 – MACD crossover strategy; top five drawdown periods over the investment
    horizon
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: We see that the worst two drawdown periods have been rather long.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.40 – MACD crossover strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon](img/Figure_9.40_B15029.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
- en: Figure 9.40 – MACD crossover strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly** **returns** table confirms that we have traded across most months.
    The **Annual returns** chart indicates that the most profitable year was 2017\.
    The **Distribution of monthly returns** chart shows a slight negative skew and
    large kurtosis.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: The MACD crossover strategy is an effective strategy in trending markets and
    can be significantly improved by raising the entry/exit rules.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
- en: RSI and MACD strategies
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this strategy, we combine the RSI and MACD strategies and own the stock if
    both RSI and MACD criteria provide a signal to buy.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
- en: 'Using multiple criteria provides a more complete view of the market (note that
    we generalize the RSI threshold values to 50):'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The outputs are as follows:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.41 – RSI and MACD strategies; summary return and risk statistics](img/Figure_9.41_B15029.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
- en: Figure 9.41 – RSI and MACD strategies; summary return and risk statistics
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
- en: The high stability value, with a high tail ratio and excellent Sharpe ratio,
    as well as a low maximum drawdown, indicates that the strategy is excellent.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.42 – RSI and MACD strategies; worst five drawdown periods](img/Figure_9.42_B15029.jpg)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
- en: Figure 9.42 – RSI and MACD strategies; worst five drawdown periods
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: We see that the worst drawdown periods were short – less than 4 months – with
    the worst net drawdown of -10.36%.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.43 – RSI and MACD strategies; cumulative returns over the investment
    horizon](img/Figure_9.43_B15029.jpg)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
- en: Figure 9.43 – RSI and MACD strategies; cumulative returns over the investment
    horizon
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: The high stability value is favorable. Notice the horizontal lines in the chart;
    these indicate that we have not traded.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.44 – RSI and MACD strategies; returns over the investment horizon](img/Figure_9.44_B15029.jpg)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
- en: Figure 9.44 – RSI and MACD strategies; returns over the investment horizon
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: The **Returns** chart shows that when we traded, the positive returns outweighed
    the negative ones.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '**收益**图表显示，当我们进行交易时，正收益超过负收益。'
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**滚动波动率**图表：
- en: '![Figure 9.45 – RSI and MACD strategies; 6-month rolling volatility over the
    investment horizon](img/Figure_9.45_B15029.jpg)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.45 – RSI 和 MACD 策略；投资期内 6 个月滚动波动率](img/Figure_9.45_B15029.jpg)'
- en: Figure 9.45 – RSI and MACD strategies; 6-month rolling volatility over the investment
    horizon
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.45 – RSI 和 MACD 策略；投资期内 6 个月滚动波动率
- en: The rolling volatility has been decreasing over time and has been relatively
    low.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动波动率随时间递减，且相对较低。
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**滚动夏普比率**图表：
- en: '![Figure 9.46 – RSI and MACD strategies; 6-month rolling Sharpe ratio over
    the investment horizon](img/Figure_9.46_B15029.jpg)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.46 – RSI 和 MACD 策略；投资期内 6 个月滚动夏普比率](img/Figure_9.46_B15029.jpg)'
- en: Figure 9.46 – RSI and MACD strategies; 6-month rolling Sharpe ratio over the
    investment horizon
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.46 – RSI 和 MACD 策略；投资期内 6 个月滚动夏普比率
- en: The maximum rolling Sharpe ratio was over 3, with a minimum of below -2 and
    an average above 1.0 indicative of a very good result.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 最大滚动夏普比率超过 3，最小值低于 -2，平均值超过 1.0，表明结果非常好。
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**前五个最差回撤期**图表：
- en: '![Figure 9.47 – RSI and MACD strategies; top five drawdown periods over the
    investment horizon](img/Figure_9.47_B15029.jpg)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.47 – RSI 和 MACD 策略；投资期内前五个回撤期](img/Figure_9.47_B15029.jpg)'
- en: Figure 9.47 – RSI and MACD strategies; top five drawdown periods over the investment
    horizon
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.47 – RSI 和 MACD 策略；投资期内前五个回撤期
- en: We see that the drawdown periods were short and not significant.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到回撤期较短且不显著。
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**月度收益率**、**年度收益率**和**月度收益分布**图表：
- en: '![Figure 9.48 – RSI and MACD strategies; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon](img/Figure_9.48_B15029.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.48 – RSI 和 MACD 策略；月度收益率、年度收益率和月度收益分布；投资期内](img/Figure_9.48_B15029.jpg)'
- en: Figure 9.48 – RSI and MACD strategies; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.48 – RSI 和 MACD 策略；月度收益率、年度收益率和月度收益分布；投资期内
- en: The **Monthly returns** table confirms we have not traded in most months. However,
    according to the **Annual returns** chart, when we did trade, it was hugely profitable.
    The **Distribution of monthly returns** chart is positive, with high kurtosis.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '**月度收益率**表格证实我们大多数月份没有进行交易。然而，根据**年度收益率**图表，在我们进行交易时，利润非常可观。**月度收益分布**图表呈正态分布，峰度较高。'
- en: The RSI and MACD strategy, as a combination of two strategies, demonstrates
    excellent performance, with a Sharpe ratio of 1.27 and a maximum drawdown of -10.4%.
    Notice that it does not trigger any trading in some months.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: RSI 和 MACD 策略作为两种策略的组合，表现出优异的性能，夏普比率为 1.27，最大回撤为 -10.4%。需要注意的是，它在一些月份内没有触发任何交易。
- en: Triple exponential average strategy
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 三重指数平均线策略
- en: 'The **Triple Exponential Average** (**TRIX**) indicator is an oscillator oscillating
    around the zero line. A positive value indicates an overbought market, whereas
    a negative value is indicative of an oversold market:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '**三重指数平均线**（**TRIX**）指标是围绕零线振荡的振荡器。正值表示市场超买，而负值表明市场超卖：'
- en: '[PRE7]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The outputs are as follows:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.49 – TRIX strategy; summary return and risk statistics](img/Figure_9.49_B15029.jpg)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.49 – TRIX 策略；摘要收益和风险统计](img/Figure_9.49_B15029.jpg)'
- en: Figure 9.49 – TRIX strategy; summary return and risk statistics
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.49 – TRIX 策略；摘要收益和风险统计
- en: The high tail ratio with an above average stability suggests, in general, a
    profitable strategy.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 高尾部比率和高于平均水平的稳定性表明，总体上是一种盈利策略。
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是最差的五个回撤期图表：
- en: '![Figure 9.50 – TRIX strategy; worst five drawdown periods](img/Figure_9.50_B15029.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.50 – TRIX 策略；前五个最差回撤期](img/Figure_9.50_B15029.jpg)'
- en: Figure 9.50 – TRIX strategy; worst five drawdown periods
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.50 – TRIX 策略；前五个最差回撤期
- en: The second worst drawdown period was over a year. The worst net drawdown was
    -15.57%.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 第二最差的回撤期长达一年。最差净回撤为 -15.57%。
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**累积收益率**图表：
- en: '![Figure 9.51 – TRIX strategy; cumulative returns over the investment horizon](img/Figure_9.51_B15029.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
- en: Figure 9.51 – TRIX strategy; cumulative returns over the investment horizon
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
- en: The **Cumulative returns** chart indicates that we have not traded in many months
    (the horizontal line) and that there is a long-term positive trend, as confirmed
    by the high stability value.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.52 – TRIX strategy; returns over the investment horizon](img/Figure_9.52_B15029.jpg)'
  id: totrans-283
  prefs: []
  type: TYPE_IMG
- en: Figure 9.52 – TRIX strategy; returns over the investment horizon
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
- en: This chart suggests that when we traded, we were more likely to reach a positive
    return.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.53 – TRIX strategy; 6-month rolling volatility over the investment
    horizon](img/Figure_9.53_B15029.jpg)'
  id: totrans-287
  prefs: []
  type: TYPE_IMG
- en: Figure 9.53 – TRIX strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling volatility** chart shows that the rolling volatility has been
    decreasing with time, although the maximum volatility has been rather high.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.54 – TRIX strategy; 6-month rolling Sharpe ratio over the investment
    horizon](img/Figure_9.54_B15029.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
- en: Figure 9.54 – TRIX strategy; 6-month rolling Sharpe ratio over the investment
    horizon
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
- en: The rolling Sharpe ratio has been more likely to be positive than negative,
    with its maximum value in the region of 3 and a minimum value slightly below -1.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the top five drawdown periods chart:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.55 – TRIX strategy; top five drawdown periods over the investment
    horizon](img/Figure_9.55_B15029.jpg)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
- en: Figure 9.55 – TRIX strategy; top five drawdown periods over the investment horizon
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
- en: The top five drawdown periods confirm that the worst drawdown periods have been
    long.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.56 – TRIX strategy; monthly returns, annual returns, and the distribution
    of monthly returns over the investment horizon](img/Figure_9.56_B15029.jpg)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
- en: Figure 9.56 – TRIX strategy; monthly returns, annual returns, and the distribution
    of monthly returns over the investment horizon
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table confirms that we have not traded in many months.
    The **Annual returns** chart shows that the maximum return was in the year 2015\.
    The **Distribution of monthly returns** chart shows a very slightly positive skew
    with a somewhat large kurtosis.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: The TRIX strategy's performance for some stocks, such as Apple, is very bad
    over the given time frame. For other stocks such as Microsoft, included in the
    preceding report, performance is excellent for certain years.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
- en: Williams R% strategy
  id: totrans-303
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This strategy was developed by Larry Williams, and the William R% oscillates
    from 0 to -100\. The `stockstats` library has implemented the values from 0 to
    +100.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
- en: The values above -20 indicate that the security has been overbought, while values
    below -80 indicate that the security has been oversold.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
- en: 'This strategy is hugely successful for Microsoft''s stock, while not so much
    for Apple''s stock:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The outputs are as follows:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.57 – Williams R% strategy; summary return and risk statistics](img/Figure_9.57_B15029.jpg)'
  id: totrans-309
  prefs: []
  type: TYPE_IMG
- en: Figure 9.57 – Williams R% strategy; summary return and risk statistics
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
- en: The summary statistics show an excellent strategy – high stability confirms
    consistency in the returns, with a large tail ratio, a very low maximum drawdown,
    and a solid Sharpe ratio.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.58 – Williams R% strategy; worst five drawdown periods](img/Figure_9.58_B15029.jpg)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
- en: Figure 9.58 – Williams R% strategy; worst five drawdown periods
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
- en: Apart from the worst drawdown period lasting about 3 months with a net drawdown
    of -10%, the other periods were insignificant in both duration and magnitude.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.59 – Williams R% strategy; cumulative returns over the investment
    horizon](img/Figure_9.59_B15029.jpg)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
- en: Figure 9.59 – Williams R% strategy; cumulative returns over the investment horizon
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
- en: This chart confirms the high stability value of the strategy – the cumulative
    returns are growing at a steady rate.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.60 – Williams R% strategy; returns over the investment horizon](img/Figure_9.60_B15029.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
- en: Figure 9.60 – Williams R% strategy; returns over the investment horizon
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
- en: The **Returns** chart indicates that whenever we traded, it was more profitable
    than not.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.61 – Williams R% strategy; 6-month rolling volatility over the investment
    horizon](img/Figure_9.61_B15029.jpg)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
- en: Figure 9.61 – Williams R% strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling volatility** chart shows a decreasing value of rolling volatility
    over time.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.62 – Williams R% strategy; 6-month rolling Sharpe ratio over the
    investment horizon](img/Figure_9.62_B15029.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
- en: Figure 9.62 – Williams R% strategy; 6-month rolling Sharpe ratio over the investment
    horizon
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling Sharpe ratio** chart confirms that the Sharpe ratio has been positive
    over the trading horizon, with a maximum value of 3.0.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the top five drawdown periods chart:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.63 – Williams R% strategy; top five drawdown periods over the investment
    horizon](img/Figure_9.63_B15029.jpg)'
  id: totrans-333
  prefs: []
  type: TYPE_IMG
- en: Figure 9.63 – Williams R% strategy; top five drawdown periods over the investment
    horizon
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
- en: The **Top 5 drawdown periods** chart shows that apart from one period, the other
    worst drawdown periods were not significant.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.64 – Williams R% strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon](img/Figure_9.64_B15029.jpg)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
- en: Figure 9.64 – Williams R% strategy; monthly returns, annual returns, and the
    distribution of monthly returns over the investment horizon
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table suggests that while we have not traded in every
    month, whenever we did trade, it was largely profitable. The **Annual returns**
    chart confirms this. The **Distribution of monthly returns** chart confirms a
    positive skew with a large kurtosis.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
- en: The Williams R% strategy is a highly performant strategy for the Microsoft stock
    with a Sharpe ratio of 1.53 and a maximum drawdown of only -10% over the given
    time frame.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
- en: Learning mean-reversion strategies
  id: totrans-341
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Mean-reversion strategies are based on the assumption that some statistics will
    revert to their long-term mean values.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
- en: Bollinger band strategy
  id: totrans-343
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Bollinger band strategy is based on identifying periods of short-term volatility.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: 'It depends on three lines:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: '*The middle band line* is the simple moving average, usually 20-50 days.'
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*The upper band* is the 2 standard deviations above the middle base line.'
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*The lower band* is the 2 standard deviations below the middle base line.'
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'One way of creating trading signals from Bollinger bands is to define the overbought
    and oversold market state:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: The market is overbought when the price of the financial asset rises above the
    upper band and so is due for a pullback.
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The market is oversold when the price of the financial asset drops below the
    lower band and so is due to bounce back.
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'This is a mean-reversion strategy, meaning that long term, the price should
    remain within the lower and upper bands. It works best for low-volatility stocks:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The outputs are as follows:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.65 – Bollinger band strategy; summary return and risk statistics](img/Figure_9.65_B15029.jpg)'
  id: totrans-355
  prefs: []
  type: TYPE_IMG
- en: Figure 9.65 – Bollinger band strategy; summary return and risk statistics
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: The summary statistics do show that the stability is solid, with the tail ratio
    favorable. However, the max drawdown is a substantial -27.3%.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.66 – Bollinger band strategy; worst five drawdown periods](img/Figure_9.66_B15029.jpg)'
  id: totrans-359
  prefs: []
  type: TYPE_IMG
- en: Figure 9.66 – Bollinger band strategy; worst five drawdown periods
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
- en: The duration of the worst drawdown periods is substantial. Maybe we should tweak
    the entry/exit rules to avoid entering the trades in these periods.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.67 – Bollinger band strategy; cumulative returns over the investment
    horizon](img/Figure_9.67_B15029.jpg)'
  id: totrans-363
  prefs: []
  type: TYPE_IMG
- en: Figure 9.67 – Bollinger band strategy; cumulative returns over the investment
    horizon
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
- en: The **Cumulative returns** chart show we have not traded for 10 years and then
    we have experienced a consistent positive trend in cumulative returns.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.68 – Bollinger band strategy; returns over the investment horizon](img/Figure_9.68_B15029.jpg)'
  id: totrans-367
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.68 – 布林带策略；投资视角下回报率](img/Figure_9.68_B15029.jpg)'
- en: Figure 9.68 – Bollinger band strategy; returns over the investment horizon
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.68 – 布林带策略；投资视角下回报率
- en: The **Returns** chart shows that the positive returns have outweighed the negative
    ones.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '**回报** 图表显示正回报超过了负回报。'
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **滚动波动率** 图表：
- en: '![Figure 9.69 – Bollinger band strategy; 6-month rolling volatility over the
    investment horizon](img/Figure_9.69_B15029.jpg)'
  id: totrans-371
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.69 – 布林带策略；投资视角下 6 个月滚动波动率](img/Figure_9.69_B15029.jpg)'
- en: Figure 9.69 – Bollinger band strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.69 – 布林带策略；投资视角下 6 个月滚动波动率
- en: The **Rolling volatility** chart suggests that the strategy has substantial
    volatility.
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '**滚动波动率** 图表表明该策略具有相当大的波动性。'
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **滚动夏普比率** 图表：
- en: '![Figure 9.70 – Bollinger band strategy; 6-month rolling Sharpe ratio over
    the investment horizon](img/Figure_9.70_B15029.jpg)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.70 – 布林带策略；投资视角下 6 个月滚动夏普比率](img/Figure_9.70_B15029.jpg)'
- en: Figure 9.70 – Bollinger band strategy; 6-month rolling Sharpe ratio over the
    investment horizon
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.70 – 布林带策略；投资视角下 6 个月滚动夏普比率
- en: The **Rolling Sharpe ratio** chart shows that the rolling Sharpe ratio fluctuates
    widely with a max value of close to 4 and a minimum below -2, but on average it
    is positive.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: '**滚动夏普比率** 图表显示，滚动夏普比率波动范围很大，最大值接近 4，最小值低于 -2，但平均值为正。'
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **前五次最大回撤期间** 图表：
- en: '![Figure 9.71 – Bollinger band strategy; top five drawdown periods over the
    investment horizon](img/Figure_9.71_B15029.jpg)'
  id: totrans-379
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.71 – 布林带策略；投资视角下前五次最大回撤期间](img/Figure_9.71_B15029.jpg)'
- en: Figure 9.71 – Bollinger band strategy; top five drawdown periods over the investment
    horizon
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.71 – 布林带策略；投资视角下前五次最大回撤期间
- en: The **Top 5 drawdown periods** chart confirms the drawdown periods duration
    has been substantial.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: '**前五次最大回撤期间** 图表证实回撤期间的持续时间相当长。'
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **月度回报**、**年度回报** 和 **月度回报分布** 图表：
- en: '![Figure 9.72 – Bollinger band strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon](img/Figure_9.72_B15029.jpg)'
  id: totrans-383
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.72 – 布林带策略；投资视角下月度回报、年度回报和月度回报分布](img/Figure_9.72_B15029.jpg)'
- en: Figure 9.72 – Bollinger band strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.72 – 布林带策略；投资视角下月度回报、年度回报和月度回报分布
- en: The **Monthly returns** table shows that there has been no trade from 2000 to
    2010 due to our entry/exit rules. The **Annual returns** chart, however, shows
    that whenever a trade did happen, it was profitable. The **Distribution of monthly
    returns** chart shows slight negative skew with enormous kurtosis.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: '**月度回报** 表明，由于我们的进出规则，从 2000 年到 2010 年没有进行任何交易。然而，**年度回报** 图表显示，每次交易发生时都是盈利的。**月度回报分布**
    图表显示轻微的负偏态和巨大的峰态。'
- en: The Bollinger band strategy is a suitable strategy for oscillating stocks. Here,
    we applied it to the stock of **Dollar General** (**DG**) Corp.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 布林带策略是适用于波动较大的股票的策略。在这里，我们将其应用于**Dollar General**（**DG**）公司的股票。
- en: Pairs trading strategy
  id: totrans-387
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 对冲交易策略
- en: This strategy became very popular some time ago and ever since, has been overused,
    so is barely profitable nowadays.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: '这种策略在一段时间前变得非常流行，从那时起，就被过度使用，因此现在几乎没有盈利。 '
- en: This strategy involves finding pairs of stocks that are moving closely together,
    or are highly co-integrated. Then, at the same time, we place a `BUY` order for
    one stock and a `SELL` order for the other stock, assuming their relationship
    will revert back. There are a wide range of varieties of tweaks in terms of how
    this algorithm is implemented – are the prices log prices? Do we trade only if
    the relationships are very strong?
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略涉及找到移动密切的股票对，或者高度协整的股票对。然后，同时为一只股票下达`买入`订单，为另一只股票下达`卖出`订单，假设它们之间的关系将恢复。在算法的实施方面，有各种各样的调整方法
    - 价格是否是对数价格？只有关系非常紧密时我们才交易吗？
- en: 'For simplicity, we have chosen the **Pepsi Cola** (**PEP**) and **Coca-Cola**
    (**KO**) stocks. Another choice could be **Citibank** (**C**) and **Goldman Sachs**
    (**GS**). We have two conditions: first, the p-value of cointegration has to be
    very strong, and then the z-score has to be very strong:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简单起见，我们选择了**百事可乐**（**PEP**）和**可口可乐**（**KO**）股票。另一个选择可以是**花旗银行**（**C**）和**高盛**（**GS**）。我们有两个条件：首先，协整的p值必须非常强大，然后z得分必须非常强大：
- en: '[PRE10]'
  id: totrans-391
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The outputs are as follows:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.73 – Pairs trading strategy; summary return and risk statistics](img/Figure_9.73_B15029.jpg)'
  id: totrans-393
  prefs: []
  type: TYPE_IMG
  zh: '![图9.73 – 对冲交易策略；摘要回报和风险统计](img/Figure_9.73_B15029.jpg)'
- en: Figure 9.73 – Pairs trading strategy; summary return and risk statistics
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.73 – 对冲交易策略；摘要回报和风险统计
- en: While the Sharpe ratio is very low, the max drawdown is also very low. The stability
    is average.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然夏普比率非常低，但最大回撤也非常低。稳定性为中等。
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是最差的五个回撤期图：
- en: '![Figure 9.74 – Pairs trading strategy; worst five drawdown periods](img/Figure_9.74_B15029.jpg)'
  id: totrans-397
  prefs: []
  type: TYPE_IMG
  zh: '![图9.74 – 对冲交易策略；最差的五个回撤期](img/Figure_9.74_B15029.jpg)'
- en: Figure 9.74 – Pairs trading strategy; worst five drawdown periods
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.74 – 对冲交易策略；最差的五个回撤期
- en: The worst five drawdown periods table shows that the max drawdown was negligible
    and very short.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 最差的五个回撤期表格显示，最大回撤微不足道且非常短暂。
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**累积回报**图：
- en: '![Figure 9.75 – Pairs trading strategy; cumulative returns over the investment
    horizon](img/Figure_9.75_B15029.jpg)'
  id: totrans-401
  prefs: []
  type: TYPE_IMG
  zh: '![图9.75 – 对冲交易策略；投资期间内的累积回报](img/Figure_9.75_B15029.jpg)'
- en: Figure 9.75 – Pairs trading strategy; cumulative returns over the investment
    horizon
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.75 – 对冲交易策略；投资期间内的累积回报
- en: The **Cumulative returns** chart indicates that we have not traded for 2 years
    and then were hugely profitable until the last period.
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: '**累积回报**图表明，我们已经没有交易了两年，然后在最后一个期间获利颇丰。'
- en: 'The following is the **Returns** chart:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**回报**图：
- en: '![Figure 9.76 – Pairs trading strategy; returns over the investment horizon](img/Figure_9.76_B15029.jpg)'
  id: totrans-405
  prefs: []
  type: TYPE_IMG
  zh: '![图9.76 – 对冲交易策略；投资期间内的回报](img/Figure_9.76_B15029.jpg)'
- en: Figure 9.76 – Pairs trading strategy; returns over the investment horizon
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.76 – 对冲交易策略；投资期间内的回报
- en: The **Returns** chart shows that the returns have been more positive than negative
    for the trading period except for the last period.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: '**回报**图显示，除了最后一个期间外，交易期间的回报都是正的。'
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**滚动波动率**图：
- en: '![Figure 9.77 – Pairs trading strategy; 6-month rolling volatility over the
    investment horizon](img/Figure_9.77_B15029.jpg)'
  id: totrans-409
  prefs: []
  type: TYPE_IMG
  zh: '![图9.77 – 对冲交易策略；投资期间内6个月滚动波动率](img/Figure_9.77_B15029.jpg)'
- en: Figure 9.77 – Pairs trading strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.77 – 对冲交易策略；投资期间内6个月滚动波动率
- en: The **Rolling volatility** chart shows an ever-increasing volatility though
    the volatility magnitude is not significant.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: '**滚动波动率**图显示，虽然波动率的幅度不显著，但波动率仍在不断增加。'
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**滚动夏普比率**图：
- en: '![Figure 9.78 – Pairs trading strategy; 6-month rolling Sharpe ratio over the
    investment horizon](img/Figure_9.78_B15029.jpg)'
  id: totrans-413
  prefs: []
  type: TYPE_IMG
  zh: '![图9.78 – 对冲交易策略；投资期间内6个月滚动夏普比率](img/Figure_9.78_B15029.jpg)'
- en: Figure 9.78 – Pairs trading strategy; 6-month rolling Sharpe ratio over the
    investment horizon
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.78 – 对冲交易策略；投资期间内6个月滚动夏普比率
- en: The **Rolling Sharpe ratio** chart shows that if we improved our exit rule and
    exited earlier, our Sharpe ratio would higher than 1.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: '**滚动夏普比率**图显示，如果我们改进我们的退出规则并提前退出，我们的夏普比率将高于1。'
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**前5个回撤期**图：
- en: '![Figure 9.79 – Pairs trading strategy; top five drawdown periods over the
    investment horizon](img/Figure_9.79_B15029.jpg)'
  id: totrans-417
  prefs: []
  type: TYPE_IMG
  zh: '![图9.79 – 对冲交易策略；投资期间内前五个回撤期](img/Figure_9.79_B15029.jpg)'
- en: Figure 9.79 – Pairs trading strategy; top five drawdown periods over the investment
    horizon
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.79 – 对冲交易策略；投资期间内前五个回撤期
- en: The **Top 5 drawdown periods** chart tells us the same story – the last period
    was the cause of why this backtesting result is not as successful as it could
    have been.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: '**前5个回撤期**图告诉我们同样的故事 – 最后一个期间是为什么这次回测结果并不像它本来可能那样成功的原因。'
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是**月度回报**，**年度回报**和**月度回报分布**图：
- en: '![Figure 9.80 – Pairs trading strategy; monthly returns, annual returns, and
    the distribution of monthly returns over the investment horizon](img/Figure_9.80_B15029.jpg)'
  id: totrans-421
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.80 – 成对交易策略；月收益、年收益和投资周期内月收益分布](img/Figure_9.80_B15029.jpg)'
- en: Figure 9.80 – Pairs trading strategy; monthly returns, annual returns, and the
    distribution of monthly returns over the investment horizon
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.80 – 成对交易策略；月收益、年收益和投资周期内月收益分布
- en: The **Monthly returns** table confirms we have not traded until the year of
    2017\. The **Annual returns** chart shows that the trading in 2017 was successful
    and the **Distribution of monthly returns** chart shows a slightly negatively
    skewed chart with small kurtosis.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: '**月收益** 表格证实我们直到 2017 年才开始交易。**年收益** 图表显示了 2017 年的交易是成功的，而**月收益分布** 图表显示了一个略微负偏斜的图表，具有小的峰度。'
- en: The pairs trading strategy has been overused over the last decade, and so is
    less profitable. One simple way of identifying the pair is to look for competitors
    – in this example, PepsiCo and the Coca-Cola Corporation.
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的十年中，成对交易策略已经被过度使用，因此利润较少。识别成对的一种简单方法是寻找竞争对手 —— 在这个例子中，是百事可乐公司和可口可乐公司。
- en: Learning mathematical model-based strategies
  id: totrans-425
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 学习基于数学模型的策略
- en: We will now look at the various mathematical model-based strategies in the following
    sections.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将在以下部分中看各种基于数学模型的策略。
- en: Minimization of the portfolio volatility strategy with monthly trading
  id: totrans-427
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 每月交易的组合波动率最小化策略
- en: The objective of this strategy is to minimize portfolio volatility. It has been
    inspired by [https://github.com/letianzj/QuantResearch/tree/master/backtest](https://github.com/letianzj/QuantResearch/tree/master/backtest).
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略的目标是最小化组合波动率。它受到了[https://github.com/letianzj/QuantResearch/tree/master/backtest](https://github.com/letianzj/QuantResearch/tree/master/backtest)的启发。
- en: In the following example, the portfolio consists of all stocks in the *Dow Jones
    Industrial Average* index.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，投资组合包括 *道琼斯工业平均指数* 中的所有股票。
- en: 'The key success factors of the strategy are the following:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 该策略的关键成功因素如下：
- en: The stock universe – perhaps a portfolio of global index ETFs would fare better.
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 股票范围 —— 或许全球指数 ETF 组合会更好。
- en: The rolling window – we go back 200 days.
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 滚动窗口 —— 我们回溯 200 天。
- en: The frequency of trades – the following algorithm uses monthly trading – notice
    the construct.
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易频率 —— 以下算法使用每月交易 —— 注意构造。
- en: 'The code is as follows:'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 代码如下：
- en: '[PRE11]'
  id: totrans-435
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The outputs are as follows:'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.81 – Minimization of the portfolio volatility strategy; summary
    return and risk statistics](img/Figure_9.81_B15029.jpg)'
  id: totrans-437
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.81 – 组合波动率最小化策略；摘要回报和风险统计](img/Figure_9.81_B15029.jpg)'
- en: Figure 9.81 – Minimization of the portfolio volatility strategy; summary return
    and risk statistics
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.81 – 组合波动率最小化策略；摘要回报和风险统计
- en: The results are positive – see the strong stability of `0.91` while the tail
    ratio is just over 1.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是积极的 —— 见到强稳定性为 `0.91`，而尾比率仅略高于1。
- en: Notice the results are including the transaction costs and they would be much
    worse if we traded daily. Always experiment with the optimal trading frequency.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 注意结果包括交易成本，如果我们每日交易，结果会更糟。始终尝试最佳交易频率。
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是最差的五个回撤期图表：
- en: '![Figure 9.82 – Minimization of the portfolio volatility strategy; worst five
    drawdown periods](img/Figure_9.82_B15029.jpg)'
  id: totrans-442
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.82 – 组合波动率最小化策略；最差的五个回撤期](img/Figure_9.82_B15029.jpg)'
- en: Figure 9.82 – Minimization of the portfolio volatility strategy; worst five
    drawdown periods
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.82 – 组合波动率最小化策略；最差的五个回撤期
- en: The worst drawdown period was over a year with the net drawdown of -18.22%.
    The magnitude of the net drawdown for the other worst periods is below -10%.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 最差的回撤期持续了一年，净回撤为 -18.22%。其他最差期间的净回撤幅度低于 -10%。
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 **累积收益** 图表：
- en: '![Figure 9.83 – Minimization of the portfolio volatility strategy; cumulative
    returns over the investment horizon](img/Figure_9.83_B15029.jpg)'
  id: totrans-446
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.83 – 组合波动率最小化策略；投资周期内的累积收益](img/Figure_9.83_B15029.jpg)'
- en: Figure 9.83 – Minimization of the portfolio volatility strategy; cumulative
    returns over the investment horizon
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.83 – 组合波动率最小化策略；投资周期内的累积收益
- en: We see that the cumulative returns are consistently growing, which is expected
    given the stability of 0.91.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 我们看到累积收益持续增长，这是预期的，鉴于稳定性为 0.91。
- en: 'The following is the **Returns** chart:'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.84 – Minimization of the portfolio volatility strategy; returns
    over the investment horizon](img/Figure_9.84_B15029.jpg)'
  id: totrans-450
  prefs: []
  type: TYPE_IMG
- en: Figure 9.84 – Minimization of the portfolio volatility strategy; returns over
    the investment horizon
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
- en: The `-0.3` to `0.04`.
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.85 – Minimization of the portfolio volatility strategy; 6-month
    rolling volatility over the investment horizon](img/Figure_9.85_B15029.jpg)'
  id: totrans-454
  prefs: []
  type: TYPE_IMG
- en: Figure 9.85 – Minimization of the portfolio volatility strategy; 6-month rolling
    volatility over the investment horizon
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
- en: The `0.18` and that the rolling volatility was cycling around `0.1`.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.86 – Minimization of the portfolio volatility strategy; 6-month
    rolling Sharpe ratio over the investment horizon](img/Figure_9.86_B15029.jpg)'
  id: totrans-458
  prefs: []
  type: TYPE_IMG
- en: Figure 9.86 – Minimization of the portfolio volatility strategy; 6-month rolling
    Sharpe ratio over the investment horizon
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
- en: The `5.0` with the minimum slightly above `-3.0`.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.87 – Minimization of the portfolio volatility strategy; top five
    drawdown periods over the investment horizon](img/Figure_9.87_B15029.jpg)'
  id: totrans-462
  prefs: []
  type: TYPE_IMG
- en: Figure 9.87 – Minimization of the portfolio volatility strategy; top five drawdown
    periods over the investment horizon
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
- en: The **Top 5 drawdown periods** chart confirms that if we avoided the worst drawdown
    period by smarter choice of entry/exit rules, we would have dramatically improved
    the strategy's performance.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.88 – Minimization of the portfolio volatility strategy; monthly
    returns, annual returns, and the distribution of monthly returns over the investment
    horizon](img/Figure_9.88_B15029.jpg)'
  id: totrans-466
  prefs: []
  type: TYPE_IMG
- en: Figure 9.88 – Minimization of the portfolio volatility strategy; monthly returns,
    annual returns, and the distribution of monthly returns over the investment horizon
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table illustrates that we have not traded for the first
    few months of 2010\. The **Annual returns** chart shows that the strategy has
    been profitable every year, but 2015\. The **Distribution of monthly returns**
    chart draws a slightly negatively skewed strategy with small kurtosis.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
- en: Minimization of the portfolio volatility strategy is usually only profitable
    for non-daily trading. In this example, we used monthly trading and achieved a
    Sharpe ratio of 0.93, with a maximum drawdown of -18.2%.
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
- en: Maximum Sharpe ratio strategy with monthly trading
  id: totrans-470
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This strategy is based on ideas contained in Harry Markowitz's 1952 paper *Portfolio
    Selection*. In brief, the best portfolios lie on the *efficient frontier* – a
    set of portfolios with the highest expected portfolio return for each level of
    risk.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
- en: In this strategy, for the given stocks, we choose their weights so that they
    maximize the portfolio's expected Sharpe ratio – such a portfolio lies on the
    efficient frontier.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
- en: 'We use the `PyPortfolioOpt` Python library. To install it, either use the book''s
    `conda` environment or the following command:'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-474
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The outputs are as follows:'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.89 – Maximum Sharpe ratio strategy; summary return and risk statistics](img/Figure_9.89_B15029.jpg)'
  id: totrans-476
  prefs: []
  type: TYPE_IMG
- en: Figure 9.89 – Maximum Sharpe ratio strategy; summary return and risk statistics
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
- en: The strategy shows solid stability of `0.76` with the tail ratio close to 1
    (`1.01`). However, the annual volatility of this strategy is very high (`17.0%`).
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.90 – Maximum Sharpe ratio strategy; worst five drawdown periods](img/Figure_9.90_B15029.jpg)'
  id: totrans-480
  prefs: []
  type: TYPE_IMG
- en: Figure 9.90 – Maximum Sharpe ratio strategy; worst five drawdown periods
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
- en: The worst drawdown period lasted over 2 years and had a magnitude of net drawdown
    of -21.14%. If we tweaked the entry/exit rules to avoid this drawdown period,
    the results would have been dramatically better.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.91 – Maximum Sharpe ratio strategy; cumulative returns over the
    investment horizon](img/Figure_9.91_B15029.jpg)'
  id: totrans-484
  prefs: []
  type: TYPE_IMG
- en: Figure 9.91 – Maximum Sharpe ratio strategy; cumulative returns over the investment
    horizon
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
- en: The **Cumulative returns** chart shows positive stability.
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.92 – Maximum Sharpe ratio strategy; returns over the investment
    horizon](img/Figure_9.92_B15029.jpg)'
  id: totrans-488
  prefs: []
  type: TYPE_IMG
- en: Figure 9.92 – Maximum Sharpe ratio strategy; returns over the investment horizon
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
- en: The **Returns** chart show that the strategy was highly successful at the very
    beginning of the investment horizon.
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.93 – Maximum Sharpe ratio strategy; 6-month rolling volatility over
    the investment horizon](img/Figure_9.93_B15029.jpg)'
  id: totrans-492
  prefs: []
  type: TYPE_IMG
- en: Figure 9.93 – Maximum Sharpe ratio strategy; 6-month rolling volatility over
    the investment horizon
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling volatility** chart shows that the rolling volatility has subsidized
    with time.
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.94 – Maximum Sharpe ratio strategy; 6-month rolling Sharpe ratio
    over the investment horizon](img/Figure_9.94_B15029.jpg)'
  id: totrans-496
  prefs: []
  type: TYPE_IMG
- en: Figure 9.94 – Maximum Sharpe ratio strategy; 6-month rolling Sharpe ratio over
    the investment horizon
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
- en: The `5.0` while its minimum value was above `-3.0`.
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.95 – Maximum Sharpe ratio strategy; top five drawdown periods over
    the investment horizon](img/Figure_9.95_B15029.jpg)'
  id: totrans-500
  prefs: []
  type: TYPE_IMG
- en: Figure 9.95 – Maximum Sharpe ratio strategy; top five drawdown periods over
    the investment horizon
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
- en: The **Top 5 drawdown periods** chart shows that the maximum drawdown periods
    have been long.
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.96 – Maximum Sharpe ratio strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon](img/Figure_9.96_B15029.jpg)'
  id: totrans-504
  prefs: []
  type: TYPE_IMG
- en: Figure 9.96 – Maximum Sharpe ratio strategy; monthly returns, annual returns,
    and the distribution of monthly returns over the investment horizon
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table proves that we have traded virtually in every
    month. The **Annual returns** chart shows that the annual returns have been positive
    for every year but 2016\. The **Distribution of monthly returns** chart is positively
    skewed with minor kurtosis.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
- en: The maximum Sharpe ratio strategy is again usually only profitable for non-daily
    trading.
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
- en: Learning time series prediction-based strategies
  id: totrans-508
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Time series prediction-based strategies depend on having a precise estimate
    of stock prices at some time in the future, along with their corresponding confidence
    intervals. A calculation of the estimates is usually very time-consuming.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
- en: The simple trading rule then incorporates the relationship between the last
    known price and the future price, or its lower/upper confidence interval value.
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
- en: More complex trading rules incorporate decisions based on the trend component
    and seasonality components.
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
- en: SARIMAX strategy
  id: totrans-512
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This strategy is based on the most elementary rule: own the stock if the current
    price is lower than the predicted price in 7 days:'
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-514
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The outputs are as follows:'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.97 – SARIMAX strategy; summary return and risk statistics](img/Figure_9.97_B15029.jpg)'
  id: totrans-516
  prefs: []
  type: TYPE_IMG
- en: Figure 9.97 – SARIMAX strategy; summary return and risk statistics
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
- en: Over the trading horizon, the strategy exhibited a high tail ratio of `1.95`
    with a very low stability of `0.25`. The max drawdown of `-7.7%` is excellent.
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.98 – SARIMAX strategy; worst five drawdown periods](img/Figure_9.98_B15029.jpg)'
  id: totrans-520
  prefs: []
  type: TYPE_IMG
- en: Figure 9.98 – SARIMAX strategy; worst five drawdown periods
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
- en: The worst drawdown periods have displayed the magnitude of net drawdown below
    -10%.
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.99 – SARIMAX strategy; cumulative returns over the investment horizon](img/Figure_9.99_B15029.jpg)'
  id: totrans-524
  prefs: []
  type: TYPE_IMG
- en: Figure 9.99 – SARIMAX strategy; cumulative returns over the investment horizon
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
- en: The **Cumulative returns** chart proves that we have traded only in the first
    half of the trading horizon.
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.100 – SARIMAX strategy; returns over the investment horizon](img/Figure_9.100_B15029.jpg)'
  id: totrans-528
  prefs: []
  type: TYPE_IMG
- en: Figure 9.100 – SARIMAX strategy; returns over the investment horizon
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
- en: The **Returns** chart shows that the magnitude of returns swing has been larger
    than with other strategies.
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.101 – SARIMAX strategy; 6-month rolling volatility over the investment
    horizon](img/Figure_9.101_B15029.jpg)'
  id: totrans-532
  prefs: []
  type: TYPE_IMG
- en: Figure 9.101 – SARIMAX strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling volatility** chart shows that the rolling volatility has decreased
    with time.
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.102 – SARIMAX strategy; 6-month rolling Sharpe ratio over the investment
    horizon](img/Figure_9.102_B15029.jpg)'
  id: totrans-536
  prefs: []
  type: TYPE_IMG
- en: Figure 9.102 – SARIMAX strategy; 6-month rolling Sharpe ratio over the investment
    horizon
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling Sharpe ratio** chart shows that the Sharpe ratio in the first
    half of the trading horizon was excellent and then started to decrease.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.103 – SARIMAX strategy; top five drawdown periods over the investment
    horizon](img/Figure_9.103_B15029.jpg)'
  id: totrans-540
  prefs: []
  type: TYPE_IMG
- en: Figure 9.103 – SARIMAX strategy; top five drawdown periods over the investment
    horizon
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
- en: The **Top 5 drawdown periods** chart demonstrates that the worst drawdown period
    was the entire second half of the trading window.
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.104 – Monthly returns, annual returns, and the distribution of monthly
    returns over the investment horizon](img/Figure_9.104_B15029.jpg)'
  id: totrans-544
  prefs: []
  type: TYPE_IMG
- en: Figure 9.104 – Monthly returns, annual returns, and the distribution of monthly
    returns over the investment horizon
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table confirms we have not traded in the second half
    of 2017\. The **Annual returns** chart shows a positive return for 2017 and the
    **Distribution of monthly returns** chart is negatively skewed with large kurtosis.
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
- en: The SARIMAX strategy entry rule has not been triggered over the tested time
    horizon on a frequent basis. Still, it produced a Sharpe ratio of 1.01, with a
    maximum drawdown of -7.7%.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
- en: Prophet strategy
  id: totrans-548
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This strategy is based on the prediction confidence intervals, and so is more
    robust than the previous one. In addition, Prophet predictions are more robust
    to frequent changes than SARIMAX. The backtesting results are all identical, but
    the prediction algorithms are significantly better.
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
- en: 'We only buy the stock if the last price is below the lower value of the confidence
    interval (we anticipate that the stock price will go up) and sell the stock if
    the last price is above the upper value of the predicted confidence interval (we
    anticipate that the stock price will go down):'
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-551
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The outputs are as follows:'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.105 – Prophet strategy; summary return and risk statistics](img/Figure_9.105_B15029.jpg)'
  id: totrans-553
  prefs: []
  type: TYPE_IMG
- en: Figure 9.105 – Prophet strategy; summary return and risk statistics
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
- en: In comparison with the SARIMAX strategy, the Prophet strategy shows far better
    results – tail ratio of `1.37`, Sharpe ratio of `1.22`, and max drawdown of `-8.7%`.
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the worst five drawdown periods chart:'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.106 – Prophet strategy; worst five drawdown periods](img/Figure_9.106_B15029.jpg)'
  id: totrans-557
  prefs: []
  type: TYPE_IMG
- en: Figure 9.106 – Prophet strategy; worst five drawdown periods
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
- en: The worst five drawdown periods confirms that the magnitude of the worst net
    drawdown was below 10%.
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Cumulative returns** chart:'
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.107 – Prophet strategy; cumulative returns over the investment horizon](img/Figure_9.107_B15029.jpg)'
  id: totrans-561
  prefs: []
  type: TYPE_IMG
- en: Figure 9.107 – Prophet strategy; cumulative returns over the investment horizon
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
- en: The **Cumulative returns** chart shows that while we have not traded in certain
    periods of time, the entry/exit rules have been more robust than in the SARIMAX
    strategy – compare both the **Cumulative returns** charts.
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Returns** chart:'
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.108 – Prophet strategy; returns over the investment horizon](img/Figure_9.108_B15029.jpg)'
  id: totrans-565
  prefs: []
  type: TYPE_IMG
- en: Figure 9.108 – Prophet strategy; returns over the investment horizon
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
- en: The **Returns** chart suggests that the positive returns outweighed the negative
    returns.
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling volatility** chart:'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.109 – Prophet strategy; 6-month rolling volatility over the investment
    horizon](img/Figure_9.109_B15029.jpg)'
  id: totrans-569
  prefs: []
  type: TYPE_IMG
- en: Figure 9.109 – Prophet strategy; 6-month rolling volatility over the investment
    horizon
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
- en: The **Rolling volatility** chart shows virtually constant rolling volatility
    – this is the hallmark of the Prophet strategy.
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Rolling Sharpe ratio** chart:'
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.110 – Prophet strategy; 6-month rolling Sharpe ratio over the investment
    horizon](img/Figure_9.110_B15029.jpg)'
  id: totrans-573
  prefs: []
  type: TYPE_IMG
- en: Figure 9.110 – Prophet strategy; 6-month rolling Sharpe ratio over the investment
    horizon
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
- en: The `-.50` and `1.5`.
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
- en: 'The following is the **Top 5 drawdown periods** chart:'
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.111 – Prophet strategy; top five drawdown periods over the investment
    horizon](img/Figure_9.111_B15029.jpg)'
  id: totrans-577
  prefs: []
  type: TYPE_IMG
- en: Figure 9.111 – Prophet strategy; top five drawdown periods over the investment
    horizon
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
- en: The **Top 5 drawdown periods** chart shows that even though the drawdown periods
    were substantial, the algorithm was able to deal with them well.
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the **Monthly returns**, **Annual returns**, and **Distribution
    of monthly returns** charts:'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 9.112 – Prophet strategy; monthly returns, annual returns, and the
    distribution of monthly returns over the investment horizon](img/Figure_9.112_B15029.jpg)'
  id: totrans-581
  prefs: []
  type: TYPE_IMG
- en: Figure 9.112 – Prophet strategy; monthly returns, annual returns, and the distribution
    of monthly returns over the investment horizon
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
- en: The **Monthly returns** table confirms we have traded in every single month,
    with an excellent annual return as confirmed by the **Annual returns** chart.
    The **Distribution of monthly returns** chart is positively skewed with minor
    kurtosis.
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
- en: The Prophet strategy is one of the most robust strategies, quickly adapting
    to market changes. Over the given time period, it produced a Sharpe ratio of 1.22,
    with a maximum drawdown of -8.7.
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-585
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we have learned that an algorithmic trading strategy is defined
    by a model, entry/leave rules, position limits, and further key properties. We
    have demonstrated how easy it is in Zipline and PyFolio to set up a complete backtesting
    and risk analysis/position analysis system, so that you can focus on the development
    of your strategies, rather than wasting your time on the infrastructure.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
- en: Even though the preceding strategies are well published, you can construct highly
    profitable strategies by means of combining them wisely, along with a smart selection
    of the entry and exit rules.
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
- en: Bon voyage!
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL

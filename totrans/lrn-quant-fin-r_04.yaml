- en: Chapter 3. Econometric and Wavelet Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第3章 计量经济学与小波分析
- en: In financial analytics, we need techniques to do predictive modeling for forecasting
    and finding the drivers for different target variables. In this chapter, we will
    discuss types of regression and how we can build a regression model in R for building
    predictive models. Also we will discuss, how we can implement a variable selection
    method and other aspects associated with regression. This chapter will not contain
    theoretical description but will just guide you in how to implement a regression
    model in R in the financial space. Regression analysis can be used for doing forecast
    on cross-sectional data in the financial domain. We will also cover frequency
    analysis of the data, and how transformations such as Fast Fourier, wavelet, Hilbert,
    haar transformations in time, and frequency domains help to remove noise in the
    data.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融分析中，我们需要一些技术来进行预测建模，以进行预测并找出不同目标变量的驱动因素。在本章中，我们将讨论回归类型以及如何在R中构建回归模型来建立预测模型。我们还将讨论如何实现变量选择方法以及回归分析中的其他相关方面。本章不包含理论描述，而是指导你如何在金融领域中使用R实现回归模型。回归分析可以用于对金融领域的横截面数据进行预测。我们还将涵盖数据的频率分析，以及如何通过快速傅里叶变换、波形变换、希尔伯特变换、哈尔变换等时间和频率域中的变换来去除数据中的噪声。
- en: 'This chapter covers the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章包含以下主题：
- en: Simple linear regression
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单线性回归
- en: Multivariate linear regression
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多元线性回归
- en: Multicollinearity
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多重共线性
- en: ANOVA
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）
- en: Feature selection
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特征选择
- en: Stepwise variable selection
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逐步变量选择
- en: Ranking of variables
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 变量排名
- en: Wavelet analysis
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 小波分析
- en: Fast Fourier transformation
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速傅里叶变换
- en: Hilbert transformation
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 希尔伯特变换
- en: Simple linear regression
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简单线性回归
- en: In simple linear regression, we try to predict one variable in terms of a second
    variable called a predictor variable. The variable we are trying to predict is
    called the dependent variable and is denoted by *y,* and the independent variable
    is denoted by *x*. In simple linear regression, we assume a linear relationship
    between the dependent attribute and predictor attribute.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在简单线性回归中，我们试图通过一个第二个变量（称为预测变量）来预测一个变量。我们要预测的变量称为因变量，表示为*y*，而自变量表示为*x*。在简单线性回归中，我们假设因变量和预测变量之间存在线性关系。
- en: 'First we need to plot the data to understand the linear relationship between
    the dependent variable and independent variable. Here our, data consists of two
    variables:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要绘制数据图表，以理解因变量和自变量之间的线性关系。这里，我们的数据包含两个变量：
- en: '`YPrice`: Dependent variable'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`YPrice`：因变量'
- en: '`XPrice`: Predictor variable'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`XPrice`：预测变量'
- en: In this case, we are trying to predict `Yprice` in terms of `XPrice`. `StockXprice`
    is the independent variable and `StockYprice` is the dependent variable. For every
    element of `StockXprice`, there is an element of `StockYprice`, which implies
    one-to-one mapping between elements of `StockXprice` and `StockYprice`.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们试图通过`XPrice`来预测`Yprice`。`StockXprice`是自变量，`StockYprice`是因变量。对于每一个`StockXprice`的元素，都有一个对应的`StockYprice`元素，这意味着`StockXprice`和`StockYprice`之间存在一一映射关系。
- en: 'A few lines of data used for the following analysis are displayed using the
    following code:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 以下几行用于分析的数据通过以下代码显示：
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '|  | `StockYPrice` | `StockXPrice` |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '|  | `StockYPrice` | `StockXPrice` |'
- en: '| 1 | 80.13 | 72.86 |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 80.13 | 72.86 |'
- en: '| 2 | 79.57 | 72.88 |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 79.57 | 72.88 |'
- en: '| 3 | 79.93 | 71.72 |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 79.93 | 71.72 |'
- en: '| 4 | 81.69 | 71.54 |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 81.69 | 71.54 |'
- en: '| 5 | 80.82 | 71 |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 80.82 | 71 |'
- en: '| 6 | 81.07 | 71.78 |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 81.07 | 71.78 |'
- en: Scatter plot
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 散点图
- en: 'First we will plot scatter plot between *y* and *x,* to understand the type
    of linear relationship between *x* and *y*. The following code, when executed,
    gives the following scatter plot:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将绘制*y*和*x*之间的散点图，以理解*x*和*y*之间的线性关系类型。执行以下代码时，得到以下散点图：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Here, our dependent variable is `YPrice` and predictor variable is `Xprice`.
    Please note this example is just for illustration purposes:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们的因变量是`YPrice`，预测变量是`Xprice`。请注意，这个示例仅用于说明目的：
- en: '![Scatter plot](img/00030.jpeg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![散点图](img/00030.jpeg)'
- en: 'Figure 3.1: Scatter plot of two variables'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.1：两个变量的散点图
- en: 'Once we have examined the relationship between the dependent variable and predictor
    variable, we try fit the best straight line through the points which represent
    the predicted *Y* value for all the given predictor variables. A simple linear
    regression is represented by the following equation describing the relationship
    between the dependent and predictor variables:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们检查了因变量与预测变量之间的关系，我们就会尝试通过这些点拟合一条最佳的直线，这些点表示所有给定预测变量的预测 *Y* 值。简单的线性回归用以下方程表示，它描述了因变量与预测变量之间的关系：
- en: '![Scatter plot](img/00031.jpeg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![散点图](img/00031.jpeg)'
- en: Here ![Scatter plot](img/00032.jpeg) and ![Scatter plot](img/00033.jpeg) are
    parameters and ![Scatter plot](img/00034.jpeg) is the error term. ![Scatter plot](img/00032.jpeg) is
    also known as the intercept and ![Scatter plot](img/00033.jpeg) as the coefficient
    of the predictor variable; it is obtained by minimizing the sum of squares of
    the error term ![Scatter plot](img/00034.jpeg). All the statistical software gives
    the option of estimating the coefficients and so does R.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，![散点图](img/00032.jpeg) 和 ![散点图](img/00033.jpeg) 是参数，![散点图](img/00034.jpeg)
    是误差项。![散点图](img/00032.jpeg) 也被称为截距，![散点图](img/00033.jpeg) 是预测变量的系数；它是通过最小化误差项平方和
    ![散点图](img/00034.jpeg) 来获得的。所有统计软件都提供了估计系数的选项，R 也提供该功能。
- en: 'We can fit the linear regression model using the `lm` function in R as shown
    here:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 R 中的 `lm` 函数来拟合线性回归模型，如下所示：
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Here, `Data` is the input data given and `Yprice` and `Xprice` are the dependent
    and predictor variables respectively. Once we have fitted the model, we can extract
    our parameters using the following code:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`Data` 是给定的输入数据，`Yprice` 和 `Xprice` 分别是因变量和预测变量。一旦我们拟合了模型，我们可以使用以下代码提取参数：
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The preceding result gives the value of the intercept and coefficient:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 上述结果给出了截距和系数的值：
- en: '[PRE4]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'So now we can write our model as follows:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 所以现在我们可以按如下方式写出我们的模型：
- en: '[PRE5]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: This can give the predicted value for any given `Xprice`.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以为任何给定的 `Xprice` 提供预测值。
- en: 'Also, we can execute the following code to get the predicted value using the
    fitted linear regression model on any other data, say `OutofSampleData`, by executing
    the following code:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，我们可以执行以下代码，使用拟合的线性回归模型在任何其他数据（例如 `OutofSampleData`）上获得预测值，方法如下：
- en: '[PRE6]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Coefficient of determination
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 决定系数
- en: 'We have fitted our model but now we need to test how good the model is fitting
    to the data. There are a few measures available for it but the main one is the
    coefficient of determination. This is given by the following code:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经拟合了模型，但现在我们需要测试模型拟合数据的效果。为此有几种可用的衡量标准，最主要的是决定系数。通过以下代码可以获得该系数：
- en: '[PRE7]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: By definition, it is a proportion of the variance in the dependent variable
    that is explained by the independent variable and is also known as R2.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 根据定义，它是由自变量解释的因变量方差的比例，也称为 R2。
- en: Significance test
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 显著性检验
- en: Now, we need to examine whether the relationship between the variables in the
    linear regression model is significant or not, at 0.05 significance level.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要检查线性回归模型中变量之间的关系是否显著，显著性水平为 0.05。
- en: 'We execute the following code:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们执行以下代码：
- en: '[PRE8]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'It gives all the relevant statistics of the linear regression model as shown
    here:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 它提供了线性回归模型的所有相关统计信息，如下所示：
- en: '![Significance test](img/00035.jpeg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![显著性检验](img/00035.jpeg)'
- en: 'Figure 3.2: Summary of linear regression model'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.2：线性回归模型总结
- en: If the **Pvalue** associated with `Xprice` is less than **0.05** then the predictor
    is explaining the dependent variable significantly at **0.05** significance level.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如果与 `Xprice` 相关的**P值**小于 **0.05**，则预测变量在 **0.05** 的显著性水平上显著地解释了因变量。
- en: Confidence interval for linear regression model
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 线性回归模型的置信区间
- en: 'One of the important issues for the predicted value is to find the confidence
    interval around the predicted value. So let us try to find a 95% confidence interval
    around the predicted value of the fitted model. This can be achieved by executing
    the following code:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 预测值的一个重要问题是找到预测值周围的置信区间。所以让我们尝试找到拟合模型的预测值周围的 95% 置信区间。这可以通过执行以下代码来实现：
- en: '[PRE9]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Here we are estimating the predicted value for the given value of `Xprice =
    75` and then we try to find the confidence interval around the predicted value.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们正在估算给定 `Xprice = 75` 的预测值，然后我们尝试找到预测值周围的置信区间。
- en: 'The output generated by executing the preceding code is shown in the following
    screenshot:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 执行前述代码生成的输出如下图所示：
- en: '![Confidence interval for linear regression model](img/00036.jpeg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![线性回归模型的置信区间](img/00036.jpeg)'
- en: 'Figure 3.3: Prediction of confidence interval for linear regression model'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.3：线性回归模型的置信区间预测
- en: Residual plot
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 残差图
- en: 'Once we have fitted the model then we compare it with the observed value and
    find the difference, which is known as the residual. Then we plot the residual
    against the predictor variable to see the performance of the model visually. The
    following code can be executed to get the residual plot:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦拟合了模型，我们就将其与观测值进行比较，找出差异，这就是残差。然后，我们将残差与预测变量绘制在一起，以便直观地查看模型的表现。可以执行以下代码来获取残差图：
- en: '[PRE10]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![Residual plot](img/00037.jpeg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![残差图](img/00037.jpeg)'
- en: 'Figure 3.4: Residual plot of linear regression model'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.4：线性回归模型的残差图
- en: 'We can also plot the residual plot for the standardized residuals by just executing
    the following code in the previously mentioned code:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以通过执行先前提到的代码来绘制标准化残差的残差图：
- en: '[PRE11]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Normality distribution of errors
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 误差的正态分布
- en: One of the assumptions of linear regression is that errors are normally distributed,
    and after fitting the model, we need to check that errors are normally distributed.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 线性回归的假设之一是误差服从正态分布，拟合模型后，我们需要检查误差是否确实服从正态分布。
- en: 'This can be checked by executing the following code and can be compared with
    theoretical normal distribution:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过执行以下代码来检查，并与理论正态分布进行比较：
- en: '[PRE12]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![Normality distribution of errors](img/00038.jpeg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![误差的正态分布](img/00038.jpeg)'
- en: 'Figure 3.5: QQ plot of standardized residuals'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.5：标准化残差的 QQ 图
- en: 'Further details of the `summary` function for the linear regression model can
    be found in the R documentation. The following command will open a window which
    has complete information about the linear regression model, that is, `lm()`. It
    also has information about each and every input variable, including their data
    type, what all the variables this function returns are, and how output variables
    can be extracted, along with the examples:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '`summary` 函数的更多细节可以在 R 文档中找到。以下命令将打开一个窗口，显示关于线性回归模型（即 `lm()`）的完整信息。它还包含关于每个输入变量的信息，包括它们的数据类型、该函数返回的所有变量，以及如何提取输出变量，同时提供了相关示例：'
- en: '[PRE13]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Multivariate linear regression
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 多元线性回归
- en: 'In multiple linear regression, we try to explain the dependent variable in
    terms of more than one predictor variable. The multiple linear regression equation
    is given by the following formula:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在多元线性回归中，我们试图通过多个预测变量来解释因变量。多元线性回归方程由以下公式给出：
- en: '![Multivariate linear regression](img/00039.jpeg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![多元线性回归](img/00039.jpeg)'
- en: Here ![Multivariate linear regression](img/00040.jpeg)are multiple linear regression
    parameters and can be obtained by minimizing the sum of squares, which is also
    known as the OLS method of estimation.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这里 ![多元线性回归](img/00040.jpeg) 是多元线性回归的参数，可以通过最小化平方和来获得，这也称为最小二乘法（OLS）估计方法。
- en: Let us an take an example where we have the dependent variable `StockYPrice`
    and we are trying to predict it in terms of independent variables `StockX1Price`,
    `StockX2Price`, `StockX3Price`, and `StockX4Price`, which are present in the dataset
    `DataMR`.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个因变量 `StockYPrice`，并且我们尝试根据自变量 `StockX1Price`、`StockX2Price`、`StockX3Price`
    和 `StockX4Price` 来预测它，这些自变量都存在于数据集 `DataMR` 中。
- en: 'Now let us fit the multiple regression model and get parameter estimates of
    multiple regression:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们拟合多元回归模型并获取多元回归的参数估计：
- en: '[PRE14]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'When we execute the preceding code, it fits the multiple regression model on
    the data and gives the basic summary of statistics associated with multiple regression:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们执行前述代码时，它会在数据上拟合多元回归模型，并给出与多元回归相关的基本统计总结：
- en: '![Multivariate linear regression](img/00041.jpeg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![多元线性回归](img/00041.jpeg)'
- en: 'Figure 3.6: Summary of multivariate linear regression'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.6：多元线性回归的总结
- en: 'Just like the simple linear regression model, the `lm` function estimates the
    coefficients of the multiple regression model, as shown in the previous summary,
    and we can write our prediction equation as follows:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 就像简单线性回归模型一样，`lm` 函数估计多元回归模型的系数，如前述总结所示，我们可以将预测方程写为如下形式：
- en: '[PRE15]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: For any given set of independent variables, we can find the predicted dependent
    variable by using the previous equation.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何给定的独立变量集，我们可以通过使用前面的方程来找到预测的因变量。
- en: 'For any out of sample data, we can obtain the forecast by executing the following
    code:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何样本外数据，我们可以通过执行以下代码来获得预测：
- en: '[PRE16]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: This gives the output 80.63105 as the predicted value of the dependent variable
    for the given set of independent variables.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这会生成输出 80.63105 作为给定独立变量集的预测因变量值。
- en: Coefficient of determination
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 决定系数
- en: For checking the adequacy of a model, the main statistics are the coefficient
    of determination and adjusted coefficient of determination, which have been displayed
    in the summary table as R-squared and adjusted R-squared matrices.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 为了检查模型的充分性，主要统计量是决定系数和调整决定系数，这些在汇总表中以 R 平方和调整 R 平方矩阵显示。
- en: 'We can also obtain them using the following code:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以使用以下代码获取它们：
- en: '[PRE17]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: From the summary table, we can see which variables are becoming significant.
    If the Pvalue associated with the variables in the summary table is <0.05 then
    the specific variable is significant, otherwise it is insignificant.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 从汇总表中，我们可以看到哪些变量变得显著。如果汇总表中与变量相关的 P 值小于 0.05，则该变量显著，否则不显著。
- en: Confidence interval
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 置信区间
- en: 'We can find the prediction interval for the 95% confidence interval for the
    predicted value by the multiple regression model by executing the following code:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过执行以下代码来找到多元回归模型预测值的 95% 置信区间预测区间：
- en: '[PRE18]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The preceding code generates the following output:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码生成了以下输出：
- en: '![Confidence interval](img/00042.jpeg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![置信区间](img/00042.jpeg)'
- en: 'Figure 3.7: Prediction of confidence interval for multiple regression model'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.7：多元回归模型的置信区间预测
- en: Multicollinearity
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 多重共线性
- en: If the predictor variables are correlated then we need to detect multicollinearity
    and treat it. Recognition of multicollinearity is crucial because two or more
    variables are correlated, which shows a strong dependence structure between those
    variables, and we are using correlated variables as independent variables, which
    end up having a double effect of these variables on the prediction because of
    the relation between them. If we treat the multicollinearity and consider only
    variables which are not correlated then we can avoid the problem of double impact.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 如果预测变量之间存在相关性，那么我们需要检测多重共线性并加以处理。识别多重共线性至关重要，因为两个或更多变量之间存在相关性，这显示了这些变量之间的强依赖结构，而我们将相关变量作为独立变量使用，这最终会由于它们之间的关系而在预测中产生双重效应。如果我们处理多重共线性并只考虑那些不相关的变量，那么可以避免双重影响的问题。
- en: 'We can find multicollinearity by executing the following code:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过执行以下代码来找到多重共线性：
- en: '[PRE19]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This gives the multicollinearity table for the predictor variables:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了预测变量的多重共线性表：
- en: '![Multicollinearity](img/00043.jpeg)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![多重共线性](img/00043.jpeg)'
- en: 'Figure 3.8: VIF table for multiple regression model'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.8：多元回归模型的 VIF 表
- en: Depending upon the values of VIF, we can drop the irrelevant variable.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 根据 VIF 的值，我们可以删除不相关的变量。
- en: ANOVA
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）
- en: 'ANOVA is used to determine whether there are any statistically significant
    differences between the means of three or more independent groups. In the case
    of only two samples, we can use the t-test to compare the means of the samples,
    but in the case of more than two samples, it may be very complicated. We are going
    to study the relationship between quantitative dependent variable returns and
    single qualitative independent variable stock. We have five levels of stock: stock1,
    stock2, .. stock5.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）用于确定三个或更多独立组之间的均值是否存在统计学上的显著差异。如果只有两个样本，我们可以使用 t 检验来比较样本的均值，但如果样本超过两个，可能会非常复杂。我们将研究定量因变量收益与单一定性独立变量股票之间的关系。我们有五个股票级别：stock1、stock2、...
    stock5。
- en: 'We can study the five levels of stock by means of a box plot and we can compare
    by executing the following code:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过箱线图研究五个级别的股票，并通过执行以下代码进行比较：
- en: '[PRE20]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'This displays a few lines of the data used for analysis in tabular format:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了用于分析的一些数据行，以表格形式展示：
- en: '|  | `Returns` | `Stock` |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '|  | `Returns` | `Stock` |'
- en: '| 1 | 1.64 | Stock1 |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 1.64 | Stock1 |'
- en: '| 2 | 1.72 | Stock1 |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 1.72 | Stock1 |'
- en: '| 3 | 1.68 | Stock1 |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 1.68 | Stock1 |'
- en: '| 4 | 1.77 | Stock1 |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 1.77 | Stock1 |'
- en: '| 5 | 1.56 | Stock1 |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 1.56 | Stock1 |'
- en: '| 6 | 1.95 | Stock1 |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 1.95 | Stock1 |'
- en: '[PRE21]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'This gives the following output and box plots it:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这会生成以下输出并绘制箱线图：
- en: '![ANOVA](img/00044.jpeg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![ANOVA](img/00044.jpeg)'
- en: 'Figure 3.9: Box plot of different levels of stock'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.9：不同股票水平的箱形图
- en: 'The preceding box plot shows that level stock has higher returns. If we repeat
    the procedure, we are most likely going to get different returns. It may be possible
    that all the levels of stock give similar numbers and we are just seeing random
    fluctuation in one set of returns. Let us assume that there is no difference at
    any level and it is our null hypothesis. Using ANOVA, let us test the significance
    of the hypothesis:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 上述箱形图显示，股票水平较高的回报率较高。如果我们重复这个过程，很可能会得到不同的回报。也有可能所有股票水平的回报率都相似，我们仅仅看到的是一个回报集中的随机波动。假设在任何水平上都没有差异，这是我们的零假设。使用
    ANOVA 方法，我们来测试这个假设的显著性：
- en: '[PRE22]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Executing the preceding code gives the following outcome:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 执行上述代码将得到以下结果：
- en: '![ANOVA](img/00045.jpeg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![ANOVA](img/00045.jpeg)'
- en: 'Figure 3.10: Output of ANOVA for different levels of stock'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.10：不同股票水平的 ANOVA 输出
- en: Since the **Pvalue** is less than **0.05**, the null hypothesis gets rejected.
    The returns at the different levels of stock are not similar.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 由于**P值**小于**0.05**，零假设被拒绝。不同股票水平的回报率并不相似。
- en: Feature selection
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 特征选择
- en: Feature selection is one of the toughest parts of financial model building.
    Feature selection can be done statistically or by having domain knowledge. Here
    we are going to discuss only a few of the statistical feature selection methods
    in the financial space.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 特征选择是金融模型构建中最具挑战性的部分之一。特征选择可以通过统计方法或借助领域知识来完成。在这里，我们将讨论金融领域中的几种统计特征选择方法。
- en: Removing irrelevant features
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移除无关特征
- en: Data may contain highly correlated features and the model does better if we
    do not have highly correlated features in the model. The Caret R package gives
    the method for finding a correlation matrix between the features, which is shown
    by the following example.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 数据可能包含高度相关的特征，如果模型中没有高度相关的特征，模型表现会更好。Caret R 包提供了查找特征相关矩阵的方法，以下是一个示例。
- en: 'A few lines of data used for correlation analysis and multiple regression analysis
    are displayed here by executing the following code:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是执行代码后用于相关分析和多重回归分析的几行数据：
- en: '[PRE23]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '|  | `StockYPrice` | `StockX1Price` | `StockX2Price` | `StockX3Price` | `StockX4Price`
    |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '|  | `StockYPrice` | `StockX1Price` | `StockX2Price` | `StockX3Price` | `StockX4Price`
    |'
- en: '| 1 | 80.13 | 72.86 | 93.1 | 63.7 | 83.1 |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 80.13 | 72.86 | 93.1 | 63.7 | 83.1 |'
- en: '| 2 | 79.57 | 72.88 | 90.2 | 63.5 | 82 |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 79.57 | 72.88 | 90.2 | 63.5 | 82 |'
- en: '| 3 | 79.93 | 71.72 | 99 | 64.5 | 82.8 |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 79.93 | 71.72 | 99 | 64.5 | 82.8 |'
- en: '| 4 | 81.69 | 71.54 | 90.9 | 66.7 | 86.5 |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 81.69 | 71.54 | 90.9 | 66.7 | 86.5 |'
- en: '| 5 | 80.82 | 71 | 90.7 | 60.7 | 80.8 |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 80.82 | 71 | 90.7 | 60.7 | 80.8 |'
- en: '| 6 | 81.07 | 71.78 | 93.1 | 62.9 | 84.2 |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 81.07 | 71.78 | 93.1 | 62.9 | 84.2 |'
- en: The preceding output shows five variables in `DataMR` named `StockYPrice`, `StockX1Price`,
    `StockX2Price`, `StockX3Price`, and `StockX4Price`. Here `StockYPrice` is dependent
    and all the other four variables are independent variables. Dependence structure
    is very important to study for going deep into the analysis.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 上述输出显示了名为 `StockYPrice`、`StockX1Price`、`StockX2Price`、`StockX3Price` 和 `StockX4Price`
    的五个变量在 `DataMR` 数据集中。在这里，`StockYPrice` 是因变量，其它四个变量是自变量。依赖结构对于深入分析至关重要。
- en: 'The following command calculates the correlation matrix between the first four
    columns, which are `StockYPrice`, `StockX1Price`, `StockX2Price`¸ and `StockX3Price`:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令计算前四列之间的相关矩阵，这些列分别是`StockYPrice`、`StockX1Price`、`StockX2Price`和`StockX3Price`：
- en: '[PRE24]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '![Removing irrelevant features](img/00046.jpeg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![Removing irrelevant features](img/00046.jpeg)'
- en: 'Figure 3.11: Correlation matrix table'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.11：相关矩阵表
- en: The preceding correlation matrix shows which variables are highly correlated
    and, accordingly, the feature will be selected in such a way that highly correlated
    features are not in the model.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 上述相关矩阵显示了哪些变量是高度相关的，因此，特征选择会确保高度相关的特征不会出现在模型中。
- en: Stepwise variable selection
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 步骤式变量选择
- en: We can use stepwise variable selection (forward, backward, both) in predictive
    models using the `stepAIC()` function for feature selection.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以在预测模型中使用步骤式变量选择（前向选择、后向选择、双向选择）进行特征选择，使用 `stepAIC()` 函数。
- en: 'This can be done by executing the following code:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过执行以下代码来完成：
- en: '[PRE25]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Here, we are using the dataset used for multiple regression as the input dataset.
    One can also use all-subsets regression using the `leaps()` function from the
    leaps package.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们使用的是用于多重回归的输入数据集。也可以使用 `leaps()` 函数来进行全子集回归，该函数来自 leaps 包。
- en: Variable selection by classification
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过分类进行变量选择
- en: 'We can use classification techniques such as decision tree or random forest
    to get the most significant predictors. Here we are using random forest (code
    is given) to find the most relevant features. All the four attributes in the dataset
    `DataForMultipleRegression1` have been selected in the following example and the
    plot shows the accuracy of different subset sizes comparing across all the subsets:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用分类技术，如决策树或随机森林，来获取最重要的预测因子。在这里，我们使用随机森林（提供了代码）来找到最相关的特征。以下示例中，数据集`DataForMultipleRegression1`中的所有四个属性都已被选择，图表显示了不同子集大小的准确度，比较了所有子集：
- en: '[PRE26]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'It displays a few lines of the data used for analysis, as shown in the following
    table:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 它显示了用于分析的部分数据，如下表所示：
- en: '|  | `PortfolioYDirection` | `StockX1Price` | `StockX2Price` | `StockX3Price`
    | `StockX4Price` |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '|  | `PortfolioYDirection` | `StockX1Price` | `StockX2Price` | `StockX3Price`
    | `StockX4Price` |'
- en: '| 1 | 0 | 72.86 | 93.1 | 63.7 | 83.1 |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0 | 72.86 | 93.1 | 63.7 | 83.1 |'
- en: '| 2 | 1 | 72.88 | 90.2 | 63.5 | 82 |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 1 | 72.88 | 90.2 | 63.5 | 82 |'
- en: '| 3 | 0 | 71.72 | 99 | 64.5 | 82.8 |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 0 | 71.72 | 99 | 64.5 | 82.8 |'
- en: '| 4 | 0 | 71.54 | 90.9 | 66.7 | 86.5 |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 0 | 71.54 | 90.9 | 66.7 | 86.5 |'
- en: '| 5 | 1 | 71 | 90.7 | 60.7 | 80.8 |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 1 | 71 | 90.7 | 60.7 | 80.8 |'
- en: '| 6 | 0 | 71.78 | 93.1 | 62.9 | 84.2 |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 0 | 71.78 | 93.1 | 62.9 | 84.2 |'
- en: 'Execute the following code to do the required analysis:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下代码进行所需的分析：
- en: '[PRE27]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'It generates the following plot, showing the accuracy of different subset sizes
    comparing across all the subsets:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 它生成了以下图表，展示了不同子集大小的准确度，比较了所有子集：
- en: '![Variable selection by classification](img/00047.jpeg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![通过分类进行变量选择](img/00047.jpeg)'
- en: 'Figure 3.12: Plot showing model accuracy of different subset sizes'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.12：展示不同子集大小模型准确度的图表
- en: We have given some of the examples of feature selection. Some of the other feature
    selection methods such as classification techniques and information value for
    predictive modeling are also available.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提供了一些特征选择的示例。其他一些特征选择方法，如分类技术和预测建模中的信息值，也可以使用。
- en: Ranking of variables
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变量排名
- en: After fitting a regression/predictive model, we need to understand what the
    relative ranking of significant attributes is on a comparative scale. This is
    explained by Beta parameter estimates. Beta, or standardized coefficients, are
    the slopes we get if all the variables are on the same scale, which is done by
    converting them to z-scores before doing the predictive modeling (regression).
    Beta coefficients allow a comparison of the approximate relative importance of
    the predictors and hence the variables can be ranked, which neither the unstandardized
    coefficients nor the Pvalues can. Scaling, or standardizing, the data vectors
    can be done using the `scale()` function. Once the scaled variables are created,
    the regression is redone using them. The resulting coefficients are the beta coefficients.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在拟合回归/预测模型后，我们需要了解显著属性在比较尺度上的相对排名。这可以通过Beta参数估计来解释。Beta或标准化系数是当所有变量处于相同尺度时得到的斜率，通常是在进行预测建模（回归）之前，将变量转换为z分数。Beta系数允许比较预测变量的大致相对重要性，因此变量可以被排名，而这既不是非标准化系数也不是P值能够做到的。数据向量的缩放或标准化可以使用`scale()`函数来完成。一旦创建了标准化变量，回归就会使用这些变量重新执行。结果系数即为Beta系数。
- en: Wavelet analysis
  id: totrans-182
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 小波分析
- en: 'Time series information is not always sufficient to get insight into the data.
    Sometimes the frequency content of the data also contains important information
    about the data. In the time domain, Fourier transformation (FT) captures the frequency-amplitude
    of the data but it does not show when in time this frequency has happened. In
    the case of stationary data, all frequency components exist at any point in time
    but this is not true for non-stationary data. So, FT does not fit for non-stationary
    data. **Wavelet transformation** (**WT**) has the capacity to provide time and
    frequency information simultaneously in the form of time-frequency. WT is important
    to analyze financial time series as most of the financial time series are non-stationary.
    In the remainder of this chapter, wavelet analysis (WT), I will help you understand
    how to solve non-stationary data in R using wavelets analysis. Stock price/index
    data requires certain techniques or transformations to obtain further information
    about the series which raw data does not show. The daily closing price for the
    **Dow Jones Industrial Average** (**DJIA**) and **S&P500** index from January
    1, 2010 to December 31, 2015 has been used for illustration purposes. I am going
    to use the wavelets package for this:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列信息并不总是足够的来深入了解数据。有时，数据的频率内容也包含关于数据的重要信息。在时域中，傅里叶变换（FT）捕捉数据的频率-幅度信息，但它无法显示这个频率发生在何时。对于平稳数据，所有频率成分在任何时间点都存在，但对于非平稳数据来说，情况并非如此。因此，FT不适用于非平稳数据。**小波变换**（**WT**）具有同时提供时间和频率信息的能力，形式为时频分析。WT对于分析金融时间序列非常重要，因为大多数金融时间序列都是非平稳的。在本章的剩余部分，我将帮助你了解如何在R中使用小波分析解决非平稳数据的问题。股票价格/指数数据需要某些技术或变换，以获得原始数据未能显示的进一步信息。本示例使用了2010年1月1日至2015年12月31日的**道琼斯工业平均指数**（**DJIA**）和**标准普尔500指数**（**S&P500**）的日收盘价。我将使用小波包来进行演示：
- en: 'Before starting to work with wavelets transformation, you have to install the
    package named `Wavelets`:'
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在开始使用小波变换之前，你需要安装名为`Wavelets`的包：
- en: '[PRE28]'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Once you install it or you already have this package in your machine then you
    just have to load it into the workspace:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你安装了该包，或者你的机器上已经有了该包，那么你只需要将它加载到工作区：
- en: '[PRE29]'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'To get a first impression of the data, we plot the `dji` and `snp` time series
    and their reture:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了对数据有一个初步的了解，我们绘制了`dji`和`snp`的时间序列及其收益率：
- en: '[PRE30]'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The first line is used to divide the plot into a two-by-one matrix, so the
    plot can have two plots in one figure, and the next two commands plot the Dow
    Jones price and its return series, which can be seen in *Figure 3.13*:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 第一行用于将图形分割成一个两行一列的矩阵，这样图形中可以显示两个子图，接下来的两条命令绘制了道琼斯价格及其收益率系列，可以在*图3.13*中看到：
- en: '![Wavelet analysis](img/00048.jpeg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![小波分析](img/00048.jpeg)'
- en: 'Figure 3.13: Price and return series for Dow Jones Index (DJI)'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.13：道琼斯指数（DJI）的价格和收益率系列
- en: 'The `dji` and `snp` time series are non-stationary. We use head and tail to
    look at the first and last part of the time series:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '`dji`和`snp`的时间序列是非平稳的。我们使用head和tail查看时间序列的开始和结束部分：'
- en: '[PRE31]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Now we apply **discrete wavelets transformation** (**DWT**) on the `dji` data
    and decompose it using various filters. It requires data in time series, matrix,
    or data frame format. We look at the `dji` variable format which is `xts` and
    `zoo` object. So we need to convert it into an acceptable format:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们对`dji`数据应用**离散小波变换**（**DWT**），并使用不同的滤波器对其进行分解。它需要数据的格式为时间序列、矩阵或数据框。我们查看`dji`变量的格式，它是`xts`和`zoo`对象。因此，我们需要将其转换为可接受的格式：
- en: '[PRE32]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Now it is ready to be used in discrete wavelets transformation''s R function.
    We also need to provide other parameters, such as the type of filter you will
    be using and the number of levels you want your data to be decomposed into:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 现在它已经可以在离散小波变换的R函数中使用。我们还需要提供其他参数，如使用的滤波器类型以及希望将数据分解的层数：
- en: '[PRE33]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'It saves the output in the variable called model. You can write model on the
    command prompt and it will display the output in the command prompt:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 它将输出保存在名为model的变量中。你可以在命令提示符下输入model，它会显示输出结果：
- en: '[PRE34]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'It generates output which consists of various information matrices such as
    wavelet coefficients, scaling coefficients, type of filter used, and number of
    levels used. You can extract any individual information as well. To extract wavelet
    coefficients, you have to write the following command on the command prompt:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 它生成的输出包含各种信息矩阵，如小波系数、尺度系数、使用的滤波器类型以及使用的层数。你还可以提取任何单独的信息。要提取小波系数，你需要在命令提示符下输入以下命令：
- en: '[PRE35]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'It generates output which consists of various information matrices such as
    wavelet coefficients, scaling coefficients, type of filter used, and number of
    levels used. You can extract any individual information as well. To extract wavelet
    coefficients, you have to write the following command on the command prompt:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 它生成的输出包含各种信息矩阵，如小波系数、尺度系数、使用的滤波器类型以及使用的层数。你还可以提取任何单独的信息。要提取小波系数，你需要在命令提示符下输入以下命令：
- en: '[PRE36]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'These commands generate a relative list of wavelets and scaling coefficients.
    To get an individual component of wavelets, you have to mention the following:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 这些命令生成了小波和尺度系数的相对列表。要获得小波的单个分量，你需要提到以下内容：
- en: '[PRE37]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'We can also use the plot command to visualize data series, wavelets, and scaling
    coefficients:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用绘图命令来可视化数据系列、小波和尺度系数：
- en: '[PRE38]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '*Figure 3.14* will plot the price and its various level coefficients and help
    us to visualize and understand the data clearly:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3.14*将绘制价格及其各个级别系数，帮助我们清晰地可视化和理解数据：'
- en: '![Wavelet analysis](img/00049.jpeg)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![小波分析](img/00049.jpeg)'
- en: 'Figure 3.14: Plots for time series, wavelets, and scaling coefficients'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.14：时间序列、小波和尺度系数的图示
- en: 'You can also use the discrete wavelet transformation function for the `haar`
    filter:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用离散小波变换函数来进行`haar`滤波器的分析：
- en: '[PRE39]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: It will plot the data series, wavelets, and scaling coefficients using the `haar`
    filter.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 它将使用`haar`滤波器绘制数据系列、小波和尺度系数。
- en: 'To compute inverse discrete wavelet transformation, you have to use a wavelet
    object, as defined using discrete wavelet transformation. The variable model is
    a wavelet object using the `haar` filter:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算逆离散小波变换，你必须使用一个小波对象，该对象通过离散小波变换来定义。变量model是一个使用`haar`滤波器的小波对象：
- en: '[PRE40]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Sometimes it is necessary to know the class of the R objects, for example, `model`
    and `imodel`.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 有时需要知道R对象的类别，例如，`model`和`imodel`。
- en: 'We can use the following commands for this:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用以下命令来实现：
- en: '[PRE41]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: The variable `imodel` is created using inverse wavelet transformation and it
    generates an original time series object.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 变量`imodel`是通过逆小波变换创建的，它生成一个原始的时间序列对象。
- en: '**Multiresolution analysis** (**MRA**) is another widely useful wavelet method
    for time series analysis. Financial markets generate large quantities of data,
    which is analyzed to generate algorithmic trading signals. Wavelet multi-resolution
    analysis is increasingly being applied to these datasets because it enables traders
    to focus on a particular time scale where trading patterns are considered important.
    The la8 filter is used in the following example and the `haar` filter also can
    replaced for `la8`:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '**多分辨率分析**（**MRA**）是另一种广泛应用的小波方法，适用于时间序列分析。金融市场产生大量数据，这些数据经过分析后用于生成算法交易信号。由于多分辨率小波分析能够帮助交易者专注于特定时间尺度上的交易模式，它正被越来越多地应用于这些数据集。以下示例中使用了la8滤波器，`haar`滤波器也可以被替换为`la8`：'
- en: '[PRE42]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: For the analysis of market data, **maximal overlap discrete wavelet transform**
    (**MODWT**) is preferred.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 对于市场数据的分析，**最大重叠离散小波变换**（**MODWT**）是首选方法。
- en: 'As an example, I considered the case of Dow Jones Index time series, `dji`,
    as input to the `modwt` function:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 作为示例，我考虑了将道琼斯指数时间序列`dji`作为`modwt`函数的输入：
- en: '[PRE43]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'The preceding function decomposes the time series in detailed wavelets and
    scaled coefficients, which can be seen in *Figure 3.15*. The `plot.modwt()` function
    can be used to plot this `modwt` output:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 上述函数将时间序列分解为详细的小波和尺度系数，这些可以在*图3.15*中看到。可以使用`plot.modwt()`函数来绘制该`modwt`输出：
- en: '[PRE44]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '![Wavelet analysis](img/00050.jpeg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![小波分析](img/00050.jpeg)'
- en: 'Figure 3.15: Plot of Maximal Overlap Discrete wavelets transform'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.15：最大重叠离散小波变换的图示
- en: A few jumps in the time series can be seen as jumps in smaller coefficients
    such as **W1** and **W2**, and smooth coefficients such as **W6** show movement
    about some mean for the time period. Wavelets and scaled coefficients in *Figure
    3.15* clearly show price data at different time scales.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列中的一些跳跃可以表现为较小系数如**W1**和**W2**的跳跃，而平滑系数如**W6**则表现为围绕某个均值的波动。*图3.15*中的小波和尺度系数清晰地展示了不同时间尺度下的价格数据。
- en: Wavelet analysis provides an important tool in quantitative finance, with applications
    ranging from short-term prediction and the calculation of variance in relation
    to specific time scales.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 小波分析在定量金融中提供了一个重要的工具，应用范围从短期预测到计算与特定时间尺度相关的方差。
- en: Fast Fourier transformation
  id: totrans-232
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 快速傅里叶变换
- en: '**Fast Fourier transformation** (**FFT**) is used for calculating the Fourier
    transform of discrete time series. You need to install the relevant package `fft`
    for FFT with the help of the following code:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '**快速傅里叶变换**（**FFT**）用于计算离散时间序列的傅里叶变换。你需要通过以下代码安装相关的`fft`包来实现FFT：'
- en: '[PRE45]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Once you install the package, you have to load this into the workspace by using
    the following code:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完包后，你必须使用以下代码将其加载到工作空间：
- en: '[PRE46]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Fast Fourier transform of time series can be calculated using `fft`, and it
    accepts real or complex numbers series.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列的快速傅里叶变换可以使用`fft`计算，它接受实数或复数序列。
- en: 'In the following example, `dji` is a real number time series:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，`dji`是一个实数时间序列：
- en: '[PRE47]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'The variable `model` is a transformed series which basically consists of complex
    numbers, and the real and imaginary parts can be extracted using the following
    code:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 变量`model`是一个变换后的序列，基本由复数构成，实部和虚部可以通过以下代码提取：
- en: '[PRE48]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'The following command calculates the absolute value of the model:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令计算模型的绝对值：
- en: '[PRE49]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Let me plot this and see what information the absolute value of `fft` has for
    me:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 让我绘制这个图表，看看`fft`的绝对值对我来说有什么信息：
- en: '[PRE50]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '![Fast Fourier transformation](img/00051.jpeg)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![快速傅里叶变换](img/00051.jpeg)'
- en: 'Figure 3.16: Plot for absolute value of FFT modeled series'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.16：FFT建模序列绝对值的绘图
- en: '*Figure 3.16* shows spikes at both ends of the data. FFT can accept complex
    inputs, when the input is real (as with most real-world cases). The output for
    bins greater than *N/2* is redundant and does not provide additional spectral
    information. So, we can remove the values for bins > *N/2*. This arises from lack
    of normalization.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3.16*显示了数据两端的尖峰。FFT可以接受复杂的输入，当输入为实数时（如大多数实际情况）。对于大于*N/2*的频段，输出是冗余的，并且不会提供额外的谱信息。因此，我们可以去除大于*N/2*的频段值。这是由于缺乏归一化造成的。'
- en: 'Results need to be normalized for the sample size. As the input data is real-valued,
    data greater than *N/2* is removed and we normalize the data by *N/2*:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 结果需要根据样本大小进行归一化。由于输入数据是实数值，因此大于*N/2*的数据会被去除，我们通过*N/2*对数据进行归一化处理：
- en: '[PRE51]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The angle between the real and imaginary parts of the Fourier transformed series
    is calculated as follows:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 傅里叶变换序列的实部和虚部之间的角度可以按如下方式计算：
- en: '[PRE52]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Sometimes it is important to analyze the spectrum density of the time series
    and this can be calculated in R using the following code:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 有时分析时间序列的谱密度非常重要，可以使用以下代码在R中进行计算：
- en: '[PRE53]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'It accepts two methods: periodogram and autoregressive. You can choose either
    of these methods. This function returns the vector of frequencies at which spectral
    densities are estimated, as well as the vector of estimated spectral densities
    at frequency. It also returns some other parameters which are useful to multivariate
    analysis, such as coherence level and phase between multivariate series.'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 它接受两种方法：周期图法和自回归法。你可以选择这两种方法中的任何一种。此函数返回估算谱密度的频率向量，以及频率处的估算谱密度向量。它还返回一些其他对多变量分析有用的参数，如相干性水平和多变量序列之间的相位。
- en: Hilbert transformation
  id: totrans-256
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 希尔伯特变换
- en: 'Hilbert transformation is another technique to transform time series and R
    uses the `seewave` package for this. This package can be installed using `install.packages()`
    and loaded into the workspace using the `library()` command:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 希尔伯特变换是另一种转换时间序列的技术，R使用`seewave`包来实现这一点。可以通过`install.packages()`安装该包，并使用`library()`命令加载到工作空间：
- en: '[PRE54]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: The first parameter is the time series object which you would like to transform,
    and the second parameter is the sampling frequency of the wave. In the preceding
    example, I used `dji` as time series and sampling frequency as 1 to calculate
    the Hilbert transformation.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个参数是你希望转换的时间序列对象，第二个参数是波形的采样频率。在前面的示例中，我使用了`dji`作为时间序列，并将采样频率设置为1来计算Hilbert变换。
- en: 'If you would like to know the output of the model then you should use the following
    code:'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想了解模型的输出，你应该使用以下代码：
- en: '[PRE55]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: The preceding output mentions the length of input data series is `2555` and
    the type of output variable named `model` is complex.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的输出提到输入数据序列的长度为`2555`，输出变量`model`的类型为复数。
- en: 'As the output is complex, we can extract real and imaginary values using the
    following code:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 由于输出是复数形式，我们可以使用以下代码提取实部和虚部：
- en: '[PRE56]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Here, the real part is the original time series, which is `dji` in our case,
    and the imaginary part is the Hilbert transformed series of the original series.
    `ifreq()` returns the phase or instantaneous frequency, depending upon what output
    we want:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，实部是原始时间序列，我们的例子中是`dji`，而虚部是原始序列的Hilbert变换序列。`ifreq()`函数返回相位或瞬时频率，具体取决于我们想要的输出：
- en: '[PRE57]'
  id: totrans-266
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'The preceding code will generate instantaneous frequency:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的代码将生成瞬时频率：
- en: '![Hilbert transformation](img/00052.jpeg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![Hilbert变换](img/00052.jpeg)'
- en: Figure:3.17\. Instantaneous frequency of time series using Hilbert transformation
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.17：使用Hilbert变换的时间序列瞬时频率
- en: 'However, if we would like to generate phases then we have to explicitly mention
    `PHASE=TRUE` in the function:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果我们想生成相位，则必须在函数中明确提到`PHASE=TRUE`：
- en: '[PRE58]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '*Figure 3.18* shows the phases with respect to time variations. As time progresses,
    phases also increase with the increase in time:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3.18*显示了相对于时间变化的相位。随着时间的推移，相位也随着时间的增加而增加：'
- en: '![Hilbert transformation](img/00053.jpeg)'
  id: totrans-273
  prefs: []
  type: TYPE_IMG
  zh: '![Hilbert变换](img/00053.jpeg)'
- en: 'Figure 3.18: Phases of time series using Hilbert transformation'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.18：使用Hilbert变换的时间序列相位
- en: 'By default, the plot is true. If we say `PLOT=FALSE`, then it will not generate
    a plot and only generate variables in the workspace:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，绘图功能是开启的。如果我们设置`PLOT=FALSE`，则不会生成图形，只会在工作空间中生成变量：
- en: '[PRE59]'
  id: totrans-276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'The output variable is in the form of a list which contains both instantaneous
    frequency and phase and can be extracted using the following:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 输出变量的形式是一个列表，其中包含瞬时频率和相位，可以使用以下方法提取：
- en: '[PRE60]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Sometimes we analyze a pair of time series and then calculating phase difference
    is crucial rather than looking at the phase of univariate series. So, phase difference
    can be calculated by simply calculating phases of individual series and then subtracting
    the phase of one series from the other series:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 有时我们分析一对时间序列，计算相位差比单变量序列的相位更为重要。因此，相位差可以通过简单地计算各个序列的相位，然后从一个序列中减去另一个序列的相位来计算：
- en: '[PRE61]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: There is another package, `waveslim`, which has all these transformations, such
    as discrete wavelet transformation, fast Fourier transformation, and Hilbert transformation,
    in one. In fact, there are many more packages which contain these transformations.
    You can use whichever you are comfortable with and find easy to use.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个包，`waveslim`，它将所有这些变换（例如离散小波变换、快速傅里叶变换和Hilbert变换）都集成在一个包中。实际上，还有许多其他包包含这些变换。你可以使用任何你感到舒适且易于使用的包。
- en: Questions
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Define regression and how you can implement in R.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义回归以及如何在R中实现回归。
- en: How do you find the coefficient of determination for linear regression / multiple
    regression in R?
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在R中找到线性回归/多重回归的决定系数？
- en: How do you find the confidence interval for a prediction fitted with linear
    regression / multiple regression in R?
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在R中找到拟合线性回归/多重回归的预测值的置信区间？
- en: How will you detect multicollinearity in R in multiple regression?
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在R中检测多重回归中的多重共线性？
- en: What is the significance of ANOVA and how will you use it to compare the results
    of two linear regression models?
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ANOVA的意义是什么？你如何使用它比较两个线性回归模型的结果？
- en: How do you perform feature selection in R for multiple linear regression?
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在R中进行多重线性回归的特征选择？
- en: How do you rank significance attributes in a multiple linear regression model
    in R?
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何在R中为多重线性回归模型排序重要性属性？
- en: How do you install the `waveslim` package and load it into the R workspace?
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何安装`waveslim`包并将其加载到R工作空间中？
- en: How do you plot a time series and extract the head and tail of the time series?
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何绘制时间序列并提取时间序列的头部和尾部？
- en: How would you know the class of a variable created by the `fft` function?
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何知道由`fft`函数创建的变量的类别？
- en: How do you use the dwt function using any given filter and take inverse dwt?
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何使用给定的滤波器使用dwt函数并进行逆dwt变换？
- en: How do you extract the real and imaginary parts of a series?
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何提取序列的实部和虚部？
- en: How would you use fast Fourier transformation and Hilbert transformation?
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何使用快速傅里叶变换和希尔伯特变换？
- en: Summary
  id: totrans-296
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Regression is the backbone of any analysis and the reader cannot go ahead without
    touching on it. In this chapter, I have presented linear regression and multivariate
    regression and how they are used for prediction. The R function `lm()` is used
    to implement both simple and multivariate linear regression. I also presented
    significance testing along with residual calculations and the normality plot,
    which tests residuals for normality using a qq plot. **Analysis of variance**
    (**ANOVA**) is used to select the difference means of two or more samples. Multivariate
    linear regression involves many variables, and the coefficient of each variable
    is different, which varies the importance of each variable and is ranked accordingly.
    Stepwise regression is used to select variables which are important in the regression.
    Time series analysis does not represent the complete information sometimes. It
    becomes necessary to explore frequency analysis, which can be done with wavelet,
    fast Fourier and Hilbert transformation. All the methods are implemented in R
    for frequency analysis. I have also explained how results can be seen and plotted
    wherever it is necessary.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 回归是任何分析的基础，读者不能在不接触回归的情况下继续学习。在本章中，我介绍了线性回归和多元回归，以及它们在预测中的应用。R函数`lm()`用于实现简单线性回归和多元线性回归。我还介绍了显著性检验、残差计算和正态性图，这些方法使用qq图测试残差的正态性。**方差分析**（**ANOVA**）用于选择两个或更多样本的均值差异。多元线性回归涉及许多变量，每个变量的系数不同，从而使每个变量的重要性有所不同，并按此排名。逐步回归用于选择在回归分析中重要的变量。时间序列分析有时并不能代表完整的信息，因此需要进行频率分析，这可以通过小波变换、快速傅里叶变换和希尔伯特变换来实现。所有这些方法都可以在R中进行频率分析。我还解释了如何在必要时查看和绘制结果。
- en: In the next chapter, I will explain time series analysis and prediction techniques.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我将解释时间序列分析和预测技术。

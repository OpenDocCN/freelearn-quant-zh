- en: Chapter 9. Fundamental Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章 基本面分析
- en: Now that the global financial crisis seems to come to an end, most of the investors
    are moving back to equity markets. By doing so, you face the problem of choosing
    the stocks that will outperform the other shares during the upcoming time period.
    To find the right investment asset to purchase, you have two basic options. On
    one hand, you may rely on any trends and patterns in the development of the historical
    prices. When developing an investment recommendation based on trends and patterns,
    you do a technical analysis. On the other hand, you may try to figure out which
    firms will exceed the market by analyzing their financial performance, strategic
    position, or future plans. This is called fundamental analysis.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，全球金融危机似乎已经接近尾声，大多数投资者正在回归股票市场。在这样做的过程中，你面临着选择哪些股票在未来一段时间内将跑赢其他股票的问题。为了找到合适的投资资产进行购买，你有两个基本选择。一方面，你可以依赖于历史价格走势中的任何趋势和模式。在基于趋势和模式制定投资建议时，你进行的是技术分析。另一方面，你可以通过分析公司的财务表现、战略位置或未来计划，来判断哪些公司会超过市场表现。这就是基本面分析。
- en: This chapter provides you an aid on how to use R to identify successful fundamental
    trading strategies for equity investments. We will start by applying basic statistical
    methods and move on to advanced and more complex ones while we cover how to translate
    your fundamental investment ideas into statistically testable hypotheses.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将帮助你了解如何使用 R 来识别成功的基本面交易策略，以进行股票投资。我们将从应用基本的统计方法开始，逐步过渡到更高级、更复杂的方法，同时讲解如何将你的基本面投资理念转化为可统计检验的假设。
- en: The basics of fundamental analysis
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本面分析的基础
- en: When looking for possible investment assets, a wide range of choices is offered
    to you by the market. You may pick bonds, pieces of art, real estate, currencies,
    commodities, derivatives, or probably, the most well-known asset class, equity.
    Equities represent ownership right over a certain part of the given firm (issuer).
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在寻找可能的投资资产时，市场为你提供了广泛的选择。你可以选择债券、艺术品、房地产、货币、商品、衍生品，或者可能是最著名的资产类别——股票。股票代表着对某个公司（发行人）一定部分的所有权。
- en: However, which shares shall we buy? When should we purchase and sell them? These
    decisions are of key importance as they will determine the return on your portfolio.
    There are two different views out there on these problems.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们该买哪些股票呢？我们应在什么时候买进或卖出？这些决策至关重要，因为它们将决定你的投资组合的回报。对此问题有两种不同的观点。
- en: Technical analysis is built on historical price developments and believes that
    certain patterns may be identified that help predict the future movements of the
    quotes. Fundamental analysis, on the contrary, focuses on the firm and the value
    of the ownership right itself rather than on the market price of it. Here, we
    believe that sooner or later, market price has to reflect the fair value of the
    share that can be calculated from the future cash flows we collect when owning
    it, just like in the case of any other kind of investments.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 技术分析建立在历史价格走势之上，并认为可以识别某些模式，这些模式有助于预测未来价格的变动。相反，基本面分析则侧重于公司及其所有权本身的价值，而不是它的市场价格。在这里，我们相信，迟早，市场价格必须反映股票的公允价值，而这种公允价值可以通过我们拥有股票时收集到的未来现金流来计算，就像任何其他类型的投资一样。
- en: While technical analysis focuses on how investors' behavior might push prices
    in the future based on historical patterns, fundamental analysis identifies the
    trends that prices should follow due to the predicted future performance of the
    firm. So, when performing fundamental analysis, we have to recall our corporate
    finance and accounting knowledge.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 技术分析侧重于基于历史模式分析投资者行为如何推动未来价格变动，而基本面分析则识别出价格应该跟随的趋势，这些趋势源于对公司未来表现的预测。因此，在进行基本面分析时，我们需要回顾我们的公司财务和会计知识。
- en: Even when checking for the fair price of just one given share, we may spend
    several days on modeling future performance and estimating sales growth, expenses,
    investments, changes in financing strategy, and cost of capital to get a valid
    discount rate for our cash-flow prediction. When developing a trading strategy,
    we need to review several thousands of potential investments, so there is no chance
    we could do such an in-depth analysis. Even trying it may be tricky. If you create
    large spreadsheet models for all equities, by the time you finish, your assumptions
    for the first firm could be outdated, and you have to restart the process without
    even considering your results from the first version of the model. So, instead
    of really predicting future financial statements, we have to build on historical
    experience to identify good investment patterns. We will try to connect previous
    fundamental ratios to historical price developments and expect that these connections
    will also hold in the future.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 即使只是检查某只股票的公允价格，我们也可能花费数天时间来建模未来表现，估算销售增长、费用、投资、融资策略的变化和资本成本，以获取有效的折现率用于现金流预测。在开发交易策略时，我们需要审查数千个潜在投资项目，因此不可能做如此深入的分析。即使尝试也可能很棘手。如果你为所有股票建立大型电子表格模型，当你完成时，最初为第一家公司的假设可能已经过时，你不得不重新开始，而完全不考虑第一次版本模型的结果。因此，我们不能真正预测未来的财务报表，而必须基于历史经验来识别良好的投资模式。我们将尝试将之前的基本面比率与历史价格发展联系起来，并期望这些联系在未来也能成立。
- en: This is the key to understand that we do not want to find good companies to
    invest in; we rather have to find shares that are very likely to be mispriced.
    So, we want to find undervalued stocks to buy, or if shorting is allowed on the
    market, we want to find overvalued ones to sell. For the rest of this chapter,
    we will focus only on the upward potential, but you may use exactly the same techniques
    to identify shares to sell that have a huge downward potential. Finding the fundamental
    characteristics of firms for which we have seen the share price increase during
    the last 12 months may help us identify good investments for the next year based
    on the current financial statements.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这是理解的关键，我们不是要找到值得投资的好公司，而是要找到那些非常可能被错误定价的股票。所以，我们要找到被低估的股票购买，或者如果市场允许做空，我们要找到被高估的股票卖出。在本章的其余部分，我们将仅关注上行潜力，但你也可以使用相同的技术来识别具有巨大下行潜力的股票。找到那些在过去12个月内股价上涨的公司基本面特征，可能帮助我们基于当前的财务报表识别明年良好的投资机会。
- en: 'So, when building a fundamental equity strategy, we need to follow these steps:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，在构建基本面股票策略时，我们需要遵循以下步骤：
- en: Collect financial statement data for possible equity investments.
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集可能的股票投资的财务报表数据。
- en: Calculate fundamental ratios to standardize data.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算基本面比率以标准化数据。
- en: Identify connections between ratios and future price development.
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定比率与未来价格发展的关系。
- en: Follow the testing strategy that is, calculate results on another set of possible
    equities for the same period and/or same set of shares for a different period
    of time.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 遵循测试策略，即在同一时期对另一组可能的股票进行结果计算，和/或对不同时间段的相同股票进行计算。
- en: It is not enough to perform these steps once in a lifetime. Applying a strategy
    that would have performed well during the last year(s) assumes that there were
    no radical changes, neither within the firm nor in the economy that the company
    is active in. As markets tend to change, firm have to do so too. This means that
    what was the best practice last year may be just fine or average now. As a result
    of this, even if our investment strategy worked well for several years, we may
    see a gradual or even radical change in its effectiveness. So, a regular recheck
    and update is vital.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 仅仅执行这些步骤一次是不够的。应用一个在过去一年（或数年）内表现良好的策略，假设公司内外没有发生剧烈变化，也没有在公司所在的经济环境中发生根本性变化。因为市场往往会发生变化，公司也必须随之调整。这意味着，去年最好的做法现在可能只是普通或一般水平。因此，即使我们的投资策略在数年内运作良好，我们也可能会看到其效果逐渐或甚至剧烈变化。因此，定期重新检查和更新是至关重要的。
- en: Collecting data
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 收集数据
- en: Building the required database could be one of the biggest challenges. Here,
    we do not only need dividend-adjusted price quotes but also financial statements
    data. [Chapter 4](ch04.html "Chapter 4. Big Data – Advanced Analytics"), *Big
    Data – Advanced Analytics* described how to access some of the open data sources,
    but those rarely offer you all the required information in a package.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 构建所需的数据库可能是最大挑战之一。在这里，我们不仅需要经过股息调整的价格数据，还需要财务报表数据。[第4章](ch04.html "第4章 大数据 –
    高级分析")，*大数据 – 高级分析* 介绍了如何访问一些开放的数据源，但这些数据源很少能提供你所需的所有信息。
- en: Another option might be to use professional financial data providers as a source.
    These platforms allow you to create tailor-made tables that can be exported to
    Microsoft Excel. For the sake of this chapter, we used a Bloomberg terminal. As
    a first step, we exported the data to Microsoft Excel.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种选择是使用专业的金融数据提供商作为数据来源。这些平台允许你创建定制的表格并导出到 Microsoft Excel。为了本章的演示，我们使用了 Bloomberg
    终端。第一步，我们将数据导出到 Microsoft Excel。
- en: 'Spreadsheets may be an excellent tool to build a database of data collected
    from different sources. No matter how you got your data ready on a spreadsheet,
    you need to notice that due to the changing output formats (`xls`, `xlsx`, `xlsm`,
    `xlsb`) and the advanced formatting features (for example, merging cells), this
    is not the best form to feed R with your data. Instead, you may be far better
    off with saving your data in a file in the comma-separated format or as CSVs.
    This can be easily read using the following commands:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 电子表格可能是构建来自不同来源的数据库的极好工具。无论你如何准备电子表格中的数据，都需要注意，由于输出格式（`xls`，`xlsx`，`xlsm`，`xlsb`）的变化和高级格式化功能（例如合并单元格），这并不是将数据导入
    R 的最佳形式。相反，最好将数据保存为逗号分隔格式的文件或 CSV 文件。这样可以通过以下命令轻松读取：
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Here, the `= T` header indicates that your database has a header row, and `sep
    = ","` indicates that your data is separated by commas. Note that some localized
    versions of Excel may use different separators, such as semicolons. In this case,
    use sep = ";". If your file is not located in your R working directory, you have
    to specify the whole path as part of `file_name`.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`= T` 表示你的数据库有一个标题行，`sep = ","` 表示你的数据是以逗号分隔的。请注意，一些本地化版本的 Excel 可能使用不同的分隔符，比如分号。在这种情况下，使用
    `sep = ";"`。如果你的文件不在 R 的工作目录中，你需要指定文件的完整路径作为 `file_name` 的一部分。
- en: 'If you want to stick to your Excel file, the next method might work in most
    of the cases. Install the `gdata` package that extends the capabilities of R so
    that the software can read information form the `xls` or `xlsx` file:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望坚持使用 Excel 文件，接下来的方法在大多数情况下可能有效。安装 `gdata` 包，扩展 R 的功能，使软件能够读取 `xls` 或 `xlsx`
    文件中的信息：
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'After that, you may read the Excel file as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，你可以按照以下方式读取 Excel 文件：
- en: '[PRE2]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Here, the second argument marked as `n` indicates the worksheet in the workbook
    from which you want to read.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，第二个参数 `n` 表示你想要读取的工作簿中的工作表。
- en: To illustrate the process of building a fundamental trading strategy, we will
    use the NASDAQ Composite Index member firms. At the time of writing this chapter,
    21,931 firms are included.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明构建基础交易策略的过程，我们将使用纳斯达克综合指数的成分公司。在编写本章时，共有21,931家公司被纳入其中。
- en: 'To create a solid base for our strategy, we should first clean our database.
    Extreme values may create a serious bias otherwise. For example, no one would
    be surprised if a firm with a P/E (Price/Earning per share) ratio of 150 a year
    ago showed a quick price increase during the last 12 months, but finding such
    a share now may be impossible, so our strategy might be worthless. The strategy
    should help us find what shares to invest in once the choice is not trivial (of
    course, you may also lose with high P/E shares), so we will only keep shares without
    extreme values. The following limitations were applied:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 为了为我们的策略创建一个坚实的基础，我们应该首先清理我们的数据库。否则，极端值可能会造成严重的偏差。例如，如果一家公司在一年前的 P/E（每股市盈率）为
    150，并且在过去 12 个月内价格快速上涨，大家可能不会感到惊讶，但现在找到这样的股票可能是不可能的，所以我们的策略可能会毫无价值。策略应该帮助我们找到应该投资的股票，尤其是在选择不再显而易见的情况下（当然，高
    P/E 的股票也可能会亏损），所以我们只会保留没有极端值的股票。我们应用了以下限制：
- en: P/E (Price/Earning per share) lower than 100
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P/E（每股市盈率）低于 100
- en: The yearly Total Return to Shareholders (TRS), which is equal to price gain
    plus dividend yield, less than 100 percent
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 股东年总回报率（TRS），即价格涨幅加上股息收益率，低于 100%
- en: Long Term Debt / Total Capital less than 100 percent (no negative shareholder
    capital)
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 长期债务/总资本比小于100%（没有负的股东资本）
- en: P/BV (Price per Book value) of equity for one piece of share bigger than 1,
    so the market value of equity is higher than the book value (no point in liquidating
    the firm)
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 股票的市价/账面价值比（P/BV）大于1，即股票的市场价值高于账面价值（没有必要清算公司）
- en: Operating income/sales less than 100 percent but bigger than 0 (historical performance
    can be held in the long run)
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 营业收入/销售额小于100%，但大于0（历史表现可以在长期内持续）
- en: This way, only those firms remained that are not likely to be liquidated or
    go bankrupt, and they have shown performance that is clearly sustainable in the
    long run. After applying these filters, 7198 firms remained from all over the
    world.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式，只有那些不太可能被清算或破产的公司留下来，并且它们的表现显然是可持续的，长期来看非常稳定。在应用这些筛选条件后，全球剩下7198家公司。
- en: The next step involves selecting the ratios we will potentially use when defining
    the strategy. Based on historical experience, we picked 15 ratios from the financial
    statements a year earlier, plus the name of the sectors the firms operate in and
    the total shareholder return for the last 12 months.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是选择我们在定义策略时可能使用的比率。根据历史经验，我们从一年前的财务报表中选取了15个比率，再加上公司所属行业的名称以及过去12个月的总股东回报。
- en: 'It may prove wise to check whether the remaining data is appropriate for our
    aims. A boxplot diagram would reveal whether, for example, most of our stocks
    show huge positive or negative return or whether there are heavy differences across
    industries due to which we would end up describing one given booming industry
    as not a good investment strategy. Luckily, here, we have no such issues: (*Figure
    1*)'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 检查剩余数据是否适合我们的目标可能是明智之举。例如，箱型图可以揭示大部分股票是否显示出巨大的正或负回报，或者是否存在行业之间的巨大差异，这可能会导致我们将某个繁荣的行业描述为不适合投资的策略。幸运的是，在这里我们没有遇到这样的情况：(*图1*)
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The following figure is the result of the preceding code:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表是前述代码的结果：
- en: '![Collecting data](img/2078OT_09_01.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![收集数据](img/2078OT_09_01.jpg)'
- en: Figure 1
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图1
- en: 'It could be also a good idea to check whether we should introduce new variables.
    One possible yet missing categorization could control for firm size, as many models
    assume higher required return for low capitalization stocks due to them being
    less liquid. To control this, we may apply a scatter diagram, the code and output
    for this is as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 另外，检查是否应引入新的变量也是一个不错的主意。一个可能但缺失的分类可以控制公司规模，因为许多模型假设低资本化股票由于流动性差而需要更高的回报率。为此，我们可以使用散点图，相关的代码和输出如下：
- en: '[PRE4]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![Collecting data](img/2078OT_09_02.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![收集数据](img/2078OT_09_02.jpg)'
- en: We cannot see a clear trend for capitalization and TRS. We may also try to fit
    a curve on the data and calculate *R²* for the goodness of the fit, but the figure
    does not support any strong connection. R square indicates the percentage of variance
    explained by your estimation, so any value above 0.8 is great, while values bellow
    0.2 mean weak performance.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们无法看到资本化和总股东回报（TRS）之间的明显趋势。我们也可以尝试在数据上拟合一条曲线，并计算*R²*来评估拟合的好坏，但该图表并没有显示出任何强烈的关联。R平方值表示你的估算解释的方差百分比，因此，任何大于0.8的值都很好，而低于0.2的值则意味着表现较弱。
- en: Revealing connections
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 揭示关联
- en: 'To start our investigation for shares with huge upside potential, we have to
    check the connections between individual ratios quantified a year ago and the
    total return of the next year. For the sake of this chapter, we picked the following
    ratios. We took the values from 1 year earlier so that we can contrast these with
    last year''s TRS:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始调查具有巨大上行潜力的股票，我们必须检查一年前各项比率与次年总回报之间的关系。为了本章的研究，我们选择了以下比率。我们取自一年前的数据，以便将其与去年的总股东回报（TRS）进行对比：
- en: Cash/assets 1 year ago
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的现金/资产比
- en: Net fixed assets/total number of assets 1 year ago
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的净固定资产/总资产
- en: Assets/1000 employees 1 year ago
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的资产/每千名员工
- en: Price/cash flow average of last 5 years 1 year ago
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的价格/现金流（过去五年的平均值）
- en: Price/cash flow 1 year ago
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的价格/现金流
- en: Operating income/net sales 1 year ago
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的营业收入/净销售额
- en: Dividend payout ratio 1 year ago
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的股息支付比率
- en: Asset turnover 1 year ago
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的资产周转率
- en: P/BV 1 year ago
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的市价/账面价值比（P/BV）
- en: Operating income/net sales 1 year ago
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的营业收入/净销售额
- en: Revenue growth in the last 1 year 1 year ago
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的收入增长（过去1年）
- en: Long-term debt/capital 1 year ago
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的长期债务/资本比
- en: Debt/EBITDA 1 year ago
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一年前的债务/EBITDA
- en: Market capitalization 1 year ago
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 市值 一年前
- en: P/E 1 year ago
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P/E 一年前
- en: 'Calculating Pearson''s correlation coefficients may be a good start:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 计算 Pearson 相关系数可能是一个不错的起点：
- en: '[PRE5]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'When looking at the correlation table, there are two important conclusions
    to draw. They are as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在查看相关性表时，有两个重要结论需要得出。它们如下：
- en: There are only four financial ratios that show a significant correlation with
    TRS, but even there, the connections are very weak; that is, they remain in the
    range between -0.08 and +0.08\. This means there is no clear linear connection
    between any of our ratios and the TRS.
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只有四个财务比率与 TRS 存在显著相关性，但即便如此，连接也非常弱；即，它们的相关性在 -0.08 到 +0.08 之间。这意味着我们的比率与 TRS
    之间没有明确的线性关系。
- en: The financial ratios chosen are quite independent. Out of the 105 (15*14/2)
    potential connections, only 15 are significant. Even all those fit into the interval
    of -0.439 and +0.425, and only eight of them have a bigger absolute value than
    0.2.
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择的财务比率相当独立。在 105 个（15*14/2）潜在连接中，只有 15 个是显著的。即便这些都位于 -0.439 和 +0.425 之间，且只有
    8 个的绝对值大于 0.2。
- en: So, we see that it is not easy to set up a good strategy. Just relying on one
    single ratio would lead us nowhere. We shall go for more complex methods.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，我们看到，建立一个好的策略并不容易。仅仅依赖一个单一的比率将无法带我们前进。我们将选择更复杂的方法。
- en: Including multiple variables
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 包含多个变量
- en: One method to build a performance-prediction model could be using multiple variable
    regression models. A linear estimation should only include variables with minimal
    linear connection among them. As we have just seen, our explanatory variables
    are more or less independent of each other, which is great. It is bad news, though,
    that these variables individually also have low correlation with the dependent
    variable, TRS.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 构建一个业绩预测模型的方法之一是使用多变量回归模型。线性估计应只包括变量之间具有最小线性关系的情况。正如我们刚才看到的那样，我们的解释变量或多或少彼此独立，这是一个好消息。不过，坏消息是，这些变量单独与因变量
    TRS 的相关性都很低。
- en: 'To get the best linear estimation, we may choose from several methods. One
    option is to first include all variables and ask R to drop step by step the one
    with the lowest significance (step-wise method). Under another widely used method,
    R could start with one variable only and enter stepwise the next one with the
    highest explanatory power (the backward method). Here, we picked the latter, as
    the first method could not end with a significant model:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 为了得到最佳的线性估计，我们可以从几种方法中选择。一种选择是首先包括所有变量，并让 R 步步剔除最不显著的变量（逐步法）。另一种广泛使用的方法是，R 只从一个变量开始，并按步骤进入下一个解释力最强的变量（后退法）。在这里，我们选择了后退法，因为第一种方法不能得出显著的模型：
- en: '[PRE6]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The backward method ended up with an R squared of 1.6 percent, only meaning
    that the regression cannot explain more than 1.6 percent of the total variance
    of the TRS. In other words, the model's performance is extremely bad. Notice that
    the poor performance is due to the weak (linear) connection between explanatory
    variables and TRS. Should you have some variables with stronger connection, your
    linear regressions will show better results. With an R squared above 50 percent,
    you are very likely to build a great stock-selection strategy by buying shares
    that have high values for significant explanatory variables with a positive sign
    in the model, while they have low values for variables with a negative sign in
    the model. As we cannot use this method here, we have to follow a different logic.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 后退法最终得出的 R 平方值为 1.6%，仅意味着回归无法解释 TRS 总方差的 1.6%。换句话说，模型的表现极差。请注意，糟糕的表现是由于解释变量和
    TRS 之间的弱（线性）关系。如果你有一些与 TRS 关系更强的变量，你的线性回归结果会更好。R 平方值超过 50% 时，你很有可能通过购买在模型中具有正符号的显著解释变量的高值，同时购买在模型中具有负符号的变量的低值，来构建一个优秀的选股策略。由于我们在这里不能使用这种方法，我们必须遵循不同的逻辑。
- en: Separating investment targets
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分离投资目标
- en: 'An alternative method to build an investment strategy could be to separate
    good investment targets and check what is common between them. A good way to find
    similarities among stocks that performed well could be to create groups based
    on the TRS values and compare low- and high-performer clusters. The first step
    to this should be to analyze the following code:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 构建投资策略的另一种方法可能是将好的投资目标分开，并检查它们之间的共同点。找到表现良好的股票之间相似性的一种好方法是根据 TRS 值创建组，并比较低绩效和高绩效集群。第一步应该是分析以下代码：
- en: '[PRE7]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The following dendogram is the output for the preceding code:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 以下树状图是前面代码的输出结果：
- en: '![Separating investment targets](img/2078OT_09_03.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![分离投资目标](img/2078OT_09_03.jpg)'
- en: 'Based on the dendrogram, three clusters separate very well, but to cut the
    biggest of them into two subgroups, we may need to increase the number of clusters
    up until seven. To keep the overview, we should try to keep the number of cluster
    to the lowest possible, so first, we will try to create three clusters only using
    the k-means method:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 基于树状图，三个簇分离得非常好，但为了将其中最大的簇分割成两个子簇，我们可能需要将簇的数量增加到七个。为了保持概览，我们应该尽量保持簇的数量尽可能低，因此首先，我们将尝试仅使用
    k-means 方法创建三个簇：
- en: '[PRE8]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Our results are pretty encouraging. Our three clusters have 1000 to 4000 elements,
    and we can very clearly identify the overperformers, underperformers, and, mid-range
    performers:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的结果相当令人鼓舞。我们的三个簇包含 1000 到 4000 个元素，我们可以非常清晰地识别出表现优异的、表现差的和中等表现的公司：
- en: '[PRE9]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Next, we have to check whether there are significant differences regarding
    the average ratio values among these three groups. For this, we will use the Anova
    table. This statistical tool would compare the deviation across group averages
    and the standard deviation within the individual groups. Once the classification
    is valid, you would find huge differences among group averages but lesser differences
    when comparing firms within the same clusters:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要检查这三个组之间的平均比率值是否存在显著差异。为此，我们将使用 Anova 表格。这个统计工具将比较组间均值的偏差和各组内的标准差。一旦分类有效，你会发现组间均值差异巨大，但在同一簇内的公司之间差异较小：
- en: '[PRE10]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Output:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 输出：
- en: '[PRE11]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In the output, R marks significance with an asterisk (*) after the F test probabilities
    (Pr). So, you learned from the previous table that six of the variables show significant
    differences across clusters. To see the average values per cluster, you need to
    type the following code:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在输出中，R 通过在 F 检验概率（Pr）后添加星号（*）来标记显著性。所以，从前面的表格中你已经知道，六个变量在不同簇之间表现出显著差异。要查看每个簇的平均值，你需要输入以下代码：
- en: '[PRE12]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Our output was as follows. As you see, each variable has three rows (mean, number
    of elements, and standard deviation). That is why, the table is so long.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的输出结果如下。如你所见，每个变量都有三行（均值、元素数量和标准差）。这就是为什么表格这么长的原因。
- en: '|   | Underperformers | Midrange | Overperformers | Total |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '|   | 表现差的 | 中等表现 | 表现优异的 | 总计 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Total.Return.YTD..I..mean | -16.627 | 9.406 | 48.068 | 6.385 |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| Total.Return.YTD..I..mean | -16.627 | 9.406 | 48.068 | 6.385 |'
- en: '| Total.Return.YTD..I..N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| Total.Return.YTD..I..N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
- en: '| Total.Return.YTD..I..sd | 12.588 | 8.499 | 17.154 | 23.083 |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| Total.Return.YTD..I..sd | 12.588 | 8.499 | 17.154 | 23.083 |'
- en: '| Cash.Assets.Y.1.mean | 15.580 | 13.112 | 12.978 | 13.870 |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| Cash.Assets.Y.1.mean | 15.580 | 13.112 | 12.978 | 13.870 |'
- en: '| Cash.Assets.Y.1.N | 2263.000 | 3972.000 | 962.000 | 7197.000 |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| Cash.Assets.Y.1.N | 2263.000 | 3972.000 | 962.000 | 7197.000 |'
- en: '| Cash.Assets.Y.1.sd | 14.092 | 12.874 | 13.522 | 13.403 |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| Cash.Assets.Y.1.sd | 14.092 | 12.874 | 13.522 | 13.403 |'
- en: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.mean | 26.932 | 29.756 | 31.971 | 29.160
    |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.mean | 26.932 | 29.756 | 31.971 | 29.160
    |'
- en: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.N | 2252.000 | 3899.000 | 957.000 | 7108.000
    |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.N | 2252.000 | 3899.000 | 957.000 | 7108.000
    |'
- en: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.sd | 21.561 | 22.469 | 23.204 | 22.347
    |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| Net.Fixed.Assets.to.Tot.Assets.Y.1.sd | 21.561 | 22.469 | 23.204 | 22.347
    |'
- en: '| P.CF.5Yr.Avg.Y.1.mean | 18.754 | 19.460 | 28.723 | 20.274 |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| P.CF.5Yr.Avg.Y.1.mean | 18.754 | 19.460 | 28.723 | 20.274 |'
- en: '| P.CF.5Yr.Avg.Y.1.N | 1366.000 | 2856.000 | 521.000 | 4743.000 |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| P.CF.5Yr.Avg.Y.1.N | 1366.000 | 2856.000 | 521.000 | 4743.000 |'
- en: '| P.CF.5Yr.Avg.Y.1.sd | 57.309 | 132.399 | 281.563 | 142.133 |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| P.CF.5Yr.Avg.Y.1.sd | 57.309 | 132.399 | 281.563 | 142.133 |'
- en: '| Asset.Turnover.Y.1.mean | 1.132 | 1.063 | 1.052 | 1.083 |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| Asset.Turnover.Y.1.mean | 1.132 | 1.063 | 1.052 | 1.083 |'
- en: '| Asset.Turnover.Y.1.N | 2237.000 | 3941.000 | 939.000 | 7117.000 |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| Asset.Turnover.Y.1.N | 2237.000 | 3941.000 | 939.000 | 7117.000 |'
- en: '| Asset.Turnover.Y.1.sd | 0.758 | 0.783 | 0.679 | 0.763 |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| Asset.Turnover.Y.1.sd | 0.758 | 0.783 | 0.679 | 0.763 |'
- en: '| OI...Net.Sales.Y.1.mean | 13.774 | 14.704 | 15.018 | 14.453 |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| OI...Net.Sales.Y.1.mean | 13.774 | 14.704 | 15.018 | 14.453 |'
- en: '| OI...Net.Sales.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| OI...Net.Sales.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
- en: '| OI...Net.Sales.Y.1.sd | 11.385 | 12.211 | 12.626 | 12.023 |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| OI...Net.Sales.Y.1.sd | 11.385 | 12.211 | 12.626 | 12.023 |'
- en: '| LTD.Capital.Y.1.mean | 17.287 | 20.399 | 17.209 | 18.994 |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| LTD.Capital.Y.1.mean | 17.287 | 20.399 | 17.209 | 18.994 |'
- en: '| LTD.Capital.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| LTD.Capital.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
- en: '| LTD.Capital.Y.1.sd | 18.860 | 19.785 | 19.504 | 19.521 |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| LTD.Capital.Y.1.sd | 18.860 | 19.785 | 19.504 | 19.521 |'
- en: '| P.E.Y.1.mean | 20.806 | 19.793 | 19.455 | 20.067 |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| P.E.Y.1.mean | 20.806 | 19.793 | 19.455 | 20.067 |'
- en: '| P.E.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| P.E.Y.1.N | 2264.000 | 3972.000 | 962.000 | 7198.000 |'
- en: '| P.E.Y.1.sd | 14.646 | 13.702 | 14.782 | 14.159 |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| P.E.Y.1.sd | 14.646 | 13.702 | 14.782 | 14.159 |'
- en: As we have seen in our preceding Anova table, in the case of six out of eight
    financial ratios, we find significant differences among the three groups. This
    method helps to find even nonlinear connections (in contrast to correlation ratios).
    A good example of this is Cash.Assets; Overperformers and mid-range shows very
    similar values, but underperformers have a significantly higher amount of (probably
    unused) cash. This means that being below a certain level, cash/asset gives us
    the hint that the given share is not a good investment. We will find the same
    pattern with the asset turnover.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前面的方差分析（Anova）表中所看到的，在八个财务比率中的六个比率上，我们发现了三组之间的显著差异。这种方法有助于发现即使是非线性的连接（与相关性比率相反）。一个很好的例子是现金/资产（Cash.Assets）；表现优异者和中间组的值非常相似，但表现不佳者则有明显更高的（可能未使用的）现金量。这意味着，当现金/资产低于某一水平时，我们可以推测该股票不是一个好的投资。我们也会在资产周转率中发现相同的模式。
- en: The 5-year average of **Price/Cash flow** (**P/CF**) is another good example
    of how we may discover connections that remain hidden when only checking correlations.
    This ratio shows the J form, that is, the lowest value is with the mid-range group,
    and the highest with the overperformers.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**价格/现金流**（**P/CF**）的5年平均值是我们如何发现那些仅通过相关性检查时仍然隐藏的连接的另一个很好的例子。这个比率呈现J型曲线，即最低值出现在中间组，而最高值出现在表现优异的组。'
- en: Based on these results, the best investment targets may have, at the same time,
    lower cash ratio and financial leverage (LT debt / capital) but higher fixed asset
    rate and P/CF ratio, while P/E and asset turnover are just average. In short,
    the best firms use their current capital efficiently; they average the asset turnover
    with not too much free cash. They have further room to increase their leverage
    and have a good cash flow growth outlook reflected by the higher P/CF rate. Before
    testing this selection method, we shall check whether we may refine this by either
    adding more exact rules to separate potential investment or by simplifying it
    by removing some of these criteria.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些结果，最佳的投资目标可能同时具有较低的现金比率和财务杠杆（长期债务/资本），但具有较高的固定资产比率和P/CF比率，而P/E和资产周转率则仅为平均水平。简而言之，最佳公司有效利用其当前资本；它们的资产周转率平均且没有过多的自由现金。它们仍有增加杠杆的空间，并且具有较好的现金流增长前景，这反映在较高的P/CF比率上。在测试此选择方法之前，我们应检查是否可以通过添加更精确的规则来区分潜在投资，或者通过删除其中的一些标准来简化它。
- en: Setting classification rules
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置分类规则
- en: 'Let''s follow a different logic to develop decision rules so that we can contrast
    the two results later. Let''s select which shares offered the best returns. Decision
    or classification trees are great for this purpose. Here, R will pick from the
    given list of variables those that can create the most effective decision rules.
    Instead of building joint rules, like we did previously, first, it selects the
    variable using which we may create subgroups of the shares regarding their TRS.
    Then, for each of these subgroups, it will choose the second most effective variable
    and so on. The output is a kind of decision tree:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们采用不同的逻辑来制定决策规则，以便稍后对比两个结果。我们来选择哪些股票提供了最好的回报。决策树或分类树非常适合这个目的。在这里，R将从给定的变量列表中挑选出那些能够创建最有效决策规则的变量。与之前构建联合规则不同，首先，它会选择一个变量，通过该变量我们可以根据TRS将股票分组。然后，对于每个子组，它会选择第二个最有效的变量，以此类推。输出结果就是一种决策树：
- en: '[PRE13]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'In our case, the resulting tree has five levels, as you can see in the next
    figure. In each node, we get the indication of the average TRS for the created
    subgroups. The decision rule is also indicated: if the logical statement is true,
    go down on the branch to the left; if it is false, you will follow the right branch.
    As seen here, we will focus only on high return possibilities. We have to check
    the bottom of the tree to see what subgroups were created and which of them would
    show a particularly high TRS:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，生成的树状图有五个层级，如下图所示。在每个节点中，我们会看到所创建子组的平均TRS值。决策规则也会标示：如果逻辑语句为真，则向左分支走；如果为假，则向右分支走。如图所示，我们将专注于高回报的可能性。我们需要查看树的底部，看看创建了哪些子组，并找出哪些子组的TRS特别高：
- en: '![Setting classification rules](img/2078OT_09_04.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![设置分类规则](img/2078OT_09_04.jpg)'
- en: Our database ended up with three subgroups with particularly high-average TRS.
    Based on the tree, we have to check the Cash/Assets ratio first.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据库最终生成了三个特别高平均总回报率（TRS）的子组。根据树状图，我们需要首先检查现金/资产比率。
- en: Firms with a ratio higher than (or equal to) 1.6 percent should be divided further
    based on the net fixed assets / total assets. If the ratio is above 12.3 percent
    and the asset/employee rate is below 398, plus the asset turnover is lower than
    1.66, we only need to be sure that the 1 year growth of the revenue for the previous
    year was above 43.5 percent to get a subgroup of 63 firms with an average TRS
    of 19 percent.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 现金比率高于（或等于）1.6%的公司应根据净固定资产/总资产的比例进一步划分。如果比例高于12.3%且资产/员工比率低于398，且资产周转率低于1.66，那么我们只需要确保前一年收入的年增长超过43.5%，就能得到一个包含63家公司的子组，平均总回报率（TRS）为19%。
- en: If the Cash/Assets is above (or equal to) 1.6 percent and the net fixed assets
    / total assets ratio is below 12.3 percent, we need to look for the yearly growth
    of the revenue for the previous year. For the 11 companies where that ratio is
    above 3.77 percent and the market capitalization exceeds 2874 billion dollars,
    we will find an average TRS of 34.6 percent.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果现金/资产比率高于（或等于）1.6%且净固定资产/总资产比例低于12.3%，我们需要查看前一年的年收入增长率。对于那11家公司，其中的比例超过3.77%，且市值超过2874亿美元，我们将发现平均总回报率为34.6%。
- en: There is also a third group of overperformers. The 348 firms with a cash ratio
    lower than 1.6 and the companies with an asset/employee rate higher than 2156
    generated an average TRS of 19 percent.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个超额表现的第三组。现金比率低于1.6的348家公司，以及资产/员工比率高于2156的公司，产生了平均19%的总回报率（TRS）。
- en: Considering the number of elements in these three groups compared to the total
    number of firms being analyzed, the first and the last one may offer us a realistic
    investment strategy. The group with 11 companies only represents 0.15 percent
    of the total, and so, it may be the result of random or unexpected events.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这三个组别的元素数量与总分析公司数量的比例，第一个和最后一个组可能会为我们提供一个现实的投资策略。包含11家公司的组只占总数的0.15%，因此，它可能是随机或意外事件的结果。
- en: So, to sum this up, a high cash ratio (over 1.6) should go hand in hand with
    higher than 12.3 percent fixed asset ratio, an asset/employee value below 398,
    an asset turnover below 1.66, and a yearly revenue growth for the previous year
    exceeding 43.5 percent. If your cash ratio is lower than 1.6, asset/employee should
    be higher than 2156 to pick shares from our portfolio.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，高现金比率（超过1.6）应与超过12.3%的固定资产比率、低于398的资产/员工值、低于1.66的资产周转率以及前一年年收入增长超过43.5%的条件相匹配。如果你的现金比率低于1.6，那么资产/员工比率应高于2156，才能从我们的投资组合中挑选股票。
- en: Notice that here, only five variables are included in our investment decision
    program, while previously, a constellation of eight variables was set up. Also,
    note that there are only three ratios (Cash/Assets, fixed assets ratio, and asset
    turnover), which are used in both of these decision processes. Our next step may
    be comparing the efficiency of the two methods.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，这里仅包含了五个变量在我们的投资决策程序中，而之前我们设置了八个变量的星座。此外，还需注意，这两个决策过程中只有三个比率（现金/资产比率、固定资产比率和资产周转率）被使用。我们的下一步可能是比较这两种方法的效率。
- en: Backtesting
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 回测
- en: The word "backtesting" refers to calculating the results of a trading strategy
    on a historical dataset. In our case, we will use the same dataset because of
    which we will overestimate the effectiveness, as our statistical models were optimized
    on exactly the same data. In the real life, we might go for a different time period
    or a different group of equities (or both) to measure efficiency more objectively.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: “回测”一词指的是在历史数据集上计算交易策略的结果。在我们的案例中，我们将使用相同的数据集，因此我们会高估其效果，因为我们的统计模型是基于完全相同的数据进行优化的。在现实生活中，我们可能会选择不同的时间段或不同的股票组（或两者）来更客观地衡量效率。
- en: No matter how we got the best performers separated, testing the investment idea
    follows the same logic. You translate the result into rules, pick the firms (normally
    from a different sample) that fulfill the requirements and place them into one
    cluster, and then create another cluster to contain all the other companies. Finally,
    compare the mean and/or median performance of the two groups.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我们如何将表现优秀的公司分开，投资想法的测试遵循相同的逻辑。您将结果转化为规则，挑选符合要求的公司（通常来自不同的样本）并将其放入一个集群，然后创建另一个集群以包含所有其他公司。最后，比较两组的均值和/或中位数表现。
- en: 'To test the selection rules of the decision tree, we have to create a subset
    of firms that fulfil the requirements of having a cash ratio above 1.6, fixed
    asset ratio exceeding 12.3 percent, an asset/employee rate below 398, and 1 year
    growth of the revenue for the previous year at least 43.5 percent. Then, we have
    to add the firms with a cash ratio below 1.6 and an asset/employee above 2156:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试决策树的选择规则，我们需要创建一个符合以下要求的公司子集：现金比率高于 1.6，固定资产比率超过 12.3%，资产/员工比率低于 398，且上一年收入增长率至少为
    43.5%。然后，我们需要添加现金比率低于 1.6 且资产/员工比率高于 2156 的公司：
- en: '[PRE14]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To do this, we will create two new variables (one for both subsets) that are
    equal to 1 if requirements are fulfilled; otherwise, they will be equal to 0\.
    Next, we will calculate a third variable that is the sum of the previous two.
    This way, we will end up with two clusters: 1 for firms qualifying for investment
    and 0 for all others:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们将创建两个新的变量（每个子集一个），如果满足要求，它们的值为 1；否则，它们的值为 0。接下来，我们将计算第三个变量，它是前两个变量的和。这样，我们将得到两个集群：1
    表示符合投资条件的公司，0 表示所有其他公司：
- en: '[PRE15]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Once we are ready with the reclustering, an ANOVA table will help us compare
    the performance of the firms selected and not selected. To assure that it is not
    due to outliers that we have significantly different averages, it is always wise
    to compare medians too. In our case, the categorization seems to work just fine,
    as even among the medians, we have a huge difference:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们准备好了重新分类，ANOVA 表将帮助我们比较被选中和未被选中的公司的表现。为了确保差异显著不是由于异常值引起的，最好也比较中位数。在我们的案例中，分类似乎运行良好，因为即使是在中位数之间，我们也有巨大的差异：
- en: '[PRE16]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Testing the cluster-based investment idea is slightly more complicated. Here,
    we only see that the cluster of the better firms is different in average in some
    respect from the other two groups. It is important to notice that these were not
    the differences that we used to create the clusters; it is simply us turning the
    logic over and saying that criteria on the financial ratios may result is separating
    the better performers.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 测试基于集群的投资想法稍微复杂一些。这里，我们仅看到表现更好的公司集群在某些方面的平均值与其他两个组有所不同。需要注意的是，这些差异并不是我们用来创建集群的依据；这只是我们反转逻辑并说财务比率的标准可能会导致更好的表现者分离。
- en: We need to go through all the eight variables that showed significant differences
    and create a range of acceptance. Using very narrow ranges may lead to a very
    small number of shares to pick; applying a range far too wide will make the difference
    between groups in TRS disappear. Once again, checking medians may help.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要遍历所有八个显示出显著差异的变量，并创建一个接受范围。使用非常窄的范围可能会导致需要选择的股票数量非常少；而使用过于宽泛的范围则会使组间的 TRS
    差异消失。再次强调，检查中位数可能有助于判断。
- en: 'To get the means and medians for the three clusters that we identified previously,
    we will use the following code. To save space when printing the table instead
    of using the original names, we numbered the three groups as follows:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 为了获取我们之前识别的三个集群的均值和中位数，我们将使用以下代码。为了在打印表格时节省空间，我们将三个组编号如下：
- en: Underperformers
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 表现不佳者
- en: Mid-range performers
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 中等表现者
- en: Overperformers.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 表现优秀者。
- en: 'Here is the code:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是代码：
- en: '[PRE17]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The following table shows our rules developed based on the Anova table for the
    clusters. Due to the small differences or overlapping ranges, we dropped three
    variables from the criteria rules. Remember that your main task is to separate
    overperformers from underperformers, so an overlap with the mid-range is more
    acceptable (set wider ranges of acceptance where mid-range is really in the middle)
    than any with the underperformers.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格展示了我们根据 Anova 表为集群制定的规则。由于差异较小或范围重叠，我们从标准规则中删除了三个变量。记住，您的主要任务是将表现优秀的公司与表现不佳的公司分开，因此与中等范围的重叠是更可接受的（在中等范围确实处于中间时设置更宽的接受范围），而不是与表现不佳的公司重叠。
- en: '|   | Cash/Assets | Net Fixed Assets to Total Assets | P/CF 5Yr Average | Asset
    Turnover | OI / Net Sales | LTD/Capital | Market Cap (M) | P/E |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '|   | 现金/资产 | 净固定资产占总资产比率 | P/CF 5年平均 | 资产周转率 | 营业收入/净销售 | 长期债务/资本 | 市值（百万）
    | 市盈率 |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| Min | none | 23 | dropped | none | 11 | dropped | dropped | none |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 最小值 | 无 | 23 | 删除 | 无 | 11 | 删除 | 删除 | 无 |'
- en: '| Max | 14 | none | dropped | 1,7 | none | dropped | dropped | 20 |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 最大值 | 14 | 无 | 删除 | 1.7 | 无 | 删除 | 删除 | 20 |'
- en: Table 1
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 表 1
- en: 'With the following code, we will first arrange all the requirements into one
    variable. Then, a final comparison table is created:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下代码，我们将首先将所有要求整理为一个变量。然后，创建一个最终的对比表：
- en: '[PRE18]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'As you can see, our selected firms have an average return of 9.68 percent,
    while the median amounted to 7.6 percent. Here, we may draw the conclusion that
    the strategy developed based on the decision tree performed better with respect
    to both the mean (19.05 percent) and median (14.98 percent). To check the overlap,
    we will calculate a crosstab:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，我们选定的公司平均回报率为9.68%，而中位数为7.6%。在这里，我们可以得出结论，基于决策树开发的策略在均值（19.05%）和中位数（14.98%）方面的表现更好。为了检查重叠情况，我们将计算一个交叉表：
- en: '[PRE19]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Here, we see that the two strategies are pretty different: only 126 firms got
    selected under both strategies. But are they something extraordinary? Indeed.
    These shares achieved an average TRS of 19.9 percent with a median of 14.4, which
    is calculated as follows:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们看到这两种策略相差甚远：只有126家公司同时在两种策略下被选中。但这些公司是否特别呢？确实。这些股票实现了19.9%的平均总回报率，且中位数为14.4%，其计算如下：
- en: '[PRE20]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Industry-specific investment
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行业特定投资
- en: Until this point, we considered the entire sample as one. It could be a logical
    decision to focus only on some industries. Note that choosing the right industry
    to invest should not be based on past performance pattern; we rather have to analyze
    comovements with global economic trends over a number of years, and then, based
    on our prediction for the coming periods, we should pick the one with the best
    outlook. This method helps you to determine the right weights of the industries
    in your portfolio, but then, you still need to select individual shares that may
    overperform the others.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们将整个样本视为一个整体。专注于某些行业可能是一个合理的决定。请注意，选择合适的投资行业不应基于过去的表现模式；我们需要分析与全球经济趋势的共动性，涵盖若干年的数据，然后，根据我们对未来时期的预测，挑选出前景最好的行业。这种方法帮助你确定投资组合中各行业的适当权重，但之后，你仍然需要选择那些可能超越其他行业的个股。
- en: Of course, once one given industry is selected, we may end up with different
    investment rules than those on the whole sample. So, we may further improve our
    investment performance by performing the previously shown steps for each industry
    separately.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，一旦选定某一行业，我们可能会得出不同于整体样本的投资规则。因此，我们可以通过分别对每个行业执行之前展示的步骤，进一步提高投资表现。
- en: At the same time, recall that the more specific you are in data selection (time
    period, industry, and firm size), the less likely will the strategy created show
    good performance on other samples or in the future. By increasing the degree of
    freedom of your strategy building (rerunning all statistical tests for subsamples),
    you make recommendations fit nearly perfectly to the given sample that may reflect
    the effects of a number of random events. As these random effects never occur
    again, adding more and more flexibility after a certain limit will actually worsen
    the end result.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 同时，请记住，你在数据选择时越具体（时间段、行业和公司规模），所创建的策略在其他样本或未来的表现就越不可能很好。通过增加策略构建的自由度（对子样本重新进行所有统计测试），你使得建议几乎完美地适应当前样本，而这个样本可能反映了一些随机事件的影响。由于这些随机效应永远不会再发生，在某个限制之后，增加更多的灵活性实际上会使最终结果变差。
- en: 'For the sake of the example, we picked `Communications`. If we apply the decision-tree
    technique here, we would end up with the following figure. After that, we have
    to invest into firms that have seen their revenue growing by less than 21 percent
    but more than 1.31 percent during the last year, while the net fixed assets ratio
    was at least 8.06 percent:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 为了举例说明，我们选择了`通讯`行业。如果在这里应用决策树技术，我们将得到如下图形。之后，我们需要投资于那些在过去一年中，收入增长率低于21%但高于1.31%的公司，同时净固定资产比率至少为8.06%的公司：
- en: '[PRE21]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![Industry-specific investment](img/2078OT_09_05.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![行业特定投资](img/2078OT_09_05.jpg)'
- en: At the same time, building a strategy based on a general sample of a given period
    may end up overweighting certain industries that show great performance during
    the given year(s), while, of course, there is no guarantee that the coming years
    will also prefer the same sectors. So, after building our strategy, we should
    crosscheck whether there is a serious industry dependency behind that strategy.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 与此同时，基于给定时期的一般样本构建策略可能会导致某些在特定年份表现突出的行业权重过大，而当然，无法保证未来几年同样偏好这些行业。因此，在构建我们的策略后，我们应该交叉检查该策略背后是否存在严重的行业依赖性。
- en: 'A cross-table controlling for the connection of the industry and decision-tree-based
    investment strategy reveals that we heavily overweighted the Energy and Utilities
    sectors. The cluster-based strategy, at the same time, gives an extra weight to
    materials. The code for the latter is shown here:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 一个交叉表，控制了行业与基于决策树的投资策略之间的关系，揭示了我们在能源和公用事业行业中大幅过度加权。与此同时，基于聚类的策略则额外加权了材料行业。后者的代码如下所示：
- en: '[PRE22]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'We may also be interested in how good our strategy performs across industries.
    For this, we should see the average TRS of firms chosen and not chosen for all
    the individual sectors. To create a table like this, we need to use the following
    command. The output illustrates how the decision-tree-based strategy performs
    (0 not selected, 1 selected):'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可能对我们策略在各行业中的表现感兴趣。为此，我们应该查看所有行业中被选中和未选中公司的平均TRS。要创建这样一个表格，我们需要使用以下命令。输出结果展示了基于决策树的策略表现（0表示未选中，1表示选中）：
- en: '[PRE23]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: As shown in the preceding output, our strategy performs pretty well in all sectors;
    though in `Consumer Staples`, the median of the selected firms is somewhat near
    to that of not selected. In other cases, we may end up seeing that in some sectors,
    we do not get very good results, and the TRS of the chosen firms may even be lower
    than that of the other group. In this case, we would build a separate stock-selection
    model for those sectors where our model performed weaker.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述输出所示，我们的策略在所有行业中的表现都相当不错；尽管在`消费品`行业，选中的公司的中位数与未选中的公司相差不大。在其他情况下，我们可能会发现，在某些行业中，我们的结果并不理想，选中的公司TRS甚至可能低于另一组公司。在这种情况下，我们将为那些表现较弱的行业构建单独的选股模型。
- en: Summary
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we investigated how to use R to build an investment strategy
    on fundamental bases. After building and loading our database to R, we first checked
    whether some of our variables show a strong connection with TRS. Then, we checked
    whether some linear combinations of them would perform well and controlled them.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们研究了如何使用R构建基于基本面的投资策略。在构建并加载我们的数据库到R中后，我们首先检查了我们的某些变量是否与TRS有强关联。然后，我们检查了它们的线性组合是否表现良好并进行了控制。
- en: As neither method led to an acceptable result, we turned the logic upside down.
    We created clusters of firms based on TRS performance; then, we checked what is
    typical for overperformers. We also used decision trees to look for the best way
    to separate the firms with the highest TRS. Then, based on the results, we described
    stock-selection rules and performed backtesting.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 由于两种方法均未产生可接受的结果，我们将逻辑颠倒过来。我们基于TRS表现创建了公司的聚类；然后，我们检查了表现优异者的典型特征。我们还使用了决策树来寻找最佳方法，将TRS最高的公司分开。然后，基于结果，我们描述了选股规则并进行了回测。
- en: 'Our example showed that even if individual explanatory variables show no strong
    linear connection to performance, it is possible to build an effective fundamental
    stock-selection strategy. When applying these techniques, recall the limitations:
    too much flexibility may hurt. A model with a nearly perfect fit for a historical
    dataset may perform very badly in the future if you achieved the good fit by providing
    too much freedom to your model.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的示例表明，即使单独的解释变量与表现之间没有强烈的线性关系，仍然可以构建有效的基本面选股策略。在应用这些技术时，请记住其局限性：过多的灵活性可能会适得其反。如果您通过为模型提供过多自由度而获得对历史数据集的近乎完美拟合，那么该模型在未来的表现可能会非常糟糕。
- en: References
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '**Brealey, Richard – Myers, Stewart – Marcus, Alan (2011)**: Fundamentals of
    Corporate Finance, McGraw-Hill/Irwin; 7th edition'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Brealey, Richard – Myers, Stewart – Marcus, Alan (2011)**：《公司财务基础》McGraw-Hill/Irwin；第7版'
- en: '**Ross, Stephen – Westerfield, Randolph – Jordan, Bradford D. (2009)**: Fundamentals
    of Corporate Finance Standard Edition McGraw-Hill/Irwin; 9th edition'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ross, Stephen – Westerfield, Randolph – Jordan, Bradford D. (2009)**：《公司财务基础》（标准版）McGraw-Hill/Irwin；第9版'
- en: '**Koller, Tim – Goedhart, Marc – Wessels, David (2010)**: Valuation, Measuring
    and managing the value of companies, 5th edition, John Wiley & Sons, New York'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**科勒, 蒂姆 – 古德哈特, 马克 – 韦塞尔斯, 大卫 (2010)**: 《估值：公司价值的衡量与管理》，第五版，约翰·威立与子公司，纽约'
- en: '**Damodaran, Aswath (2002)**: Investment Valuation, Tools and Techniques for
    Determining the Value of Any Asset, John Wiley & Sons, Inc., New York'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**达莫达兰, 阿斯瓦斯 (2002)**: 《投资估值：确定任何资产价值的工具与技巧》，约翰·威立与子公司，纽约'

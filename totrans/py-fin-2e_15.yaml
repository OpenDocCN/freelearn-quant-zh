- en: Chapter 15. Volatility, Implied Volatility, ARCH, and GARCH
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第15章：波动率、隐含波动率、ARCH和GARCH
- en: 'In finance, we know that risk is defined as uncertainty since we are unable
    to predict the future more accurately. Based on the assumption that prices follow
    a lognormal distribution and returns follow a normal distribution, we could define
    risk as standard deviation or variance of the returns of a security. We call this
    our conventional definition of volatility (uncertainty). Since a normal distribution
    is symmetric, it will treat a positive deviation from a mean in the same manner
    as it would a negative deviation. This is against our conventional wisdom since
    we treat them differently. To overcome this, Sortino (1983) suggests a lower partial
    standard deviation. Most of the time, it is assumed that the volatility of a time
    series is a constant. Obviously this is not true. Another observation is volatility
    clustering, which means that high volatility is usually followed by a high-volatility
    period, and this is true for low volatility, which is usually followed by a low-volatility
    period. To model this pattern, Angel (1982) develops an **Auto Regressive Conditional
    Heteroskedasticity** (**ARCH**) process, and Bollerslev (1986) extends it to a
    **Generalized Auto Regressive Conditional Heteroskedasticity** (**GARCH**) process.
    In this chapter, the following topics will be covered:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融中，我们知道风险被定义为不确定性，因为我们无法更准确地预测未来。基于价格服从对数正态分布且回报服从正态分布的假设，我们可以将风险定义为证券回报的标准差或方差。我们称之为传统的波动率（不确定性）定义。由于正态分布是对称的，它将以与负偏差相同的方式处理均值的正偏差。这与我们的传统认知相悖，因为我们通常将它们区分开来。为了解决这一问题，Sortino（1983）提出了下偏标准差。通常假设时间序列的波动率是常数，显然这是不准确的。另一个观察是波动率聚集性，意味着高波动率通常会跟随一个高波动率期，低波动率也通常会跟随一个低波动率期。为了模拟这种模式，Angel（1982）开发了**自回归条件异方差**（**ARCH**）过程，而Bollerslev（1986）将其扩展为**广义自回归条件异方差**（**GARCH**）过程。本章将涵盖以下主题：
- en: Conventional volatility measure—standard deviation—based on a normality assumption
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传统的波动率度量——标准差——基于正态性假设
- en: Tests of normality and fat tails
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正态性和厚尾检验
- en: Lower partial standard deviation and Sortino ratio
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下偏标准差和Sortino比率
- en: Test of equivalency of volatility over two periods
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个时期波动率等价性的检验
- en: Test of heteroskedasticity, Breusch and Pagan
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 异方差性检验，Breusch和Pagan
- en: Volatility smile and skewness
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 波动率微笑和偏度
- en: The ARCH model
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ARCH模型
- en: Simulation of an ARCH (1) process
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模拟ARCH(1)过程
- en: The GARCH model
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GARCH模型
- en: Simulation of a GARCH process
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GARCH过程的模拟
- en: Simulation of a GARCH (p,q) process using modified `garchSim()`
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用修改版`garchSim()`模拟GARCH(p,q)过程
- en: GJR_GARCH process by Glosten, Jagannathan, and Runkle
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Glosten、Jagannathan和Runkle提出的GJR_GARCH过程
- en: Conventional volatility measure – standard deviation
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 传统的波动率度量——标准差
- en: 'In most finance textbooks, we use the standard deviation of returns as a risk
    measure. This is based on a critical assumption that log returns follow a normal
    distribution. Both standard deviation and variance could be used to measure uncertainty;
    the former is usually called volatility itself. For example, if we say that the
    volatility of IBM is 20 percent, it means that its annualized standard deviation
    is 20 percent. Using IBM as an example, the following program is used to estimate
    its annualized volatility:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数金融教科书中，我们使用回报的标准差作为风险度量。这基于一个关键假设，即对数回报服从正态分布。标准差和方差都可以用来衡量不确定性；前者通常被称为波动率。例如，如果我们说IBM的波动率为20%，这意味着其年化标准差为20%。以IBM为例，以下程序用于估计其年化波动率：
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Tests of normality
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 正态性检验
- en: 'The Shapiro-Wilk test is a normality test. The following Python program verifies
    whether IBM''s returns are following a normal distribution. The last five-year
    daily data from Yahoo! Finance is used for the test. The null hypothesis is that
    IBM''s daily returns are drawn from a normal distribution:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Shapiro-Wilk检验是一个正态性检验。以下Python程序验证IBM的回报是否遵循正态分布。测试使用的是来自Yahoo! Finance的过去五年的每日数据。零假设是IBM的每日回报来自正态分布：
- en: '[PRE1]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The first value of the result is the test statistic, and the second one is its
    corresponding P-value. Since this P-value is so close to zero, we reject the null
    hypothesis. In other words, we conclude that IBM's daily returns do not follow
    a normal distribution.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 结果的第一个值是检验统计量，第二个值是其对应的P值。由于这个P值非常接近零，我们拒绝原假设。换句话说，我们得出结论，IBM的日收益不遵循正态分布。
- en: 'For the normality test, we could also apply the Anderson-Darling test, which
    is a modification of the Kolmogorov-Smirnov test, to verify whether the observations
    follow a particular distribution. The `stats.anderson()` function has tests for
    normal, exponential, logistic, and Gumbel (Extreme Value Type I) distributions.
    The default test is for a normal distribution. After calling the function and
    printing the testing results, we see the following result:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 对于正态性检验，我们也可以使用安德森-达林检验，这是一种科尔莫哥洛夫-斯米尔诺夫检验的改进方法，用于验证观测数据是否遵循特定分布。`stats.anderson()`函数提供了正态、指数、逻辑和Gumbel（极值类型I）分布的检验。默认的检验是正态分布检验。调用该函数并打印测试结果后，我们得到了以下结果：
- en: '[PRE2]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Here, we have three sets of values: the Anderson-Darling test statistic, a
    set of critical values, and a set of corresponding confidence levels, such as
    15 percent, 10 percent, 5 percent, 2.5 percent, and 1 percent, as shown in the
    previous output. If we choose a 1 percent confidence level—the last value of the
    third set—the critical value is 1.089, the last value of the second set. Since
    our testing statistic is 14.73, which is much higher than the critical value of
    1.089, we reject the null hypothesis. Thus, our Anderson-Darling test leads to
    the same conclusion as our Shapiro-Wilk test.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们有三组值：安德森-达林检验统计量、一组临界值和一组对应的置信水平，如15%、10%、5%、2.5%和1%，如前面的输出所示。如果我们选择1%的置信水平——第三组的最后一个值——则临界值为1.089，即第二组的最后一个值。由于我们的检验统计量是14.73，远高于临界值1.089，因此我们拒绝原假设。因此，我们的安德森-达林检验得出的结论与我们的Shapiro-Wilk检验相同。
- en: Estimating fat tails
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 估计肥尾
- en: 'One of the important properties of a normal distribution is that we could use
    mean and standard deviation, the first two moments, to fully define the whole
    distribution. For n returns of a security, its first four moments are defined
    in equation (1). The mean or average is defined as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的一个重要性质是，我们可以使用均值和标准差，即前两个矩，来完全定义整个分布。对于n个证券收益，其前四个矩在方程式（1）中定义。均值或平均值定义如下：
- en: '![Estimating fat tails](img/B06175_15_08.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![估计肥尾](img/B06175_15_08.jpg)'
- en: 'Its (sample) variance is defined by the following equation. The standard deviation,
    that is, σ, is the squared root of the variance:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 它的（样本）方差由以下公式定义。标准差，即σ，是方差的平方根：
- en: '![Estimating fat tails](img/B06175_15_09.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![估计肥尾](img/B06175_15_09.jpg)'
- en: 'The skewness defined by the following formula indicates whether the distribution
    is skewed to the left or to the right. For a symmetric distribution, its skewness
    is zero:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 以下公式定义的偏度表示分布是偏向左还是偏向右。对于对称分布，其偏度为零：
- en: '![Estimating fat tails](img/B06175_15_10.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![估计肥尾](img/B06175_15_10.jpg)'
- en: 'The kurtosis reflects the impact of extreme values because of its power of
    four. There are two types of definitions with and without minus three; refer to
    the following two equations. The reason behind the deduction of three in equation
    (4B), is that for a normal distribution, its kurtosis based on equation (4A) is
    three:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 峰度反映了极值的影响，因为它的四次方特性。峰度有两种定义方式，一种是带有减三的定义，另一种是不带减三的定义；请参见以下两个方程。方程式（4B）中减去三的原因是，对于正态分布，基于方程式（4A）的峰度为三：
- en: '![Estimating fat tails](img/B06175_15_11.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![估计肥尾](img/B06175_15_11.jpg)'
- en: 'Some books distinguish these two equations by calling equation (4B) excess
    kurtosis. However, many functions based on equation (4B) are still named kurtosis.
    Since we know that a standard normal distribution has a zero mean, unit standard
    deviation, zero skewness, and zero kurtosis (based on equation 4B). The following
    output confirms these facts:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 有些书籍通过称方程式（4B）为超额峰度来区分这两个方程。然而，许多基于方程式（4B）的函数仍然被称为峰度。因为我们知道标准正态分布具有零均值、单位标准差、零偏度和零峰度（基于方程式4B）。以下输出确认了这些事实：
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The mean, skewness, and kurtosis are all close to zero, while the standard
    deviation is close to one. Next, we estimate the four moments for S&P500 based
    on its daily returns as follows:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 均值、偏度和峰度都接近零，而标准差接近一。接下来，我们基于S&P500的日收益率估计四个矩，具体如下：
- en: '[PRE4]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The output for the five values mentioned in the previous code, including the
    number of observations, is given as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是前面代码中提到的五个值的输出，包括观察次数：
- en: '[PRE5]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: This result is very close to the result in the paper titled *Study of Fat-tail
    Risk by Cook Pine Capital*, the PDF version of the paper could be downloaded at
    [http://www.cookpinecapital.com/assets/pdfs/Study_of_Fat-tail_Risk.pdf](http://www.cookpinecapital.com/assets/pdfs/Study_of_Fat-tail_Risk.pdf).
    Alternatively, it is available at [http://www3.canisius.edu/~yany/doc/Study_of_Fat-tail_Risk.pdf](http://www3.canisius.edu/~yany/doc/Study_of_Fat-tail_Risk.pdf).
    Using the same argument, we conclude that the S&P500 daily returns are skewed
    to the left, that is, a negative skewness, and have fat tails (kurtosis is 38.22
    instead of zero).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 该结果与题为*Cook Pine Capital的脂尾风险研究*的论文中的结果非常接近，论文的PDF版本可以从[http://www.cookpinecapital.com/assets/pdfs/Study_of_Fat-tail_Risk.pdf](http://www.cookpinecapital.com/assets/pdfs/Study_of_Fat-tail_Risk.pdf)下载。或者，可以从[http://www3.canisius.edu/~yany/doc/Study_of_Fat-tail_Risk.pdf](http://www3.canisius.edu/~yany/doc/Study_of_Fat-tail_Risk.pdf)获得。使用相同的论点，我们得出结论：标准普尔500的每日收益呈现左偏，即负偏态，并且具有脂尾（峰度为38.22，而非零）。
- en: Lower partial standard deviation and Sortino ratio
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下偏标准差和Sortino比率
- en: 'We discussed this concept already. However, for completeness, in this chapter
    we mention it again. One issue with using standard deviation of returns as a risk
    measure is that the positive deviation is also viewed as bad. The second issue
    is that the deviation is from the average instead of a fixed benchmark, such as
    a risk-free rate. To overcome these shortcomings, Sortino (1983) suggests the
    lower partial standard deviation, which is defined as the average of squared deviation
    from the risk-free rate conditional on negative excess returns, as shown in the
    following formula:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论过这个概念。然而，为了完整起见，本章再次提及它。使用收益的标准差作为风险度量存在一个问题，即正偏差也被视为坏的。第二个问题是偏差是相对于平均值而非固定基准（如无风险利率）。为了克服这些缺点，Sortino（1983）提出了下偏标准差，它被定义为相对于无风险利率的负超额收益条件下的平方偏差的平均值，如下公式所示：
- en: '![Lower partial standard deviation and Sortino ratio](img/B06175_15_12.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![下偏标准差和Sortino比率](img/B06175_15_12.jpg)'
- en: 'Because we need the risk-free rate in this equation, we could generate a Fama-French
    dataset that includes the risk-free rate as one of their time series. First, download
    their daily factors from [http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html](http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html).
    Then, unzip it and delete the non-data part at the end of the text file. Assume
    the final text file is saved under `C:/temp/`:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我们在此公式中需要无风险利率，所以可以生成一个包含无风险利率作为时间序列的Fama-French数据集。首先，从[http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html](http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html)下载他们的日常因子数据。然后，解压文件并删除文本文件末尾的非数据部分。假设最终的文本文件保存在`C:/temp/`：
- en: '[PRE6]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The name of the final dataset is `ffDaily.pkl`. It is a good idea to generate
    this dataset yourself. However, the dataset could be downloaded from [http://canisius.edu/~yany/python/ffDaily.pkl](http://canisius.edu/~yany/python/ffDaily.pkl).
    Using the last five years'' data (January 1, 2009 to December 31, 2013), we could
    estimate IBM''s LPSD as follows:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 最终数据集的名称是`ffDaily.pkl`。最好是自己生成这个数据集。不过，也可以从[http://canisius.edu/~yany/python/ffDaily.pkl](http://canisius.edu/~yany/python/ffDaily.pkl)下载该数据集。使用过去五年的数据（2009年1月1日到2013年12月31日），我们可以估算IBM的LPSD，如下所示：
- en: '[PRE7]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The following output shows that IBM''s LPSD is 14.8 percent–quite different
    from the 20.9 percent shown in the previous section:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 以下输出显示IBM的LPSD为14.8%，与上一节中显示的20.9%差异较大：
- en: '[PRE8]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Test of equivalency of volatility over two periods
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试两个时期波动性是否相等
- en: 'We know that the stock market fell dramatically in October, 1987\. We could
    choose a stock to test the volatility before and after October, 1987\. For instance,
    we could use Ford Motor Corp, with a ticker of F, to illustrate how to test the
    equality of variance before and after the market crash in 1987\. In the following
    Python program, we define a function called `ret_f()` to retrieve daily price
    data from Yahoo! Finance and estimate its daily returns:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道，1987年10月股市大幅下跌。我们可以选择一只股票来测试1987年10月前后波动性。例如，我们可以使用福特汽车公司，股票代码为F，来说明如何测试1987年股市崩盘前后的方差是否相等。在以下Python程序中，我们定义了一个名为`ret_f()`的函数，用于从Yahoo!
    Finance获取每日价格数据并估算其每日收益：
- en: '[PRE9]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The very high T value and close to zero p-value in the following screenshot
    suggest the rejection of the hypothesis that during these two periods, the stock
    has the same volatility. The corresponding output is given as follows:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图中极高的T值和接近零的p值表明拒绝假设：在这两个时间段内，股票的波动率相同。相应的输出如下：
- en: '[PRE10]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Test of heteroskedasticity, Breusch, and Pagan
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 异方差性检验，Breusch和Pagan
- en: 'Breusch and Pagan (1979) designed a test to confirm or reject the null assumption
    that the residuals from a regression are homogeneous, that is, with a constant
    volatility. The following formula represents their logic. First, we run a linear
    regression of *y* against *x*:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Breusch和Pagan（1979）设计了一种检验方法，用于确认或拒绝回归残差同质性（即波动率为常数）的零假设。以下公式表示他们的逻辑。首先，我们进行*y*对*x*的线性回归：
- en: '![Test of heteroskedasticity, Breusch, and Pagan](img/B06175_15_13.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![异方差性检验，Breusch和Pagan](img/B06175_15_13.jpg)'
- en: 'Here, *y* is the dependent variable, *x* is the independent variable, *α* is
    the intercept, *β* is the coefficient, and ![Test of heteroskedasticity, Breusch,
    and Pagan](img/B06175_15_23.jpg) is an error term. After we get the error term
    (residual), we run the second regression:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，*y*是因变量，*x*是自变量，*α*是截距，*β*是回归系数，![异方差性检验，Breusch和Pagan](img/B06175_15_23.jpg)是误差项。在获得误差项（残差）后，我们运行第二次回归：
- en: '![Test of heteroskedasticity, Breusch, and Pagan](img/B06175_15_14.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![异方差性检验，Breusch和Pagan](img/B06175_15_14.jpg)'
- en: 'Assume that the fitted values from running the previous regression is *t f*,
    then the Breusch-Pangan (1979) measure is given as follows, and it follows a *χ2*
    distribution with a *k* degree of freedom:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 假设运行先前回归得到的拟合值为*t f*，则Breusch-Pagan（1979）检验的公式如下，并且它服从*χ2*分布，具有*k*自由度：
- en: '![Test of heteroskedasticity, Breusch, and Pagan](img/B06175_15_15.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![异方差性检验，Breusch和Pagan](img/B06175_15_15.jpg)'
- en: 'The following example is borrowed from an R package called `lm.test` (test
    linear regression), and its authors are Hothorn et al. (2014). We generate a time
    series of *x*, *y1* and *y2*. The independent variable is *x*, and the dependent
    variables are *y1* and *y2*. By our design, *y1* is homogeneous, that is, with
    a constant variance (standard deviation), and *y2* is non-homogeneous (heterogeneous),
    that is, the variance (standard deviation) is not constant. For a variable *x*,
    we have the following 100 values:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例来自一个名为`lm.test`（线性回归检验）的R包，其作者为Hothorn等人（2014）。我们生成了*x*、*y1*和*y2*的时间序列。自变量是*x*，因变量是*y1*和*y2*。根据我们的设计，*y1*是同质的，即方差（标准差）为常数，而*y2*是非同质的（异方差的），即方差（标准差）不是常数。对于变量*x*，我们有以下100个值：
- en: '![Test of heteroskedasticity, Breusch, and Pagan](img/B06175_15_16.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![异方差性检验，Breusch和Pagan](img/B06175_15_16.jpg)'
- en: 'Then, we generate two error terms with 100 random values each. For the *error1*,
    its 100 values are drawn from the standard normal distribution, that is, with
    zero mean and unit standard deviation. For *error2*, its 100 values are drawn
    from a normal distribution with a zero mean and 2 as the standard deviation. The
    *y1* and *y2* time-series are defined as follows:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们生成两个误差项，每个误差项包含100个随机值。对于*error1*，它的100个值来自标准正态分布，即均值为零、标准差为1。对于*error2*，它的100个值来自均值为零、标准差为2的正态分布。*y1*和*y2*时间序列定义如下：
- en: '![Test of heteroskedasticity, Breusch, and Pagan](img/B06175_15_17.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![异方差性检验，Breusch和Pagan](img/B06175_15_17.jpg)'
- en: 'For the odd scripts of *y2*, the error terms are derived from *error1*, while
    for the even scripts, the error terms are derived from *error2*. To find more
    information about the PDF file related to `lm.test`, or an R package, we have
    the following six steps:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*y2*的奇数项，误差项来自*error1*，而对于偶数项，误差项来自*error2*。要获取与`lm.test`相关的PDF文件或R包的更多信息，按照以下六个步骤操作：
- en: Go to [http://www.r-project.org](http://www.r-project.org).
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问[http://www.r-project.org](http://www.r-project.org)。
- en: Click on **CRAN** under **Download**, **Packages**.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**下载**下点击**CRAN**，然后点击**Packages**。
- en: Choose a close-by server.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个靠近的服务器。
- en: Click on Packages on the left-hand side of the screen.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击屏幕左侧的**Packages**。
- en: Choose a list and search `lm.test`.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个列表并搜索`lm.test`。
- en: Click the link and download the PDF file related to `lm.test`.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击链接并下载与`lm.test`相关的PDF文件。
- en: 'The following is the related Python code:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是相关的Python代码：
- en: '[PRE11]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'From the result of running regression by using `y1` against `x`, we know that
    its residual value would be homogeneous, that is, the variance or standard deviation
    is a constant. Thus, we expect to accept the null hypothesis. The opposite is
    true for `y2` against `x`, since, based on our design, the error terms for `y2`
    are heterogeneous. Thus, we expect to reject the null hypothesis. The corresponding
    output is shown as follows:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 从使用`y1`对`x`进行回归分析的结果来看，我们知道其残差值是齐次的，即方差或标准差是常数。因此，我们预计接受原假设。相反，对于`y2`与`x`的回归分析，由于我们的设计，`y2`的误差项是异质的。因此，我们预计会拒绝原假设。相应的输出如下所示：
- en: '[PRE12]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Volatility smile and skewness
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 波动率微笑与偏度
- en: 'Obviously, each stock should possess just one volatility. However, when estimating
    implied volatility, different strike prices might offer us different implied volatilities.
    More specifically, the implied volatility based on out-of-the-money options, at-the-money
    options, and in-the-money options might be quite different. Volatility smile is
    the shape going down then up with the exercise prices, while the volatility skewness
    is downward or upward sloping. The key is that investors'' sentiments and the
    supply and demand relationship have a fundamental impact on the volatility skewness.
    Thus, such a smile or skewness provides information on whether investors such
    as fund managers prefer to write calls or puts. First, we go to the Yahoo! Finance
    website to download call and put options data:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，每只股票应该只有一个波动率。然而，在估算隐含波动率时，不同的行使价格可能会给我们不同的隐含波动率。更具体地说，基于虚值期权、平值期权和实值期权的隐含波动率可能会有很大差异。波动率微笑是在行使价格范围内先下降后上升的形态，而波动率偏度则是向下或向上的倾斜。关键在于，投资者的情绪以及供需关系对波动率偏度有着根本的影响。因此，这种微笑或偏度为我们提供了有关投资者（如基金经理）是否偏好写入看涨期权或看跌期权的信息。首先，我们访问雅虎财经网站，下载看涨期权和看跌期权的数据：
- en: Go to [http://finance.yahoo.com](http://finance.yahoo.com).
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问[http://finance.yahoo.com](http://finance.yahoo.com)。
- en: Enter a ticker, such as `IBM`.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入一个代码，比如`IBM`。
- en: Click **Options** in the center.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**期权**（Options）选项。
- en: Copy and paste the data for call and options.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制并粘贴看涨期权和期权的数据。
- en: Separate them into two files.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将它们分成两个文件。
- en: If readers use the data for a maturity of March 17, 2017, they can download
    it from the author's website at [http://canisius.edu/~yany/data/calls17march.txt](http://canisius.edu/~yany/data/calls17march.txt),
    [http://canisius.edu/~yany/data/puts17march.txt](http://canisius.edu/~yany/data/puts17march.txt).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果读者使用的是2017年3月17日到期的数据，可以从作者的网站下载：[http://canisius.edu/~yany/data/calls17march.txt](http://canisius.edu/~yany/data/calls17march.txt)、[http://canisius.edu/~yany/data/puts17march.txt](http://canisius.edu/~yany/data/puts17march.txt)。
- en: 'The Python program for calls is shown in the following code:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 看涨期权的Python程序如下所示：
- en: '[PRE13]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'In the preceding program, the input file is for call options. The graph of
    the volatility smile is shown here. The other screenshot is based on the relationship
    between implied volatility and exercise (strike) prices. The program is exactly
    the same as the preceding program, except the input file. At the end of the chapter,
    one data case is related to the preceding program. The next image is the volatility
    smile based on the call data:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的程序中，输入文件用于看涨期权。这里展示的是波动率微笑的图形。另一个截图基于隐含波动率与行使（执行）价格之间的关系。程序与前面的程序完全相同，唯一不同的是输入文件。章节末尾有一个数据案例与前面的程序相关。接下来的图像是基于看涨期权数据的波动率微笑：
- en: '![Volatility smile and skewness](img/B06175_15_01.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![波动率微笑与偏度](img/B06175_15_01.jpg)'
- en: Volatility smile based on call data
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 基于看涨期权数据的波动率微笑
- en: 'Similarly, the next volatility smile image is based on put data:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，下一个波动率微笑图像是基于看跌期权数据：
- en: '![Volatility smile and skewness](img/B06175_15_02.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![波动率微笑与偏度](img/B06175_15_02.jpg)'
- en: Graphical presentation of volatility clustering
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 波动性聚集的图形呈现
- en: 'One of the observations is labeled as volatility clustering, which means that
    high volatility is usually followed by a high-volatility period, while low volatility
    is usually followed by a low-volatility period. The following program shows this
    phenomenon by using S&P500 daily returns from 1988 to 2006\. Note that, in the
    following code, in order to show 1988 on the *x* axis, we add a few months before
    1988:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一个观察结果被标注为波动性聚集，这意味着高波动性通常会跟随一个高波动性的时期，而低波动性通常会跟随一个低波动性的时期。以下程序通过使用1988到2006年的标准普尔500每日收益数据展示了这一现象。请注意，在以下代码中，为了在*x*轴上显示1988年，我们在1988年前添加了几个月的数据：
- en: '[PRE14]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'This program is inspired by the graph drawn by *M.P. Visser*; refer to [https://pure.uva.nl/ws/files/922823/67947_09.pdf](https://pure.uva.nl/ws/files/922823/67947_09.pdf).
    The graph corresponding to the previous code is shown as follows:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 该程序的灵感来自于*马尔滕·P·维瑟*绘制的图表；请参阅[https://pure.uva.nl/ws/files/922823/67947_09.pdf](https://pure.uva.nl/ws/files/922823/67947_09.pdf)。对应于前面代码的图表如下所示：
- en: '![Graphical presentation of volatility clustering](img/B06175_15_03.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![波动率聚类的图示](img/B06175_15_03.jpg)'
- en: The ARCH model
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ARCH模型
- en: 'Based on previous arguments, we know that the volatility or variance of stock
    returns is not constant. According to the ARCH model, we could use the error terms
    from the previous estimation to help us predict the next volatility or variance.
    This model was developed by Robert F. Engle, the winner of the 2003 Nobel Prize
    in Economics. The formula for an ARCH (q) model is presented as follows:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 根据前述的论点，我们知道股票收益的波动性或方差不是恒定的。根据ARCH模型，我们可以使用前次估算的误差项来帮助我们预测下一期的波动性或方差。这个模型是由2003年诺贝尔经济学奖获得者**罗伯特·F·恩格尔**提出的。ARCH
    (q) 模型的公式如下所示：
- en: '![The ARCH model](img/B06175_15_18.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![ARCH模型](img/B06175_15_18.jpg)'
- en: 'Here, ![The ARCH model](img/B06175_15_24.jpg) is the variance at time t, is
    the ith coefficient, ![The ARCH model](img/B06175_15_25.jpg) is the squared error
    term for the period of *t-i*, and *q* is the order of error terms. When *q* is
    1, we have the simplest ARCH (1) process as follows:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，![ARCH模型](img/B06175_15_24.jpg)是时刻t的方差，*i*是第i个系数，![ARCH模型](img/B06175_15_25.jpg)是*t-i*时期的平方误差项，*q*是误差项的阶数。当*q*为1时，我们得到最简单的ARCH(1)过程，如下所示：
- en: '![The ARCH model](img/B06175_15_19.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![ARCH模型](img/B06175_15_19.jpg)'
- en: Simulating an ARCH (1) process
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模拟ARCH(1)过程
- en: 'It is a good idea that we simulate an ARCH (1) process and have a better understanding
    of the volatility clustering, which means that high volatility is usually followed
    by a high-volatility period while low volatility is usually followed by a low-volatility
    period. The following code reflects this phenomenon:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟一个ARCH(1)过程以更好地理解波动率聚类是一个好主意，这意味着高波动期通常会跟随高波动期，而低波动期通常会跟随低波动期。以下代码反映了这一现象：
- en: '[PRE15]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'From the following graph, we see that indeed a higher volatility period is
    usually followed with high volatility while this is also true for a low-volatility
    clustering:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 从下图可以看出，确实高波动期通常会跟随高波动，而低波动聚类也是如此：
- en: '![Simulating an ARCH (1) process](img/B06175_15_04.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![模拟ARCH(1)过程](img/B06175_15_04.jpg)'
- en: The GARCH model
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GARCH模型
- en: '**Generalized AutoRegressive Conditional Heteroskedasticity** (**GARCH**) is
    an important extension of ARCH, by Bollerslev (1986). The GARCH (p,q) process
    is defined as follows:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**广义自回归条件异方差** (**GARCH**) 是ARCH的一个重要扩展，由Bollerslev（1986年）提出。GARCH (p,q) 过程定义如下：'
- en: '![The GARCH model](img/B06175_15_20.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![GARCH模型](img/B06175_15_20.jpg)'
- en: 'Here, ![The GARCH model](img/B06175_15_26.jpg)is the variance at time *t*,
    *q* is the order for the error terms, p is the order for the variance, ![The GARCH
    model](img/B06175_15_27.jpg)is a constant, ![The GARCH model](img/B06175_15_31.jpg)
    is the coefficient for the error term at *t-i*, ![The GARCH model](img/B06175_15_28.jpg)
    is the coefficient for the variance at time *t-i*. Obviously, the simplest GARCH
    process is when both *p* and *q* are set to 1, that is, GARCH (1,1), which has
    following formula:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，![GARCH模型](img/B06175_15_26.jpg)是时刻*t*的方差，*q*是误差项的阶数，p是方差的阶数，![GARCH模型](img/B06175_15_27.jpg)是常数，![GARCH模型](img/B06175_15_31.jpg)是时刻*t-i*的误差项系数，![GARCH模型](img/B06175_15_28.jpg)是时刻*t-i*的方差系数。显然，最简单的GARCH过程是当*p*和*q*都设为1时，即GARCH(1,1)，其公式如下：
- en: '![The GARCH model](img/B06175_15_21.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![GARCH模型](img/B06175_15_21.jpg)'
- en: Simulating a GARCH process
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模拟GARCH过程
- en: 'Based on the previous program related to ARCH (1), we could simulate a GARCH
    (1,1) process as follows:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 基于与ARCH(1)相关的前一个程序，我们可以模拟一个GARCH(1,1)过程，如下所示：
- en: '[PRE16]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Honestly speaking, the following graph is quite similar to the previous one
    under the ARCH (1) process. The graph corresponding to the previous code is shown
    as follows:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 老实说，下面的图表在ARCH(1)过程下与之前的图表非常相似。对应于前面代码的图表如下所示：
- en: '![Simulating a GARCH process](img/B06175_15_05.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![模拟GARCH过程](img/B06175_15_05.jpg)'
- en: Fig15_04_garch.png
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Fig15_04_garch.png
- en: Simulating a GARCH (p,q) process using modified garchSim()
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用修改过的garchSim()模拟GARCH(p,q)过程
- en: 'The following code is based on the R function called `garchSim()`, which is
    included in the R package called `fGarch`. The authors for `fGarch` are Diethelm
    Wuertz and Yohan Chalabi. To find the related manual, we perform the following
    steps:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码基于名为`garchSim()`的 R 函数，该函数包含在名为`fGarch`的 R 包中。`fGarch`的作者是Diethelm Wuertz和Yohan
    Chalabi。要查找相关手册，执行以下步骤：
- en: Go to [http://www.r-project.org](http://www.r-project.org).
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问 [http://www.r-project.org](http://www.r-project.org)。
- en: Click on **CRAN** under **Download**, **Packages**.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**下载**下点击**CRAN**，然后点击**包**。
- en: Choose a close-by server.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个附近的服务器。
- en: Click on Packages on the left-hand side of the screen.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕左侧点击**包**。
- en: Choose a list and search for `fGarch`.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择一个列表并搜索`fGarch`。
- en: Click on the link and download the PDF file related to `fGarch`.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击链接下载与`fGarch`相关的PDF文件。
- en: 'The Python program based on the R program is given as follows:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 R 程序的 Python 程序如下所示：
- en: '[PRE17]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'In the preceding program, omega is the constant in equation (10), while alpha
    is associated with error terms and beta is associated with variance. There are
    two items in `alpha[a,b]: a` is for `t-1`, while b is for `t-2`. However, for
    `eps0[t-2:i]`, they stand for *t-2* and *t-1*. The `alpha` and `eps0` terms are
    not consistent with each other. Thus, we have to reverse the order of `a` and
    `b`. This is the reason why we use `alpha[::-1]`. Since several values are zero,
    such as `mu`, `ar`, and `ma`, the time series of GARCH is identical with `eps`.
    Thus, we show just two time series in the following graph. The high volatility
    is for GARCH, while the other one is for standard deviation:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的程序中，omega是方程（10）中的常数，alpha与误差项相关，beta与方差相关。`alpha[a,b]`中的a对应`t-1`，b对应`t-2`。然而，`eps0[t-2:i]`表示的是*t-2*和*t-1*。`alpha`和`eps0`项不一致，因此我们必须反转`a`和`b`的顺序。这就是为什么我们使用`alpha[::-1]`的原因。由于一些值为零，如`mu`、`ar`和`ma`，GARCH的时间序列与`eps`是相同的。因此，我们只在下面的图表中展示了两个时间序列。GARCH的高波动性与另一个标准差的时间序列：
- en: '![Simulating a GARCH (p,q) process using modified garchSim()](img/B06175_15_06.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![使用修改后的 garchSim() 模拟 GARCH (p,q) 过程](img/B06175_15_06.jpg)'
- en: Fig15_05_two.png
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Fig15_05_two.png
- en: GJR_GARCH by Glosten, Jagannanthan, and Runkle
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GJR_GARCH 由 Glosten、Jagannanthan 和 Runkle 提出
- en: 'Glosten, Jagannathan, and Runkle (1993) modeled asymmetry in the GARCH process.
    GJR_GARCH (1,1,1) has the following format:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: Glosten、Jagannanthan 和 Runkle（1993）在 GARCH 过程模型中引入了非对称性。GJR_GARCH（1,1,1）的格式如下：
- en: '![GJR_GARCH by Glosten, Jagannanthan, and Runkle](img/B06175_15_22.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![Glosten、Jagannanthan 和 Runkle 的 GJR_GARCH](img/B06175_15_22.jpg)'
- en: 'Here, the condition *It-1=0*, if ![GJR_GARCH by Glosten, Jagannanthan, and
    Runkle](img/B06175_15_29.jpg) and *It-1=1* if ![GJR_GARCH by Glosten, Jagannanthan,
    and Runkle](img/B06175_15_30.jpg) holds true. The following code is based on the
    codes written by Kevin Sheppard:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，条件*It-1=0*，如果![Glosten、Jagannanthan 和 Runkle 的 GJR_GARCH](img/B06175_15_29.jpg)，并且*It-1=1*如果![Glosten、Jagannanthan
    和 Runkle 的 GJR_GARCH](img/B06175_15_30.jpg)成立。以下代码基于Kevin Sheppard编写的代码：
- en: '[PRE18]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'We can write a function called `GJR_GARCH()` by including all initial values,
    constraints, and bounds as follows:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过包含所有初始值、约束和边界来编写一个名为`GJR_GARCH()`的函数，如下所示：
- en: '[PRE19]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'In order to replicate our result, we could use the `random.seed()` function
    to fix our returns obtained from generating a set of random numbers from a uniform
    distribution:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 为了复制我们的结果，我们可以使用`random.seed()`函数来固定通过从均匀分布生成一组随机数得到的回报：
- en: '[PRE20]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The interpretations of these five outputs are given in the following table:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格给出了这五个输出的解释：
- en: '| # | **Meaning** |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| # | **含义** |'
- en: '| 1 | Message describing the exit mode from the optimizer |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 描述优化器退出模式的消息 |'
- en: '| 2 | The final value of the objective function |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 目标函数的最终值 |'
- en: '| 3 | The number of iterations |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 迭代次数 |'
- en: '| 4 | Function evaluations |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 函数评估 |'
- en: '| 5 | Gradient evaluations |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 梯度评估 |'
- en: Table 15.1 Definitions of five outputs
  id: totrans-146
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 表 15.1 五个输出的定义
- en: 'The descriptions of various exit modes are listed in the following table:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 各种退出模式的描述列在下表中：
- en: '| Exit code | Description |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| 退出代码 | 描述 |'
- en: '| --- | --- |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| -1 | Gradient evaluation required (g and a) |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| -1 | 需要评估梯度（g 和 a） |'
- en: '| 0 | Optimization terminated successfully |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 优化成功终止 |'
- en: '| 1 | Function evaluation required (f and c) |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 需要评估函数（f 和 c） |'
- en: '| 2 | More equality constraints than independent variables |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 独立变量比约束条件更多 |'
- en: '| 3 | More than 3*n iterations in LSQ sub problem |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| 3 | LSQ 子问题中超过 3*n 次迭代 |'
- en: '| 4 | Inequality constraints incompatible |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 不兼容的约束条件 |'
- en: '| 5 | Singular matrix E in LSQ subproblem |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| 5 | LSQ 子问题中的奇异矩阵 E |'
- en: '| 6 | Singular matrix C in LSQ subproblem |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| 6 | LSQ 子问题中的奇异矩阵 C |'
- en: '| 7 | Rank-deficient equality constraint subproblem HFTI |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 秩缺失的等式约束子问题 HFTI |'
- en: '| 8 | Positive directional derivative for line search |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 线搜索的正方向导数 |'
- en: '| 9 | Iteration limit exceeded |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 超过迭代限制 |'
- en: Table 15.2 Exit modes
  id: totrans-161
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 表15.2 退出模式
- en: 'To show our final parameter values, we print our results with the help of the
    following code:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 为了展示我们的最终参数值，我们使用以下代码输出结果：
- en: '[PRE21]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: References
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: One of the important properties of a normal distribution is that we could use
    mean and standard deviation.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的一个重要属性是我们可以使用均值和标准差。
- en: '*Engle, Robert, 2002*, *DYNAMIC CONDITIONAL CORRELATION – A SIMPLE CLASS OF
    MULTIVARIATE GARCH MODELS*, *Forthcoming Journal of Business and Economic Statistics*,
    [http://pages.stern.nyu.edu/~rengle/dccfinal.pdf](http://pages.stern.nyu.edu/~rengle/dccfinal.pdf).'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '*Engle, Robert, 2002*, *动态条件相关性 – 一类简单的多元 GARCH 模型*，*即将发表于《商业与经济统计学杂志》*， [http://pages.stern.nyu.edu/~rengle/dccfinal.pdf](http://pages.stern.nyu.edu/~rengle/dccfinal.pdf)。'
- en: Appendix A – data case 8 - portfolio hedging using VIX calls
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 A – 数据案例 8 - 使用 VIX 看涨期权进行投资组合对冲
- en: The **CBOE Volatility Index** (**VIX**) is based on the **S&P500 Index** (**SPX**),
    the core index for U.S. equities, and estimates expected volatility by averaging
    the weighted prices of SPX puts and calls over a wide range of strike prices.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**CBOE 波动率指数** (**VIX**) 基于 **S&P500 指数** (**SPX**)，这是美国股市的核心指数，通过对SPX的看跌和看涨期权在多个行使价格区间内的加权价格进行平均，来估计预期波动率。'
- en: By supplying a script for replicating volatility exposure with a portfolio of
    SPX options, this new methodology transformed VIX from an abstract concept into
    a practical standard for trading and hedging volatility.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 通过提供复制波动率敞口的 SPX 期权投资组合脚本，这一新方法将 VIX 从一个抽象概念转变为实际的交易和对冲波动率的标准。
- en: In 2014, CBOE enhanced the VIX Index to include series of SPX Weekly options.
    The inclusion of SPX Weeklies allows the VIX Index to be calculated with S&P500
    Index option series that most precisely match the 30-day target timeframe for
    expected volatility that the VIX Index is intended to represent. Using SPX options
    with more than 23 days and less than 37 days to expiration ensures that the VIX
    Index will always reflect an interpolation of two points along the S&P 500 volatility
    term structure.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在2014年，CBOE 增强了 VIX 指数，包括了 SPX 周期期权系列的计算。SPX 周期期权的纳入，使得 VIX 指数能够使用最能精确匹配 VIX
    指数预期波动率目标时间框架（即30天）的 S&P500 指数期权系列进行计算。使用到期日大于23天且小于37天的 SPX 期权，确保了 VIX 指数始终反映
    S&P 500 波动率期限结构中两个点的插值。
- en: References
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[http://www.theoptionsguide.com/portfolio-hedging-using-vix-calls.aspx](http://www.theoptionsguide.com/portfolio-hedging-using-vix-calls.aspx).'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.theoptionsguide.com/portfolio-hedging-using-vix-calls.aspx](http://www.theoptionsguide.com/portfolio-hedging-using-vix-calls.aspx)。'
- en: '[http://www.cboe.com/micro/vix/historical.aspx](http://www.cboe.com/micro/vix/historical.aspx).'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.cboe.com/micro/vix/historical.aspx](http://www.cboe.com/micro/vix/historical.aspx)。'
- en: '[https://www.tickdata.com/tick-data-adds-vix-futures-data/](https://www.tickdata.com/tick-data-adds-vix-futures-data/).'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.tickdata.com/tick-data-adds-vix-futures-data/](https://www.tickdata.com/tick-data-adds-vix-futures-data/)。'
- en: Appendix B – data case 8 - volatility smile and its implications
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 附录 B – 数据案例 8 - 波动率微笑及其含义
- en: 'There are several objectives of this data case:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 该数据案例有多个目标：
- en: Understand the concept of the implied volatility
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解隐含波动率的概念
- en: Understand that the implied volatilities are different with different exercise
    (strike) prices
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解不同的行使（行权）价格会导致隐含波动率的不同。
- en: Learnt how to process data and produce related graphs
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学会如何处理数据并生成相关图表
- en: What is the implication of a volatility smile?
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 波动率微笑有什么含义？
- en: 'Source of data: Yahoo! Finance:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 数据来源：Yahoo! Finance：
- en: Go to [http://finance.yahoo.com](http://finance.yahoo.com).
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问 [http://finance.yahoo.com](http://finance.yahoo.com)。
- en: Enter a ticker, such as `IBM`.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入一个股票代码，例如 `IBM`。
- en: Click **Options** in the center.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **Options**（期权）在中心位置。
- en: Copy and paste the data for call and options.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制并粘贴看涨期权和期权的数据。
- en: Separate them into two files.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将它们分成两个文件。
- en: 'For the following companies:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 针对以下公司：
- en: '| Company name | Ticker | Dell company | DELL |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| 公司名称 | 股票代码 | 戴尔公司 | DELL |'
- en: '| --- | --- | --- | --- |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| International Business Machine | IBM | General Electric | GE |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| 国际商用机器公司 | IBM | 通用电气 | GE |'
- en: '| Microsoft | MSFT | Google | GOOG |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| 微软 | MSFT | 谷歌 | GOOG |'
- en: '| Family Dollar Stores | FDO | Apple | AAPL |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| 家庭美元商店 | FDO | 苹果 | AAPL |'
- en: '| Wal-Mart Stores | WMT | eBay | EBAY |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '| 沃尔玛商店 | WMT | eBay | EBAY |'
- en: '| McDonald''s | MCD |   |   |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| 麦当劳 | MCD |   |   |'
- en: 'Note that for each stock, there are several maturity dates; see the following
    screenshot:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，每只股票都有多个到期日；请参见以下截图：
- en: '![Appendix B – data case 8 - volatility smile and its implications](img/B06175_15_07.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![附录 B – 数据案例 8 - 波动率微笑及其含义](img/B06175_15_07.jpg)'
- en: 'A sample Python program is shown here and the input file can be downloaded
    from the author''s website at [http://canisius.edu/~yany/data/calls17march.txt](http://canisius.edu/~yany/data/calls17march.txt):'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这里展示了一个示例 Python 程序，输入文件可以从作者的网站下载：[http://canisius.edu/~yany/data/calls17march.txt](http://canisius.edu/~yany/data/calls17march.txt)：
- en: '[PRE22]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Exercises
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习
- en: What is the definition of volatility?
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是波动率的定义？
- en: How can you measure risk (volatility)?
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你如何衡量风险（波动率）？
- en: What are the issues related to the widely used definition of risk (standard
    deviation)?
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与广泛使用的风险（标准差）定义相关的问题是什么？
- en: 'How can you test whether stock returns follow a normal distribution? For the
    following given set of stocks, test whether they follow a normal distribution:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你如何测试股票收益是否遵循正态分布？对于以下给定的一组股票，测试它们是否遵循正态分布：
- en: '| Company name | Ticker | Dell company | DELL |'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 公司名称 | 股票代码 | 戴尔公司 | DELL |'
- en: '| --- | --- | --- | --- |'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| International Business Machine | IBM | General Electric | GE |'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 国际商业机器公司 | IBM | 通用电气 | GE |'
- en: '| Microsoft | MSFT | Google | GOOG |'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 微软 | MSFT | 谷歌 | GOOG |'
- en: '| Family Dollar Stores | FDO | Apple | AAPL |'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 家庭美元商店 | FDO | 苹果 | AAPL |'
- en: '| Wal-Mart Stores | WMT | eBay | EBAY |'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 沃尔玛 | WMT | eBay | EBAY |'
- en: '| McDonald''s | MCD |   |   |'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 麦当劳 | MCD |   |   |'
- en: What is the lower partial standard deviation? What are its applications?
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是下偏标准差？它的应用是什么？
- en: Choose five stocks, such as DELL, IBM, Microsoft, Citi Group, and Walmart, and
    compare their standard deviation with LPSD based on the last three-years' daily
    data.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择五只股票，例如戴尔、IBM、微软、花旗集团和沃尔玛，并根据过去三年的日数据，将它们的标准差与 LPSD 进行比较。
- en: Is a stock's volatility constant over the years? You could choose **International
    Business Machine** (**IBM**) and **Walmart** (**WMT**) to test your hypothesis.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 股票的波动率是否在多年间保持不变？你可以选择**国际商业机器公司**（**IBM**）和**沃尔玛**（**WMT**）来验证你的假设。
- en: What is an ARCH (1) process?
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是 ARCH (1) 过程？
- en: What is a GARCH (1,1) process?
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是 GARCH (1,1) 过程？
- en: Apply the GARCH (1,1) process to IBM and WMT.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 GARCH (1,1) 过程应用于 IBM 和 WMT。
- en: Write a Python program to show the volatility smile combine both calls and puts.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个 Python 程序，展示结合了看涨和看跌期权的波动率微笑。
- en: Write a Python program to put volatility smiles by using different maturity
    dates. In other words, put several smiles together.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个 Python 程序，通过不同到期日绘制波动率微笑。换句话说，将多个微笑放在一起。
- en: Use the Breusch-Pagan (1979) test to confirm or reject the hypothesis that daily
    returns for IBM is homogeneous.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Breusch-Pagan (1979) 检验确认或拒绝 IBM 日收益率同质性的假设。
- en: How can you test whether a stock's volatility is constant?
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你如何测试股票的波动率是否恒定？
- en: What does *fat tail* mean? Why should we care about fat tail?
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*胖尾*是什么意思？为什么我们应该关注胖尾？'
- en: Could you write a Python program to download the option data?
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你能编写一个 Python 程序来下载期权数据吗？
- en: How do you download all maturity dates?
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你如何下载所有到期日的数据？
- en: Summary
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we focused on several issues, especially on volatility measures
    and ARCH/GARCH. For the volatility measures, first we discussed the widely used
    standard deviation, which is based on the normality assumption. To show that such
    an assumption might not hold, we introduced several normality tests, such as the
    Shapiro-Wilk test and the Anderson-Darling test. To show a fat tail of many stocks'
    real distribution benchmarked on a normal distribution, we vividly used various
    graphs to illustrate it. To show that the volatility might not be constant, we
    presented the test to compare the variance over two periods. Then, we showed a
    Python program to conduct the Breusch-Pangan (1979) test for heteroskedasticity.
    ARCH and GARCH are used widely to describe the evolution of volatility over time.
    For these models, we simulate their simple form such as ARCH (1) and GARCH (1,1)
    processes. In addition to their graphical presentations, the Python codes of Kevin
    Sheppard are included to solve the GJR_GARCH (1,1,1) process.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们集中讨论了几个问题，特别是波动率度量和ARCH/GARCH模型。对于波动率度量，首先我们讨论了广泛使用的标准差，它是基于正态性假设的。为了展示这种假设可能不成立，我们介绍了几种正态性检验方法，如Shapiro-Wilk检验和Anderson-Darling检验。为了展示许多股票的实际分布在基准正态分布下具有厚尾特征，我们生动地使用了各种图形来说明这一点。为了说明波动率可能不是常数，我们展示了用于比较两个时期方差的检验。接着，我们展示了一个Python程序来进行Breusch-Pagan（1979）异方差性检验。ARCH和GARCH模型广泛用于描述波动率随时间的演变。对于这些模型，我们模拟了它们的简单形式，如ARCH（1）和GARCH（1,1）过程。除了它们的图形表示外，还包括了Kevin
    Sheppard的Python代码，用于求解GJR_GARCH（1,1,1）过程。

# 前言

*精通 R 语言量化金融*是我们之前出版的《量化金融 R 语言入门》的续集，旨在帮助那些希望在量化金融领域更高阶使用 R 语言构建模型的人学习。本书将涵盖新的实证金融学主题（第 1-4 章）、金融工程学（第 5-7 章）、交易策略优化（第 8-10 章）以及银行管理（第 11-13 章）。

# 本书内容概述

第一章, *时间序列分析*（Tamás Vadász）讨论了一些重要概念，如协整（结构性）、向量自回归模型、脉冲响应函数、使用不对称 GARCH 模型的波动率建模以及新闻冲击曲线。

第二章, *因子模型*（Barbara Dömötör, Kata Váradi, Ferenc Illés）介绍了如何构建和实现多因子模型。在主成分分析的帮助下，识别出了五个能够解释资产回报的独立因子。举例来说，Fama 和 French 模型也在一个真实市场数据集上进行了重现。

第三章, *交易量预测*（Balázs Árpád Szűcs, Ferenc Illés）介绍了一种基于 DJIA 指数数据的日内交易量预测模型及其在 R 中的实现。该模型使用成交额而非交易量，分离了季节性成分（U 形）与动态成分，并分别预测这两者。

第四章, *大数据 – 高级分析*（Júlia Molnár, Ferenc Illés）应用 R 语言从开放源数据中获取数据，并对大数据集进行各种分析。举例来说，K-means 聚类和线性回归模型被应用于大数据分析。

第五章, *外汇衍生品*（Péter Medvegyev, Ágnes Vidovics-Dancs, Ferenc Illés）对衍生品定价中的 Black-Scholes 模型进行了推广。Margrabe 公式作为 Black-Scholes 模型的扩展，被编程用于定价股票期权、货币期权、交换期权和 Quanto 期权。

第六章, *利率衍生品与模型*（Péter Medvegyev, Ágnes Vidovics-Dancs, Ferenc Illés）提供了利率模型和利率衍生品的概述。使用 Black 模型来定价上限和上限期权；此外，还介绍了 Vasicek 模型和 CIR 模型等利率模型。

第七章, *另类期权*（Balázs Márkus, Ferenc Illés）介绍了另类期权，解释了它们与普通期权的联系，并呈现了如何为任何衍生品定价函数估算其希腊字母。特别的另类期权——双重无触及（DNT）二元期权，进行了更为详细的分析。

第八章，*最优对冲*（Barbara Dömötör, Kata Váradi, Ferenc Illés）分析了衍生品对冲中的一些实际问题，这些问题源自于投资组合的离散时间重组和交易成本。为了找到最优的对冲策略，使用了不同的数值优化算法。

第九章，*基本面分析*（Péter Juhász, Ferenc Illés）研究了如何在基本面基础上构建投资策略。为了挑选收益最好的股票，一方面，根据公司过去的表现创建公司集群，另一方面，利用决策树将表现优秀的公司分离出来。基于这些，定义并回测了股票选择规则。

第十章，*技术分析、神经网络与对数最优组合*（Ágnes Tuza, Milán Badics, Edina Berlinger, Ferenc Illés）概述了技术分析以及一些相关策略，如神经网络和对数最优组合。在动态设置中，研究了预测单一资产（比特币）价格、优化交易时机和投资组合分配（纽约证券交易所股票）的问题。

第十一章，*资产与负债管理*（Dániel Havran, István Margitai）展示了 R 如何支持银行的资产与负债管理过程。重点在于数据生成、利率风险的衡量与报告、流动性风险管理，以及非到期存款行为的建模。

第十二章，*资本充足性*（Gergely Gabler, Ferenc Illés）总结了巴塞尔协议的原则，并通过历史法、delta-normal 法和蒙特卡洛模拟法计算银行的风险价值，以确定其资本充足性。还涵盖了信用风险和操作风险的具体问题。

第十三章，*系统性风险*（Ádám Banai, Ferenc Illés）展示了两种基于网络理论的方法，有助于识别系统重要金融机构：核心-边缘模型和传染模型。

Gergely Daróczi 还通过审查程序代码对大部分章节做出了贡献。

# 本书所需内容

本书中提供的所有代码示例都应在 R 控制台中运行，首先需要在您的计算机上安装 R。您可以免费下载该软件，并在 [`r-project.org`](http://r-project.org) 查找适用于所有主要操作系统的安装说明。尽管本书不会涉及如何在集成开发环境中使用 R 等高级话题，但除了其他编辑器外，Emacs、Eclipse、vi 或 Notepad++ 等编辑器都有很棒的插件，我们也强烈推荐您尝试 RStudio，它是一个专为 R 设计的免费开源 IDE。

除了一个可用的 R 安装外，我们还将使用一些用户贡献的 R 包，这些包可以通过综合档案网络轻松安装。要安装一个包，请在 R 控制台中使用 `install.packages` 命令，如下所示：

```py
> install.packages('Quantmod')

```

安装后，该包应首先加载到当前的 R 会话中，然后才能使用：

```py
> library (Quantmod)

```

您可以在 R 的主页上找到免费的入门文章和手册。

# 本书适合谁阅读

本书面向已熟悉基本金融概念并具备一定编程技能的读者。然而，即使您了解量化金融的基础，或已经具备 R 编程经验，本书仍会为您提供新的启发。如果您已经是某个领域的专家，本书将帮助您迅速上手其他领域。然而，如果您希望完美跟上各章的节奏，您需要具备量化金融的中级水平，并且需要对 R 有一定的知识。这两项技能可以通过续集第一卷《量化金融中的 R 入门》获得。

# 约定

本书中，您将看到一些文本样式，用于区分不同类型的信息。以下是这些样式的示例及其含义说明。

任何命令行输入或输出均如下所示：

```py
#generate the two time series of length 1000
set.seed(20140623)         #fix the random seed
N <- 1000                  #define length of simulation
x <- cumsum(rnorm(N))      #simulate a normal random walk
gamma <- 0.7               #set an initial parameter value
y <- gamma * x + rnorm(N)  #simulate the cointegrating series
plot(x, type='l')          #plot the two series
lines(y,col="red")

```

**新术语** 和 **重要词汇** 以粗体显示。您在屏幕上看到的词汇，例如在菜单或对话框中，通常会以这种方式出现在文本中：“另一个有用的可视化练习是查看对数尺度上的密度。”

### 注意

警告或重要说明以如下框形式出现。

### 提示

技巧和窍门以如下方式呈现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对本书的看法——您喜欢或不喜欢的部分。读者反馈对我们非常重要，它帮助我们开发您真正能从中受益的书籍。

要向我们发送一般反馈，只需通过电子邮件 `<feedback@packtpub.com>` 与我们联系，并在邮件主题中提及书名。

如果您在某个主题上有专长并且有兴趣撰写或贡献书籍内容，请参见我们的作者指南：[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已是 Packt 图书的骄傲拥有者，我们为您准备了一些内容，帮助您最大限度地从购买中获益。

## 下载示例代码

您可以从您的账户下载所有购买的 Packt 出版书籍的示例代码文件，网址为 [`www.packtpub.com`](http://www.packtpub.com)。如果您在其他地方购买了本书，您可以访问 [`www.packtpub.com/support`](http://www.packtpub.com/support)，并注册以便直接通过电子邮件获取文件。

## 勘误

虽然我们已经尽力确保内容的准确性，但错误仍然会发生。如果您在我们的一本书中发现错误——可能是文本或代码中的错误——我们将非常感激您能向我们报告。这样，您可以帮助其他读者避免困扰，并帮助我们改进该书的后续版本。如果您发现任何勘误，请访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入勘误的详细信息。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该书的勘误列表中。

要查看之前提交的勘误，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。相关信息将显示在**勘误**部分。

## 盗版

互联网版权材料的盗版问题在所有媒体中持续存在。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现任何我们作品的非法复制品，请立即提供相关的网址或网站名称，以便我们采取措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

感谢您帮助我们保护作者的权益，并支持我们为您提供有价值的内容。

## 问题

如果您在本书的任何部分遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决问题。

- en: '4'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '4  '
- en: Derivative Valuation
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '衍生品估值  '
- en: Derivatives pricing is one of the most crucial aspects of quantitative finance.
    The gross market value of derivatives contracts stood at $12.4 trillion (*OTC
    derivatives statistics at end-December 2021* – [bis.org](http://bis.org)), making
    it one of the most lucrative and challenging problems to simulate and optimize.
    Although many aspects of derivative pricing can be computed using classical computing,
    gate-based quantum computers can be an efficient resource when multiple computations
    are required, due to their ability to parallelize and handle multiple assets.
    This chapter looks into the theoretical aspects of derivatives pricing and examines
    its real-time applications through classical computing and gate-based quantum
    computers.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '衍生品定价是量化金融中最重要的方面之一。衍生品合约的总市场价值为12.4万亿美元（*2021年12月底场外衍生品统计数据* —— [bis.org](http://bis.org)），使其成为最有利可图且最具挑战性的模拟与优化问题之一。尽管衍生品定价的许多方面可以通过经典计算来进行，但当需要进行多次计算时，基于门的量子计算机可以作为一种高效资源，因为它们能够并行处理并处理多个资产。本章探讨了衍生品定价的理论方面，并通过经典计算和基于门的量子计算机考察了其实时应用。  '
- en: This chapter addresses the need to explain option pricing from a layman’s point
    of view. Various aspects of option pricing will be described in an easy-to-understand
    manner. Different case studies and anecdotes will be incorporated to make the
    explanation more comprehensive and detailed. The first part covers the theoretical
    aspects of derivatives pricing, while the practical aspects of transitioning to
    more complicated **Quantum Machine Learning** (**QML**) models are also introduced.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '本章讨论了从普通人角度解释期权定价的必要性。期权定价的各个方面将以易于理解的方式进行描述。不同的案例研究和轶事将被融入，以使解释更加全面和详细。第一部分涵盖了衍生品定价的理论方面，同时也介绍了过渡到更复杂的**量子机器学习**（**QML**）模型的实际方面。  '
- en: In subsequent sections, we will see a demo example of implementing options pricing
    using classical and quantum computing. The valuation of a plain vanilla option
    will be derived using the classical Monte Carlo simulation method. Afterward,
    a comprehensive case study with code snippets will help you understand the implementation
    of mathematical modeling of derivatives pricing on quantum computing.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在后续部分，我们将看到一个使用经典计算和量子计算实现期权定价的演示示例。我们将通过经典的蒙特卡洛模拟方法推导出一个普通期权的估值。随后，一个包含代码片段的全面案例研究将帮助你理解如何在量子计算上实现衍生品定价的数学建模。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '本章将涵盖以下主题：  '
- en: Derivatives pricing – the theoretical aspects
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '衍生品定价——理论方面  '
- en: Classical implementation of the Monte Carlo simulation for derivatives valuation
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '衍生品估值的经典蒙特卡洛模拟实现  '
- en: A quantum computing algorithm for derivatives valuation
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '衍生品估值的量子计算算法  '
- en: Derivatives pricing – the theoretical aspects
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '衍生品定价——理论方面  '
- en: Learning the factors that go into setting derivatives pricing is crucial. An
    in-depth knowledge of financial product pricing is essential to make sound investing
    decisions, whether you’re on the buying or selling side of the market. After all,
    knowing how a product’s attributes interact to produce value is necessary to decide
    what to offer or bid for a financial product. It is crucial to comprehend the
    price of financial assets. The capital asset pricing model and its variants, based
    on discounted cash flow, help establish values for financial assets. However,
    unlike traditional assets such as stocks and bonds, derivatives have their challenges,
    but they also have several unexpectedly straightforward properties. In the next
    section, we will discuss the important concept of money’s time value, which forms
    the basis for securities pricing.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '学习衍生品定价所涉及的因素至关重要。深入了解金融产品定价对于做出明智的投资决策至关重要，无论你是在市场的买方还是卖方。毕竟，了解一个产品的属性如何相互作用以产生价值，对于决定提供或竞标一个金融产品是必要的。理解金融资产的价格至关重要。资本资产定价模型及其基于贴现现金流的变体帮助确定金融资产的价值。然而，与传统资产如股票和债券不同，衍生品有其挑战，但也具有一些出乎意料的简单特性。在接下来的部分，我们将讨论货币的时间价值这一重要概念，这为证券定价奠定了基础。  '
- en: The time value of money
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '货币的时间价值  '
- en: The value of money fluctuates over time. What does this imply in detail? If
    you had the choice between getting $100 now or $100 a year from now, which would
    you choose? The majority would probably get the $100 as quickly as feasible (today).
    The further a cash flow is in the future, the less valuable it becomes. A similar
    approach may be extended to compare the values of cash flows at various times.
    Let’s say we want to get $100 one year instead of two years from now. Mathematically,
    a risk-free interest rate is to blame for the temporal variation in the value
    of money. The quicker funds are received, the quicker interest may be collected.
    Calculating the present value of the cash flows and comparing them makes it possible
    to compare various amounts of money at different dates.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 金钱的价值随着时间波动。这具体意味着什么呢？假设你可以选择现在拿到100美元，或者一年后拿到100美元，你会选择哪一个？大多数人可能会选择尽快拿到100美元（也就是今天）。现金流越远离现在，它的价值就越低。类似的方法可以用来比较不同时间点现金流的价值。假设我们希望一年后得到100美元，而不是两年后。数学上，风险无关的利率是金钱价值随时间变化的原因。资金获得得越快，所能获得的利息就越快。通过计算现金流的现值并进行比较，我们可以比较在不同日期得到的不同金额的价值。
- en: Case study one
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究一
- en: The time value of money is a key concept in finance that refers to the idea
    that money today is worth more than the same amount in the future, due to its
    earning potential. This concept is important in many financial decisions, including
    investments, loans, and other transactions. In this essay, we will explore an
    example of the time value of money in the context of a future discounted price,
    with a $450 cash flow for three years at a 10% discount rate.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 时间价值是金融学中的一个关键概念，它指的是今天的金钱比未来相同金额的金钱更有价值，因为它具有赚取回报的潜力。这个概念在许多金融决策中都非常重要，包括投资、贷款和其他交易。在本文中，我们将探讨一个时间价值的例子，背景是一个折现价格的未来案例，假设三年后有一笔450美元的现金流，折现率为10%。
- en: 'Assuming a discount rate of 10%, the present value of a $450 cash flow in three
    years can be calculated using the following formula:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 假设折现率为10%，可以使用以下公式计算三年后450美元现金流的现值：
- en: PV =  FV _ (1 + r) n
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: PV =  FV  *  (1 + r) ^ n
- en: where r represents the discount rate, n refers to the number of periods, and
    PV and FV represent the present and future values respectively.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 其中r代表折现率，n代表期数，PV和FV分别表示现值和未来值。
- en: 'Using this formula, we can calculate the present value of a $450 cash flow
    in three years as follows:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个公式，我们可以计算出三年后450美元现金流的现值，计算方法如下：
- en: PV =  $450 _ (1 + 0.1) 3
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: PV = 450美元 * (1 + 0.1) ^ 3
- en: PV = $300.30
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: PV = 300.30美元
- en: This means that the present value of a $450 cash flow in three years at a 10%
    discount rate is $300.30\. In other words, if we were to receive $450 in three
    years and wanted to know how much that cash flow is worth today, we would discount
    it back to its present value of $300.30.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，在10%的折现率下，三年后450美元的现值为300.30美元。换句话说，如果我们将在三年后收到450美元，并且想知道今天这笔现金流的价值，我们将把它折算回今天的现值300.30美元。
- en: 'The time value of money can also be applied to investments. For example, let’s
    say we can invest $1,000 today in a fund that promises to pay a 10% annual return
    for three years. Using the formula to calculate the future value of a lump sum
    investment, we can calculate the future value of this investment as follows:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 时间价值理论也可以应用于投资。例如，假设我们今天投资1000美元于一个承诺三年年回报率为10%的基金。使用公式计算该笔一次性投资的未来价值，我们可以计算出这项投资的未来价值如下：
- en: FV = PV × (1 + r) n
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: FV = PV × (1 + r) ^ n
- en: FV = $1,000 × (1 + 0.1) 3
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: FV = 1000美元 × (1 + 0.1) ^ 3
- en: FV = $1,331
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: FV = 1331美元
- en: If we were to invest $1,000 today at a 10% annual return for three years, the
    investment would be worth $1,331 at the end of the third year.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们今天以10%的年回报率投资1000美元，三年后的投资价值将为1331美元。
- en: Hence, the time value of money is a fundamental concept in finance that plays
    a crucial role in many financial decisions. Whether calculating the present value
    of future cash flows or the future value of investments, understanding the time
    value of money is essential to make informed financial decisions and manage risk
    effectively. By applying the formulas and concepts discussed in this essay, investors
    can make better financial decisions and achieve their financial goals. The following
    passage will discuss a fundamental concept of securities pricing.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，货币的时间价值是金融中的一个基本概念，在许多金融决策中起着至关重要的作用。无论是计算未来现金流的现值，还是计算投资的未来价值，理解货币的时间价值对于做出明智的金融决策和有效管理风险至关重要。通过运用本文讨论的公式和概念，投资者可以做出更好的金融决策，达成财务目标。以下部分将讨论证券定价的一个基本概念。
- en: Securities pricing
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 证券定价
- en: Securities pricing refers to determining the value of financial instruments
    such as stocks, bonds, options, and other investment products. The price of a
    security reflects the supply and demand for that security in the market, which
    is affected by a wide range of factors, including company performance, economic
    conditions, and investor sentiment.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 证券定价是指确定股票、债券、期权及其他投资产品等金融工具的价值。证券的价格反映了市场上对该证券的供求关系，受多种因素的影响，包括公司业绩、经济状况和投资者情绪。
- en: In general, the price of a security is determined through the interaction of
    buyers and sellers in the market. When there are more buyers than sellers, the
    security price goes up, and when there are more sellers than buyers, the price
    goes down.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 一般而言，证券的价格是通过市场中买卖双方的互动来决定的。当买方多于卖方时，证券价格会上涨；而当卖方多于买方时，价格则会下跌。
- en: 'There are several methods used to determine the price of securities, including
    the following:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方法用于确定证券的价格，包括以下几种：
- en: '**Market-based pricing**: This is the most common method of pricing securities,
    where the price of a security is determined based on its current market value.
    Market-based pricing is often used for publicly traded securities, where prices
    are determined through bidding and trading on an exchange.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**市场定价**：这是最常见的证券定价方法，通过证券的当前市场价值来确定其价格。市场定价通常适用于公开交易的证券，这些证券的价格通过在交易所的竞标和交易来确定。'
- en: '**Fundamental analysis**: This method involves analyzing a company’s financial
    statements and other relevant information to determine its intrinsic value. Fundamental
    analysis considers revenue, earnings, assets, liabilities, and growth potential
    to determine whether a security is undervalued or overvalued.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本面分析**：该方法通过分析公司财务报表和其他相关信息来确定其内在价值。基本面分析考虑收入、利润、资产、负债和增长潜力等因素，来判断证券是被低估还是高估。'
- en: '**Technical analysis**: This method involves analyzing price and volume data
    to identify patterns and trends that can be used to predict future price movements.
    Technical analysis is often used with fundamental analysis to make investment
    decisions.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**技术分析**：该方法通过分析价格和交易量数据，识别可以用来预测未来价格走势的模式和趋势。技术分析通常与基本面分析结合使用，以做出投资决策。'
- en: '**Options pricing models**: These models use mathematical formulas to determine
    the fair value of options contracts, based on factors such as the underlying asset
    price, the time to expiration, and the underlying asset’s volatility.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**期权定价模型**：这些模型使用数学公式来确定期权合约的公允价值，考虑的因素包括标的资产的价格、到期时间以及标的资产的波动性。'
- en: In addition to these methods, market participants also consider other factors,
    such as interest rates, inflation, geopolitical events, and market sentiment when
    determining the price of securities.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些方法外，市场参与者在确定证券价格时，还会考虑其他因素，如利率、通货膨胀、地缘政治事件和市场情绪。
- en: Case study two
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究二
- en: Securities pricing values financial assets such as stocks, bonds, and other
    securities. Market demand, economic conditions, and company performance influence
    securities pricing. Let’s consider an example of securities pricing for a company,
    ABC, that issued a bond with a face value of $1,000 and a coupon rate of 5%, payable
    annually for ten years.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 证券定价是对股票、债券和其他证券等金融资产的定价过程。市场需求、经济状况和公司业绩都会影响证券定价。我们来看一个关于证券定价的例子，假设一家公司ABC发行了一只面值为$1,000，票面利率为5%的债券，每年支付利息，期限为十年。
- en: Step one – determine the market interest rate
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第一步 – 确定市场利率
- en: The market interest rate is the rate of return that investors expect to earn
    on similar securities. Let’s assume that the market interest rate for bonds with
    similar characteristics as ABC’s bond is 6%.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 市场利率是投资者期望从类似证券中获得的回报率。假设与ABC公司债券特征相似的债券的市场利率为6%。
- en: Step two – calculate the present value of the bond
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第二步 – 计算债券的现值
- en: 'Using the market interest rate of 6%, we can calculate the present value of
    the bond using the following formula:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 使用6%的市场利率，我们可以通过以下公式计算债券的现值：
- en: PV =  C _ (1 + r) n  +  FV _ (1 + r) n
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: PV =  C _ (1 + r) n  +  FV _ (1 + r) n
- en: 'For ABC’s bond, the annual coupon payment is $50 (5% of $1,000 at face value),
    and the bond matures in 10 years. Using these values and the market interest rate
    of 6%, we can calculate the present value of the bond as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 对于ABC公司的债券，年利息支付为$50（$1,000面值的5%），债券的期限为10年。使用这些数值和6%的市场利率，我们可以计算债券的现值如下：
- en: PV =  $50 _ (1 + 0.06) 1  +  $50 _ (1 + 0.06) 2  + … +  $50 _ (1 + 0.06) 10 
    +  $1,000 _ (1 + 0.06) 10
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: PV =  $50 _ (1 + 0.06) 1  +  $50 _ (1 + 0.06) 2  + … +  $50 _ (1 + 0.06) 10 
    +  $1,000 _ (1 + 0.06) 10
- en: PV =  $50 _ 1.06  +  $50 _ 1.236  + … +  $50 _ 1.791  + $385.54
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: PV =  $50 _ 1.06  +  $50 _ 1.236  + … +  $50 _ 1.791  + $385.54
- en: PV = $850.31
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: PV = $850.31
- en: Step three – determine the market price of the bond
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第三步 – 确定债券的市场价格
- en: The bond’s market price is the present value of the expected cash flows from
    the bond. In this case, the market price of ABC’s bond is $850.31, which is the
    present value of the annual coupon payments and the face value discounted at the
    market interest rate of 6%.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的市场价格是债券预期现金流的现值。在本例中，ABC公司债券的市场价格为$850.31，这是年利息支付和面值按6%的市场利率折现后的现值。
- en: Step four – compare the market price with the face value
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第四步 – 将市场价格与面值进行比较
- en: If the market price is lower than the face value, the bond sells at a discount,
    and if the market price is higher than the face value, the bond sells at a premium.
    In this case, the market price of ABC’s bond is lower than the face value of $1,000,
    which means the bond sells at a discount.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 如果市场价格低于面值，则债券以折扣价格出售；如果市场价格高于面值，则债券以溢价出售。在本例中，ABC公司债券的市场价格低于面值$1,000，这意味着该债券以折扣价出售。
- en: Thus, securities pricing is a complex process, involving analyzing various factors
    that influence the value of financial assets. By understanding the principles
    of securities pricing and using the appropriate valuation methods, investors can
    make informed decisions about buying and selling securities to maximize their
    returns and manage risk. The following section will discuss the process and methodology
    involving derivatives pricing.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，证券定价是一个复杂的过程，涉及分析影响金融资产价值的各种因素。通过理解证券定价的原理并使用适当的估值方法，投资者可以做出明智的买卖决策，最大化回报并管理风险。接下来的部分将讨论衍生品定价的过程和方法。
- en: Derivatives pricing
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 衍生品定价
- en: Derivatives pricing is a vital aspect of financial portfolio management. Within
    the vast realm of financial instruments, derivatives, as their name suggests,
    derive value from the asset they are represented by. These assets or securities
    may be represented by stocks, bonds, commodities, or currencies. Derivatives pricing
    involves determining the fair value of these instruments, which can be used for
    trading, hedging, or speculation purposes.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 衍生品定价是金融投资组合管理中的一个重要方面。在广泛的金融工具领域中，衍生品顾名思义，从其所代表的资产中衍生出价值。这些资产或证券可能由股票、债券、商品或货币表示。衍生品定价涉及确定这些工具的公允价值，可用于交易、对冲或投机目的。
- en: Factors that affect derivatives pricing
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 影响衍生品定价的因素
- en: Several factors may affect the price of a given derivative. Relevant drivers
    are the price of the underlying asset, the time to expiration, the volatility
    of the underlying asset, and the interest rate. For example, if the price of the
    underlying asset increases, the price of a call option on that asset will also
    increase, while the price of a put option will decrease. Similarly, if the time
    to expiration increases, the price of an option will also increase. The underlying
    asset’s volatility is also a significant factor in pricing derivatives, as higher
    volatility implies a greater chance of the asset moving in the desired direction.
    Finally, the interest rate can affect the price of a derivative, as it can influence
    the cost of borrowing and the opportunity cost of holding the underlying asset.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 有几个因素可能会影响特定衍生品的价格。相关因素包括标的资产的价格、到期时间、标的资产的波动性和利率。例如，如果标的资产的价格上升，那么该资产的看涨期权的价格也会增加，而看跌期权的价格则会下降。同样，如果到期时间增加，期权的价格也会增加。标的资产的波动性也是定价衍生品的重要因素，因为更高的波动性意味着资产有更大的可能性朝着预期的方向波动。最后，利率也会影响衍生品的价格，因为它会影响借贷成本和持有标的资产的机会成本。
- en: The methods of derivatives pricing
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 衍生品定价的方法
- en: There are several types of pricing derivatives, including the Black-Scholes
    model, the binomial option pricing model, and the Monte Carlo simulation. The
    Black-Scholes model is a mathematical model used to price European-style options,
    which assumes that an underlying asset’s price follows a lognormal distribution.
    The binomial option pricing model is a discrete-time model that uses a tree structure
    to represent the possible outcomes of the underlying asset’s price. The Monte
    Carlo simulation is a stochastic model that uses random sampling to simulate the
    underlying asset’s price path and calculate the derivative’s expected value.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 定价衍生品的方法有几种，包括布莱克-斯科尔斯模型、二项式期权定价模型和蒙特卡罗模拟。布莱克-斯科尔斯模型是一个用于定价欧式期权的数学模型，它假设标的资产的价格遵循对数正态分布。二项式期权定价模型是一个离散时间模型，它使用树状结构表示标的资产价格的可能结果。蒙特卡罗模拟是一个随机模型，它通过随机抽样模拟标的资产的价格路径，并计算衍生品的期望值。
- en: The risks involved in derivatives pricing
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 衍生品定价所涉及的风险
- en: Derivatives pricing involves several risks, including market, credit, and operational
    risks. Market risk arises from changes in an underlying asset’s price, which can
    affect the value of the derivative. Credit risk arises when one party fails to
    fulfill its obligation to the other party, which can lead to default. Operational
    risk arises from errors in the trading, settlement, or accounting of derivatives,
    which can result in financial losses.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 衍生品定价涉及多种风险，包括市场风险、信用风险和操作风险。市场风险源于标的资产价格的变化，这可能影响衍生品的价值。信用风险则是当一方未能履行其对另一方的义务时，可能导致违约。操作风险源于衍生品交易、结算或会计过程中的错误，这可能导致财务损失。
- en: Derivatives pricing is a crucial aspect of financial portfolio management, as
    it allows investors to hedge their risks, speculate on market movements, and create
    customized investment strategies. There are several methods to calculate the price
    of derivatives, including the Black-Scholes model, the binomial option pricing
    model, and the Monte Carlo simulation. However, derivatives pricing also involves
    several risks, including market, credit, and operational risks. Therefore, it
    is essential to thoroughly understand these risks and use appropriate risk management
    strategies to minimize their impact on financial portfolios.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 衍生品定价是金融投资组合管理中的一个关键方面，因为它允许投资者对冲风险、预测市场波动并制定定制化的投资策略。定价衍生品的方法有多种，包括布莱克-斯科尔斯模型、二项式期权定价模型和蒙特卡罗模拟。然而，衍生品定价也涉及多种风险，包括市场风险、信用风险和操作风险。因此，彻底理解这些风险并采取适当的风险管理策略，以将其对金融投资组合的影响降到最低，至关重要。
- en: Case study three
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 案例研究三
- en: One example of securities pricing is the pricing of a stock option. A stock
    option is a derivative that, without the obligation for it, gives the holder the
    right to buy or sell a specific number of shares of a stock. This is done at a
    contract-binding price (known as the strike price) within a specific time frame.
    The price of a stock, as mentioned, may be affected by a number of factors.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 证券定价的一个例子是股票期权的定价。股票期权是一种衍生工具，持有者在没有义务的情况下，拥有在特定时间内以合同约定的价格（即执行价格）买入或卖出特定数量股票的权利。正如前面所提到的，股票价格可能会受到多个因素的影响。
- en: For example, let’s consider a call option for 100 shares of XYZ Corporation,
    with a strike price of $50 and an expiration date of three months from now. If
    the current market price of XYZ Corporation’s stock is $55, the option would have
    an intrinsic value of $5 per share (the difference between the market price and
    the strike price). However, the option’s price would also be influenced by factors
    such as the time to expiration, the volatility of the stock, and the interest
    rate.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设我们考虑XYZ公司100股认购期权，执行价格为50美元，三个月后到期。如果XYZ公司当前的市场价格为55美元，则该期权的内在价值为每股5美元（市场价格与执行价格的差额）。然而，期权的价格还会受到诸如到期时间、股票波动性和利率等因素的影响。
- en: Suppose the stock’s volatility is high, indicating a higher likelihood of significant
    price swings, and the interest rate is low, making it cheaper to borrow money.
    In that case, the option’s price would be higher, due to the increased likelihood
    of the stock price moving in the desired direction, making the option more valuable.
    Conversely, if the stock’s volatility is low and the interest rate is high, the
    option’s price would be lower, since the likelihood of the stock price moving
    in the desired direction is lower. The cost of borrowing money is higher. Overall,
    pricing securities, such as options, involves assessing multiple factors and using
    various pricing models to determine a fair value. The pricing process helps investors
    make informed investment decisions and manage risk effectively.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 假设股票的波动性较高，表明股价有更大的波动可能，而利率较低，借款成本较低。在这种情况下，期权的价格会较高，因为股票价格朝着期望方向波动的可能性增大，期权的价值也随之增加。相反，如果股票的波动性较低而利率较高，期权的价格会较低，因为股票价格朝着期望方向波动的可能性较低，借款成本较高。总体而言，证券定价（如期权）涉及评估多个因素，并使用各种定价模型来确定公允价值。定价过程帮助投资者做出明智的投资决策，并有效管理风险。
- en: 'The process of securities pricing involves several steps, including the following:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 证券定价过程包括多个步骤，以下是其中的一些：
- en: '**Identifying the security**: The first step in pricing securities is to identify
    the specific security being priced. This could be a stock, bond, option, or another
    financial instrument.'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**识别证券**：定价证券的第一步是识别所定价的具体证券。这可能是股票、债券、期权或其他金融工具。'
- en: '**Gathering information**: Gather all relevant information about the security,
    including its current market price, historical price trends, any news or events
    that may affect its value, and any associated risks.'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**收集信息**：收集关于证券的所有相关信息，包括当前市场价格、历史价格趋势、可能影响其价值的新闻或事件，以及任何相关的风险。'
- en: '**Determining pricing factors**: The price of a security is influenced by several
    factors, including supply and demand, interest rates, economic conditions, and
    market sentiment. Identify the most relevant factors likely to affect the security’s
    price.'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**确定定价因素**：证券的价格受多种因素的影响，包括供需关系、利率、经济状况和市场情绪。识别可能影响证券价格的最相关因素。'
- en: '**Choosing a pricing model**: There are several pricing models used to determine
    the fair value of securities, including the **discounted cash flow** (**DCF**)
    model, the **dividend discount model** (**DDM**), and the Black-Scholes model
    for options. Choose the most appropriate model, based on the type of security
    being priced and the available information.'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选择定价模型**：有多种定价模型用于确定证券的公允价值，包括**折现现金流**（**DCF**）模型、**股息折现模型**（**DDM**）以及用于期权的布莱克-舒尔斯模型。根据所定价证券的类型和可用信息，选择最合适的模型。'
- en: '**Calculating the price**: Once the pricing model is chosen, calculate the
    security’s fair value, using the relevant pricing factors and any assumptions
    required by the model. This may involve complex mathematical calculations, especially
    for options and other derivatives.'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**计算价格**：一旦选择了定价模型，就使用相关的定价因素和模型所需的假设来计算证券的公允价值。这可能涉及复杂的数学计算，特别是对于期权和其他衍生品。'
- en: '**Evaluating the results**: Evaluate the results of the pricing model and ensure
    that the calculated price is reasonable and consistent with market conditions
    and other available information.'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**评估结果**：评估定价模型的结果，确保计算出的价格合理，并与市场条件和其他可用信息一致。'
- en: '**Updating pricing regularly**: Securities pricing is an ongoing process, and
    prices can change rapidly based on new information and market conditions. Regularly
    update the pricing model, and recalculate the security’s price as needed to ensure
    that the investment portfolio is up to date and accurately reflects the value
    of the securities.'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**定期更新定价**：证券定价是一个持续的过程，价格可能会根据新信息和市场条件迅速变化。定期更新定价模型，并在需要时重新计算证券的价格，以确保投资组合保持最新，并准确反映证券的价值。'
- en: This shows that securities pricing is a complex process that involves multiple
    steps, including identifying the security, gathering information, determining
    pricing factors, choosing a pricing model, calculating the price, evaluating the
    results, and updating pricing regularly. By following these steps, investors can
    make informed investment decisions and manage risk effectively.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明，证券定价是一个复杂的过程，涉及多个步骤，包括识别证券、收集信息、确定定价因素、选择定价模型、计算价格、评估结果和定期更新定价。通过遵循这些步骤，投资者可以做出明智的投资决策，并有效管理风险。
- en: Derivatives pricing – theory
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 衍生品定价 – 理论
- en: The Black-Scholes model is widely used for pricing derivatives such as options.
    Fischer Black and Myron Scholes came up with this formalism in 1973, which has
    since become a cornerstone of modern finance. The model considers various factors
    that influence the value of an option, including the underlying asset price, the
    option’s strike price, the time to expiration, volatility, and the risk-free interest
    rate. Let’s consider an example of the Black-Scholes model when setting the price
    a call option could pose on a stock.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: Black-Scholes模型广泛用于定价衍生品，如期权。Fischer Black和Myron Scholes在1973年提出了这一公式，并且它已经成为现代金融的基石。该模型考虑了影响期权价值的多个因素，包括基础资产价格、期权的行使价格、到期时间、波动率和无风险利率。让我们考虑一个例子，使用Black-Scholes模型为股票的看涨期权定价。
- en: Let’s assume that a call option on the XYZ stock with a strike price of $50
    is set to expire in six months. The current stock price is $52, and the volatility
    of the stock is 20%, while the risk-free interest rate is 3%.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 假设XYZ股票的看涨期权行使价格为50美元，将在六个月后到期。当前股票价格为52美元，股票的波动率为20%，而无风险利率为3%。
- en: Step one – calculate the d1 and d2 values
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第一步 – 计算d1和d2的值
- en: d 1 =  [ln  S _ K + (r + σ 2 _ 2 )t ]  ____________ (σ √ _ t )
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: d 1 = [ln S _ K + (r + σ 2 _ 2 )t ] ____________ (σ √ _ t )
- en: d 2 = d 1 − σ √ _ t
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: d 2 = d 1 − σ √ _ t
- en: where S is the current stock price, K is the option’s strike price, r is the
    risk-free interest rate, σ is the volatility of the stock, and t is the time to
    expire in years.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，S为当前股票价格，K为期权的行使价格，r为无风险利率，σ为股票的波动率，t为到期时间（单位：年）。
- en: 'Using the given values, we can calculate d1 and d2 as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 使用给定的值，我们可以按如下方式计算d1和d2：
- en: d 1 = [ln 52 _ 50 + (0.03 + 0.2 2 _ 2 )0.5 ] ___________ (0.2 √ _ 0.5 )  = 0.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: d 1 = [ln 52 _ 50 + (0.03 + 0.2 2 _ 2 )0.5 ] ___________ (0.2 √ _ 0.5 ) = 0.
- en: d 2 = 0.5601 − 0.2 √ _ 0.5  = 0.4187
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: d 2 = 0.5601 − 0.2 √ _ 0.5 = 0.4187
- en: Step two – calculate the option price
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第二步 – 计算期权价格
- en: 'Using the following formula, we can calculate the theoretical price of the
    call option:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下公式，我们可以计算出看涨期权的理论价格：
- en: C = S × N(d 1) − K e −rt N( d 2)
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: C = S × N(d 1) − K e −rt N( d 2)
- en: Where C is the theoretical price of the call option, S is the current stock
    price, K is the option’s strike price, r is the risk-free interest rate, t is
    the time to expiration in years, N() is the cumulative distribution function of
    the standard normal distribution.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 其中C是看涨期权的理论价格，S为当前股票价格，K为期权的行使价格，r为无风险利率，t为到期时间（单位：年），N()为标准正态分布的累积分布函数。
- en: 'Using the given values, we can calculate the theoretical price of the call
    option as follows:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 使用给定的值，我们可以按如下方式计算出看涨期权的理论价格：
- en: C = 52 × N(0.5601) − 50 e −0.03*0.5 N(0.4187) = $4.42
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: C = 52 × N(0.5601) − 50 e^−0.03*0.5 N(0.4187) = $4.42
- en: Step three – analyze the results
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第三步 – 分析结果
- en: The calculated theoretical price of the call option is $4.42, which means that
    an investor can purchase the option for $4.42 and has the right to buy the XYZ
    stock for $50 before the expiration date in six months. If the stock price goes
    above $54.42 (the strike price plus the option price), the investor can exercise
    the option and make a profit. On the other hand, if the stock price stays below
    the strike price, the investor can let the option expire and only lose the premium
    paid for the option.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 计算出的看涨期权理论价格为$4.42，这意味着投资者可以以$4.42的价格购买期权，并在六个月内有权以$50的价格购买XYZ股票。如果股票价格超过$54.42（执行价格加期权价格），投资者可以行使期权并获利。另一方面，如果股票价格低于执行价格，投资者可以让期权到期，仅损失购买期权时支付的权利金。
- en: Thus, the Black-Scholes model is an important tool for pricing derivatives such
    as options. By taking into account various factors that influence the value of
    an option, investors can make informed decisions about buying and selling options
    to manage risk and maximize returns. However, it’s important to note that the
    model has some limitations and assumptions, such as constant volatility and no
    transaction costs, which may only sometimes be true in real-world situations.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，布莱克-斯科尔斯模型是定价衍生品（如期权）的重要工具。通过考虑影响期权价值的各种因素，投资者可以做出明智的买卖决策，以管理风险并最大化回报。然而，需要注意的是，该模型存在一些限制和假设，例如假设波动率恒定且不存在交易成本，而这些假设在现实情况下可能并不总是成立。
- en: The Black-Scholes-Merton (BSM) model
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 布莱克-斯科尔斯-默顿（BSM）模型
- en: The BSM model is widely regarded as one of the most important breakthroughs
    in modern finance, and its widespread use has made options trading more efficient
    and accessible to investors.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型被广泛认为是现代金融学中最重要的突破之一，其广泛应用使期权交易变得更加高效，并且让投资者更易参与。
- en: The BSM model uses six variables to determine the fair value of an option. These
    variables include volatility, the type, the stock price, the strike price, time,
    and the risk-free rate. Volatility refers to the degree of fluctuation in the
    underlying asset’s price. In contrast, the type refers to whether the option is
    a call or a put option. A call option refers to the buying action as opposed to
    a put option, which refers to the selling right. The stock price and strike price
    refer to the current market price and the predetermined price at which the underlying
    asset can be bought or sold. Time refers to the length of time until the option
    expires. The risk-free rate is the theoretical rate of return on a risk-free investment,
    such as a government bond.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型使用六个变量来确定期权的公允价值。这些变量包括波动率、类型、股价、执行价格、时间和无风险利率。波动率指的是标的资产价格的波动幅度，而类型则指期权是看涨期权还是看跌期权。看涨期权是指买入权，而看跌期权则指卖出权。股价和执行价格分别指当前市场价格和可用于买卖标的资产的预定价格。时间指期权到期前的剩余时间。无风险利率是指无风险投资（如政府债券）的理论回报率。
- en: The BSM model is often used to determine the fair value of options based on
    these six variables. To illustrate the BSM model, let us consider an example of
    an investor who holds a call option with a strike price of $100, which will expire
    in six months. We will assume that the current market price of the underlying
    asset is $110, the risk-free rate is 3%, and the underlying asset’s volatility
    is 20%.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型常用于根据这六个变量来确定期权的公允价值。为了说明BSM模型，我们以一个例子为例：假设一位投资者持有一个执行价格为$100的看涨期权，该期权将在六个月后到期。我们假设标的资产的当前市场价格为$110，无风险利率为3%，且标的资产的波动率为20%。
- en: 'Using the BSM model, we can calculate the fair value of the call option. The
    formula to calculate the fair value of a call option using the BSM model is:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 使用BSM模型，我们可以计算出看涨期权的公允价值。使用BSM模型计算看涨期权公允价值的公式如下：
- en: C = S × N(d 1) − K e −rt N( d 2)
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: C = S × N(d1) − K e^−rt N(d2)
- en: where C is the fair value of the call option, S is the current market price
    of the underlying asset, K is the strike price of the option, r is the risk-free
    rate, t is the time until expiration, and N(d 1) and N(d 2) are cumulative standard
    normal distribution functions.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 其中C是看涨期权的公允价值，S是标的资产的当前市场价格，K是期权的执行价格，r是无风险利率，t是到期时间，N(d1)和N(d2)是累积分布的标准正态函数。
- en: 'Applying the formula to the given example, we have:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 将公式应用到给定的例子中，我们得到：
- en: d 1 =  [ln 110 _ 100 + (0.03 + 0.2 2 _ 2 )0.5 ]  _________________  (0.2 √ _ 0.5 ) 
    = 0.9568
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: d1 =  [ln 110 _ 100 + (0.03 + 0.2 2 _ 2 )0.5 ]  _________________  (0.2 √ _
    0.5 )  = 0.9568
- en: d 2 = 0.9568 − 0.2 √ _ 0.5  = 0.8154
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: d2 = 0.9568 − 0.2 √ _ 0.5  = 0.8154
- en: N(d 1) = 0.831
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: N(d1) = 0.831
- en: N(d 2) = 0.7926
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: N(d2) = 0.7926
- en: C = 110 × 0.831 − 100 × e −0.03×0.5 × 0.7926 = $13.29
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: C = 110 × 0.831 − 100 × e −0.03×0.5 × 0.7926 = 13.29美元
- en: Therefore, the fair value of the call option is $13.29\. This means that if
    the investor were to sell the option at this price, it would be a fair price based
    on the BSM model.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，看涨期权的公平价值为13.29美元。这意味着，如果投资者以该价格出售期权，根据BSM模型，这将是一个公平的价格。
- en: The BSM model is a widely used formula that allows investors to determine the
    fair value of options based on six variables – volatility, type, the stock price,
    the strike price, time, and the risk-free rate. The model has revolutionized the
    options market by making pricing more efficient and transparent. The example presented
    here illustrates the application of the BSM model and highlights its importance
    in modern finance.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型是一个广泛使用的公式，允许投资者根据六个变量来确定期权的公平价值——波动率、类型、股价、行使价格、时间和无风险利率。该模型通过提高定价效率和透明度，彻底改变了期权市场。这里展示的例子说明了BSM模型的应用，并突显了它在现代金融中的重要性。
- en: Assumptions
  id: totrans-109
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 假设
- en: 'The BSM model is a widely used options pricing model that assumes several factors.
    These assumptions are critical in determining the fair value of an underlying
    asset for either of the two options – put or call. Here are some of the significant
    assumptions of the BSM model:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型是一个广泛使用的期权定价模型，假设了几个因素。这些假设对确定标的资产的公平价值至关重要，无论是看跌期权还是看涨期权。以下是BSM模型的一些重要假设：
- en: '**Efficient markets**: The model assumes that markets are efficient, meaning
    all available information is immediately reflected in the asset’s price'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**有效市场**：该模型假设市场是有效的，意味着所有可用信息会立即反映在资产的价格中。'
- en: '**No dividends**: The model assumes that the underlying asset does not pay
    dividends during the option’s life'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**没有股息**：该模型假设标的资产在期权生命周期内不支付股息。'
- en: '**No transaction costs**: The model assumes no transaction costs are associated
    with buying or selling the underlying asset or option'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**没有交易成本**：该模型假设购买或出售标的资产或期权时没有交易成本。'
- en: '**No arbitrage**: The model assumes that there are no arbitrage opportunities,
    which means it is impossible to make a riskless profit by simultaneously buying
    and selling the underlying asset and option'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**没有套利机会**：该模型假设不存在套利机会，即无法通过同时买入和卖出标的资产与期权来实现无风险盈利。'
- en: '**Lognormal distribution**: The model assumes that the underlying asset’s price
    follows a lognormal distribution, which means that the price changes are proportional
    to the current price and a random variable'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对数正态分布**：该模型假设标的资产的价格遵循对数正态分布，即价格变化与当前价格及随机变量成比例。'
- en: '**Constant volatility**: The model assumes that the underlying asset’s volatility
    is constant over the option’s life'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**恒定波动率**：该模型假设标的资产的波动率在期权的生命周期内是恒定的。'
- en: These assumptions may be false, but they provide a useful framework to understand
    the factors influencing price options.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这些假设可能是错误的，但它们提供了一个有用的框架，帮助理解影响期权价格的因素。
- en: Limitations
  id: totrans-118
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 限制
- en: 'The BSM model is one of the most widely used models for options pricing. However,
    despite its popularity, the model has several limitations that make it less suitable
    for certain options and market conditions. Some of the limitations of the BSM
    model include the following:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型是最广泛使用的期权定价模型之一。然而，尽管它很受欢迎，该模型有几个局限性，使其在某些期权和市场条件下不太适用。BSM模型的一些局限性包括：
- en: '**An assumption of continuous trading**: The BSM model assumes that trading
    in the underlying asset is continuous, which means that the stock price can change
    by an infinite number of small amounts. In reality, trading is not continuous,
    and stock prices can experience sudden and large changes due to news events, market
    shocks, and other factors.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**假设连续交易**：BSM模型假设标的资产的交易是连续的，这意味着股价可以通过无数小幅变化来调整。实际上，交易并非连续，股价可能因新闻事件、市场冲击和其他因素而突然发生大幅变化。'
- en: '**No consideration of market frictions**: The BSM model assumes that no transaction
    costs, taxes, or other market frictions affect the price of the underlying asset.
    In reality, these frictions can significantly impact the value of options.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**不考虑市场摩擦**：BSM模型假设没有交易成本、税费或其他市场摩擦影响基础资产的价格。实际上，这些摩擦可能会显著影响期权的价值。'
- en: '**An assumption of constant volatility**: The BSM model assumes that volatility
    is constant over the option’s life. In reality, volatility can be highly variable
    and change significantly over short periods.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**假设波动率恒定**：BSM模型假设波动率在期权的生命周期内是恒定的。实际上，波动率可能会有很大的变化，并在短期内发生显著变化。'
- en: '**Limited applicability to specific options**: The BSM model is most suitable
    for pricing European options, which can only be exercised at expiration. The model
    is less suitable for pricing American options, which can be exercised before expiration,
    and other exotic options.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对特定期权的适用性有限**：BSM模型最适合用于定价欧式期权，这种期权只能在到期时行使。该模型对定价美式期权（可以在到期前行使）及其他复杂期权的适用性较差。'
- en: '**Limited applicability to specific market conditions**: The BSM assumes specific
    behavior distribution on both the asset and markets. This limits the normal case
    where they can show all types of distributions, ranging from skewed to normal
    distributions as observed in reality.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对特定市场条件的适用性有限**：BSM模型假设资产和市场上的行为分布是特定的。这限制了它在正常情况下的应用，不能涵盖所有类型的分布，从现实中观察到的偏态分布到正态分布。'
- en: '**Use of the risk-neutral approach**: The BSM model uses a risk-neutral approach
    to pricing options, which assumes that investors are indifferent to the risk and
    that the expected return on the option is equal to the risk-free rate. This assumption
    may not apply, especially for highly risky or illiquid options.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**采用风险中性方法**：BSM模型使用风险中性方法来定价期权，假设投资者对风险无偏好，期权的预期收益等于无风险利率。这个假设可能并不适用，特别是在高风险或流动性差的期权中。'
- en: Despite these limitations, the BSM model remains a valuable tool for options
    pricing and has been used extensively by traders, investors, and academics since
    its introduction in 1973\. However, it is essential to recognize the model’s limitations
    and use it appropriately in the context of specific market conditions and types
    of options. These limitations can be overcome with the help of computational modeling.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管存在这些局限性，BSM模型仍然是期权定价的重要工具，自1973年推出以来，已经被交易员、投资者和学者广泛使用。然而，必须认识到该模型的局限性，并在特定的市场条件和期权类型下恰当地使用它。这些局限性可以通过计算模型来克服。
- en: Computational models
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算模型
- en: The BSM model is a popular mathematical formula used to calculate the price
    of European-style options. However, the traditional BSM model has limitations,
    such as the assumption of constant volatility and risk-neutral pricing, which
    can lead to inaccurate pricing predictions. In recent years, machine learning
    algorithms have been applied to enhance the BSM model and improve its predictive
    power. In this subsection, we will explore the implementation of the BSM model
    using machine learning algorithms, its benefits, and its limitations.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型是一种流行的数学公式，用于计算欧式期权的价格。然而，传统的BSM模型存在一些局限性，例如假设波动率恒定和风险中性定价，这可能导致定价预测不准确。近年来，机器学习算法已被应用于改进BSM模型，并提高其预测能力。在这一小节中，我们将探讨使用机器学习算法实现BSM模型的过程、其优势以及局限性。
- en: 'The BSM assumes the following:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: BSM模型假设以下条件：
- en: The price of an underlying asset exhibits a random behavior characterized by
    a stochastic process known as Geometric Brownian motion
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础资产的价格表现为一种随机行为，由一个称为几何布朗运动的随机过程来描述
- en: The volatility of the asset’s returns is constant over the option’s life
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础资产的回报率波动率在期权生命周期内是恒定的
- en: The risk-free rate is known and constant
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无风险利率是已知且恒定的
- en: The option can only be exercised at the expiration date
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 期权只能在到期日行使
- en: 'To implement the BSM model using machine learning algorithms, you can use historical
    data to train the model and learn from past market behavior. The model can then
    use this learned information to predict future prices. Machine learning algorithms,
    such as neural networks and decision trees, can help overcome the limitations
    of the traditional BSM model by doing the following:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用机器学习算法实现BSM模型，您可以使用历史数据来训练模型并学习过去的市场行为。然后，模型可以使用这些学习到的信息来预测未来的价格。机器学习算法，如神经网络和决策树，可以帮助克服传统BSM模型的局限性，方法如下：
- en: Accounting for non-constant volatility in asset returns
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑资产收益的非恒定波动性
- en: Incorporating new market data in real time to update pricing predictions
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实时融入新市场数据以更新定价预测
- en: Considering non-normal distributions of asset returns and incorporating skewness
    and kurtosis into pricing calculations
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑资产收益的非正态分布，并将偏度和峰度纳入定价计算
- en: 'Using machine learning algorithms to enhance the BSM model has several benefits,
    such as the following:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 使用机器学习算法增强BSM模型有几个好处，如下所示：
- en: Improved accuracy in predicting option prices
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提高期权定价预测的准确性
- en: Increased flexibility in modeling complex financial instruments
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在建模复杂金融工具时的灵活性增加
- en: Faster pricing calculations, allowing for more timely trading decisions
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更快的定价计算，使得交易决策更加及时
- en: 'However, there are also limitations to using machine learning algorithms in
    conjunction with the BSM model, such as the following:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，使用机器学习算法与BSM模型结合也存在一些局限性，如下所示：
- en: Increased complexity and the need for specialized technical expertise
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增加了复杂性，并且需要专业的技术专长
- en: The potential to overfit the model with historical data, leading to inaccurate
    pricing predictions
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用历史数据可能导致模型过拟合，从而导致定价预测不准确
- en: A large amount of high-quality data is needed to train the model effectively
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要大量高质量的数据来有效训练模型
- en: Despite these limitations, implementing the BSM model using machine learning
    algorithms represents a promising approach to pricing financial instruments. Incorporating
    new market data in real time and accounting for non-constant volatility can improve
    accuracy, helping traders to make more informed decisions. Implementing the BSM
    model using machine learning algorithms significantly advances financial modeling.
    By incorporating new data and accounting for non-constant volatility, this approach
    can improve the accuracy of pricing predictions and allow for more informed trading
    decisions. However, it is essential to recognize this approach’s limitations and
    use it with other financial models and analysis techniques.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管存在这些局限性，使用机器学习算法实现BSM模型仍然是一个有前景的金融工具定价方法。实时融入新市场数据并考虑非恒定波动性可以提高准确性，帮助交易者做出更明智的决策。通过使用机器学习算法实现BSM模型，显著推动了金融建模的发展。通过融入新数据并考虑非恒定波动性，这一方法可以提高定价预测的准确性，并允许做出更为知情的交易决策。然而，必须认识到这种方法的局限性，并与其他金融模型和分析技术一起使用。
- en: Machine learning
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 机器学习
- en: Machine learning in derivative pricing employs complex algorithms to predict
    future derivative prices, drawing from a vast dataset of historical trading data.
    By modeling market dynamics and identifying patterns, it provides more accurate
    price forecasts than traditional models. This not only reduces financial risk
    but also optimizes trading strategies. Furthermore, it provides insights into
    market behavior, assisting in the development of more resilient financial systems.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在衍生品定价中，机器学习使用复杂的算法从大量的历史交易数据中预测未来衍生品价格。通过建模市场动态并识别模式，它提供比传统模型更准确的价格预测。这不仅减少了金融风险，还优化了交易策略。此外，它还为市场行为提供了见解，帮助开发更具韧性的金融系统。
- en: Geometric Brownian motion
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 几何布朗运动
- en: We must model the underlying equities before estimating the price of derivative
    instruments based on their value. The **geometric Brownian motion** (**GBM**),
    also called the Wiener process, is the method often uses to model the stochastic
    process of a Brownian motion, driving the future values of an asset. It helps
    create trajectories that the asset price of the underlying stock may take in the
    future.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 我们必须在估算衍生品价格之前对基础股票进行建模，基于其价值。**几何布朗运动**（**GBM**），也叫做维纳过程，是常用来建模布朗运动随机过程的方法，用于驱动资产未来的价值。它有助于生成资产价格在未来可能采取的轨迹。
- en: 'A stochastic or random process, here defined as the time-dependent function
    S(t), is said to follow GBM if it can be expressed as the following SDE:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个随机过程（在这里定义为时间依赖函数 S(t)）可以表示为以下 SDE，则称其为遵循 GBM：
- en: d S t = μ S t dt + σ S t d W t
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: d St = μ St dt + σ St d Wt
- en: 'where:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 其中：
- en: St – the stock price at time t
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: St – 时间 t 时的股票价格
- en: dSt – the change in stock price from time t
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dSt – 从时间 t 开始的股价变化
- en: μ – the drift term
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: μ – 漂移项
- en: σ – the volatility term
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: σ – 波动率项
- en: dt – the change in time
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dt – 时间变化
- en: dWt – the Brownian motion
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: dWt – 布朗运动
- en: 'Wt notation belongs to the Wiener process or Brownian motion, μ is the percentage
    drift, and σ is the percentage volatility. Itô’s lemma (reference), the following
    analytical solution can be derived:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Wt 表示属于维纳过程或布朗运动，μ 是百分比漂移，σ 是百分比波动率。根据伊藤引理（参考文献），可以推导出以下解析解：
- en: S(t) = S 0 exp((r −  1 _ 2  σ 2)t + σ √ _ t  z)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: S(t) = S 0 exp((r −  1 / 2 σ²)t + σ √t z)
- en: Where S 0 is the initial stock index level, t the time to maturity when the
    stock will be acted on, r a constant representing the risk-less short rate, σ
    the constant volatility (often computed as the standard deviation of the stock),
    and z a normally distributed random variable. Thus, S(t) can easily be estimated
    for a given stock at time t.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 S 0 是初始股指水平，t 是到期时间，股票将在该时间受到影响，r 是表示无风险短期利率的常数，σ 是常数波动率（通常计算为股票的标准差），z 是正态分布的随机变量。因此，可以很容易地估算某一股票在时间
    t 的 S(t)。
- en: One key feature of GBM is that the projected distribution of the asset follows
    a log-normal distribution. This is convenient given that, as we saw before, we
    expect certain skewness for the value to be lower.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: GBM 的一个关键特性是资产的投影分布遵循对数正态分布。鉴于我们之前所见，我们期望值较低时会有一定的偏态，这一点非常方便。
- en: 'By setting *I* random numbers for z i i ∈ 1, … , I, and computing the associated
    S i(t) for each sample, we can generate said future price distribution. Let’s
    create a hypothetical case to prove that:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 通过为 z i i ∈ 1, … , I 设置 *I* 个随机数，并计算每个样本的相关 S i(t)，我们可以生成上述未来价格分布。让我们创建一个假设案例来证明这一点：
- en: '[PRE0]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'With those parameters set, we can simply code our St for future stock prices
    at the projected time t:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 设置这些参数后，我们可以简单地为未来股票价格在预测时间 t 编写代码：
- en: '[PRE1]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'It is interesting to plot the trajectories behind those numbers so that we
    know where they come from. We will place the trajectories for the future by one
    year:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些数字的轨迹绘制出来是很有趣的，这样我们就知道它们来自哪里。我们将在一年后的未来放置轨迹：
- en: '[PRE2]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'This iterative process will create sufficient samples of future scenarios projecting
    to our target time T, based on each time step preceding the value (t-1). The final
    code is the coded representation of the formulation described previously for the
    stochastic process:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 这个迭代过程将基于每个前一时间步（t-1）的值，创建足够的未来情景样本，投影到目标时间 T。最终代码是之前描述的随机过程公式的编码表示：
- en: '[PRE3]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This should yield a graph like the following one:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该会生成类似于以下的图表：
- en: '![Figure 4.1 – GBM trajectories generated for a given asset price and 12 month
    projection (image generated by the preceding code)](img/B19146_04_001.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.1 – 为给定资产价格和 12 个月投影生成的 GBM 轨迹（由之前的代码生成的图像）](img/B19146_04_001.jpg)'
- en: Figure 4.1 – GBM trajectories generated for a given asset price and 12 month
    projection (image generated by the preceding code)
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.1 – 为给定资产价格和 12 个月投影生成的 GBM 轨迹（由之前的代码生成的图像）
- en: 'It may look chaotic but it is, in fact, the representation of the underlying
    stochastic process we described before. We can see how all trajectories start
    from the same point (the price today) and evolve in different directions, according
    to previously described equations, broadening the range as we move forward in
    time. If we plot the distribution at time *T* (one year in our case), we can see
    that the potential evolution meets the criteria previously explained, and by showcasing
    the price distribution, we are able to make assumptions about the likelihood of
    some of those specific trajectories, some of which are more plausible than others:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 它可能看起来很混乱，但实际上是我们之前描述的基础随机过程的表现。我们可以看到所有轨迹都从同一点（今天的价格）开始，并根据先前描述的方程式沿不同方向发展，随着时间的推移，范围逐渐扩大。如果我们在时间
    *T*（在我们的案例中是1年）绘制分布图，我们可以看到潜在的演变符合之前解释的标准，通过展示价格分布，我们能够对某些特定轨迹的可能性做出假设，其中一些轨迹比其他的更有可能。
- en: '[PRE4]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![Figure 4.2 – Distribution of the price](img/B19146_04_002.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.2 – 价格分布](img/B19146_04_002.jpg)'
- en: Figure 4.2 – Distribution of the price
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.2 – 价格分布
- en: This distribution is one that will drive all our calculations associated with
    the call and put prices of a stock option. Also, it is skewed toward a lower-value
    bet than the high valuations, which are plausible but less probable.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这个分布将驱动与股票期权的看涨和看跌价格相关的所有计算。同时，它偏向于较低价值的投注，而不是较高的估值，后者虽然合理但不太可能发生。
- en: Quantum computing
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 量子计算
- en: As we saw in the previous section, in order to estimate the future price of
    an equity, many iterations over potential future prices need to be run. However,
    what if we could establish a way to load those potential distributions into quantum
    states and evaluate them using quantum devices? The following subsection will
    dig into different ways to load those future price distributions into quantum
    states using existing solutions for direct loading, such as Qiskit functionalities
    and adversarial training using PennyLane, which might be better suited for ML
    tasks due to its differentiable programming approach (similar to TensorFlow or
    PyTorch in the classical ML domain).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前一节中看到的，为了估算股权的未来价格，需要对潜在的未来价格进行多次迭代计算。然而，如果我们能找到一种方法，将这些潜在的分布加载到量子态中，并使用量子设备进行评估，会怎样呢？以下小节将深入探讨如何使用现有的直接加载解决方案（如Qiskit功能和使用PennyLane的对抗训练）将这些未来价格分布加载到量子态中。由于PennyLane采用可微编程方法（类似于经典机器学习领域中的TensorFlow或PyTorch），它可能更适合机器学习任务。
- en: Implementation in Qiskit
  id: totrans-182
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Qiskit中的实现
- en: As discussed in [*Chapter 2*](B19146_02.xhtml#_idTextAnchor032), Qiskit is one
    of the most mature quantum computing frameworks available and counts with higher-level
    modules so that specific applications can be easily translated to the quantum
    regime. This is the case with Qiskit Finance, which we will explore in detail
    while translating previous exercises to a quantum approach.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 如[*第二章*](B19146_02.xhtml#_idTextAnchor032)中所讨论的，Qiskit是最成熟的量子计算框架之一，拥有更高级的模块，可以轻松将特定应用转化为量子领域。这也适用于Qiskit
    Finance，我们将在将之前的练习转化为量子方法时深入探讨。
- en: 'As we already know, classical data must be converted into a quantum state to
    work with it on a quantum device. In the case of price valuation, that means representing
    our target distribution as a quantum state. Therefore, we should build a quantum
    state like the following:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们已经知道的，经典数据必须转换为量子态，才能在量子设备上进行操作。在价格估值的情况下，这意味着将我们的目标分布表示为量子态。因此，我们应该构建一个如下所示的量子态：
- en: '| ψ⟩ n = ∑ 0 2 n−1 √ _ p i  |i⟩ n,'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '| ψ⟩ n = ∑ 0 2 n−1 √ _ p i  |i⟩ n,'
- en: where *p**ᵢ*is the probability associated with the truncated distribution, and
    i is the mapping between our discrete bins, representing each value range of our
    target distribution.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，*p**ᵢ*是与截断分布相关的概率，而i是我们离散箱之间的映射，代表目标分布的每个值范围。
- en: 'Quantum hardware may face some challenges, which is one of the first to affect
    us. We need to truncate our distribution into discrete bins, as possible prices
    can fall into infinite bins, depending on the numerical precision we want to achieve.
    Thus, |i⟩ will be associated with a range of values sufficiently precise to encode
    a probability associated with that range. The truncation for i qubits is placed
    as follows:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 量子硬件可能面临一些挑战，这是最早影响到我们的一个方面。我们需要将分布截断成离散的箱子，因为根据我们想要达到的数值精度，可能的价格会落入无限多个箱子。因此，|i⟩将与足够精确的值范围相关联，以便编码与该范围相关的概率。对于i个量子比特的截断，安排如下：
- en: '{0, … , 2 n − 1} ∈ i ⟶  high − low _ 2 n − 1  × i + low'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '{0, … , 2 n − 1} ∈ i ⟶  high − low _ 2 n − 1  × i + low'
- en: 'By setting the number of qubits of our algorithm, we also limit the response
    resolution:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 通过设定我们算法的量子比特数量，我们也限制了响应分辨率：
- en: '[PRE5]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Then, we need to embed our target distribution into the quantum state explained
    before:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们需要将目标分布嵌入之前解释的量子态中：
- en: '[PRE6]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now that the truncated target distribution is ready, we must generate a circuit
    encoding the quantum state. It is a manageable task and can take time to learn
    how to do it properly. Luckily for us, Qiskit Finance is here to help. It already
    provides this functionality:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 现在截断的目标分布已经准备好，我们必须生成一个编码量子态的电路。这是一个可以管理的任务，虽然需要一些时间来学习如何正确完成它。幸运的是，Qiskit Finance可以为我们提供帮助，它已经提供了这个功能：
- en: '[PRE7]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'This circuit we just created encodes the distribution of our assets. We can
    print it if we like, but it will look like a big box at our working level:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚创建的这个电路编码了我们资产的分布。如果我们愿意，可以打印出来，但在我们工作层面上，它看起来将像一个大盒子：
- en: '[PRE8]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![Figure 4.3 – Logical circuit generated by the code above encapsulating the
    target distribution into a quantum state](img/B19146_04_003.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![图4.3 – 上述代码生成的逻辑电路，将目标分布封装到量子状态中](img/B19146_04_003.jpg)'
- en: Figure 4.3 – Logical circuit generated by the code above encapsulating the target
    distribution into a quantum state
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.3 – 上述代码生成的逻辑电路，将目标分布封装到量子状态中
- en: 'However, if we look at the distribution it encodes, we can check whether it
    fits our expectations:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果我们查看它所编码的分布，我们可以检查它是否符合我们的预期：
- en: '[PRE9]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![Figure 4.4 – Discretized distribution generated by the previous circuit in
    Figure 4.3](img/B19146_04_004.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![图4.4 – 由图4.3中的前一个电路生成的离散化分布](img/B19146_04_004.jpg)'
- en: Figure 4.4 – Discretized distribution generated by the previous circuit in Figure
    4.3
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.4 – 由图4.3中的前一个电路生成的离散化分布
- en: This target distribution shows an additional limitation we will face when encoding
    the problem into quantum states. Given that they encode the bin representation
    of our probability distribution, the truncation we might decide on could cut some
    of the values at each end. Therefore, an important initial assessment needs to
    be done in order to properly characterize the distribution we aim to fit into
    our quantum states.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这个目标分布展示了我们在将问题编码到量子状态时可能遇到的一个额外限制。由于它们编码了我们概率分布的区间表示，因此我们可能决定的截断方式可能会切断每个区间两端的某些值。因此，必须进行重要的初步评估，以正确描述我们希望拟合到量子状态中的分布。
- en: 'Now that our target distribution is loaded, it is just a matter of evaluating
    the call and put options within the quantum regime. For that, we might need to
    encode a linear piecewise function that will do this price calculation according
    to the probability, encoded as state amplitudes of our *|i>*. It is able to estimate
    these prices for each of our bins, simultaneously leveraging the parallelism that
    quantum states provide:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，目标分布已加载，接下来只需在量子领域中评估看涨和看跌期权。为此，我们可能需要编码一个线性分段函数，根据概率（作为我们*|i>*的状态幅度编码）来进行价格计算。它能够为每个区间估算这些价格，同时利用量子态提供的并行性：
- en: F|x⟩|0⟩ = √ _ 1 − f(x)  |x⟩|0⟩ + √ _ f(x) |x⟩|1⟩
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: F|x⟩|0⟩ = √(1 − f(x)) |x⟩|0⟩ + √(f(x)) |x⟩|1⟩
- en: 'for a function f:{0,...,2^n-1} →[0,1] mapping the option function and x being
    a n qubit state mapping the option price bin. This encoded function will flag
    price buckets in the distribution, with the positive probability amplitude associated
    with their likelihood:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 对于函数 f:{0,...,2^n-1} →[0,1]，它映射期权函数，x为n量子比特状态，映射期权价格区间。这个编码的函数将标记分布中的价格区间，正的概率幅度与其可能性相关联：
- en: '[PRE10]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'This will be our call objective function:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是我们的调用目标函数：
- en: '[PRE11]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'We can compose a European call circuit by adding this amplitude estimation
    block to our previous circuit. This is mostly provided by Qiskit, thanks to its
    high-level module:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过将这个幅度估计模块添加到我们之前的电路中，来构建一个欧式看涨期权电路。这主要由Qiskit提供，得益于其高级模块：
- en: '[PRE12]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![Figure 4.5 – Probability distribution generation block (P) followed by linear
    amplitude function block (f)](img/B19146_04_005.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![图4.5 – 概率分布生成模块(P)，后接线性幅度函数模块(f)](img/B19146_04_005.jpg)'
- en: Figure 4.5 – Probability distribution generation block (P) followed by linear
    amplitude function block (f)
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.5 – 概率分布生成模块(P)，后接线性幅度函数模块(f)
- en: 'First, block (P) will add the price distribution we loaded into quantum states
    as the second block (F), as shown in the preceding diagram, evaluates their potential
    outcome. Given that amplitudes have been encoded already after the F block in
    the preceding figure, the last step is to extract from the quantum state into
    classical values the probabilities for our equity to fall into different bins
    of future pricing. Different methods exist for **Quantum Amplitude Estimation**
    (**QAE**); this technique allows you to extract the amplitudes on a given quantum
    state. Formally, we would pose it as the ability to estimate amplitude *a* for
    state ψ, defined as:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，模块(P)将把我们加载到量子状态中的价格分布作为第二个模块(F)，如前面的图示所示，评估它们的潜在结果。由于在前面的图中F模块后已经对幅度进行了编码，最后一步是从量子状态中提取出经典值，即我们股票价格落入未来定价不同区间的概率。**量子幅度估计**（**QAE**）存在不同的方法；这种技术可以让你提取给定量子状态下的幅度。严格来说，我们可以将其表述为估计状态ψ的幅度*a*的能力，定义如下：
- en: a = |⟨ψ | ψ⟩|²
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: a = |⟨ψ | ψ⟩|²
- en: 'It is often used as the quantum counterpart of the classical Monte Carlo simulation.
    We will here use an iterative QAE variant that has proven better error rates compared
    to other approaches:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 它通常被用作经典蒙特卡罗模拟的量子对应方法。在这里，我们将使用一种经过验证的迭代 QAE 变体，与其他方法相比，该变体具有更好的错误率：
- en: '[PRE13]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Given that the whole process is quite systematic, Qiskit already provides all
    these steps in a single piece of code, so we do not have to worry about each specific
    step:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于整个过程相当系统化，Qiskit 已经将所有这些步骤整合到一段代码中，因此我们无需担心每个具体步骤：
- en: '[PRE14]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Using qGANs for price distribution loading
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 qGAN 进行价格分布加载
- en: So far, we have encoded the uncertainty model of a given stock based on previously
    discussed statistical models, but could we exploit empirical knowledge from data
    instead of using statistical knowledge? We have retrieved information from Binance
    to get the market behaviors. We want our model to exploit the fact that each option
    does not behave in an isolated environment but depends on the evolutions of the
    rest of the stocks.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经基于先前讨论的统计模型对给定股票的不确定性模型进行了编码，但我们能否利用数据中的经验知识，而不是使用统计知识呢？我们已从 Binance
    获取信息，以了解市场行为。我们希望我们的模型能够利用每个选项并非在孤立的环境中运行这一事实，而是依赖于其余股票的演变。
- en: When data is available, ML techniques can have a field day, particularly generative
    models. Models that are once trained can create samples from a distribution.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据可用时，机器学习技术可以大展拳脚，特别是生成模型。经过训练的模型可以从分布中创建样本。
- en: 'In our particular case, we are interested in obtaining a generator model G
    such that:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的特定情况下，我们希望获得一个生成器模型 G，使得：
- en: G θ| ψ⟩ n = ∑ 0 2 n−1 √ _ p i  |i⟩ n,
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: G θ| ψ⟩ n = ∑ 0 2 n−1 √ _ p i |i⟩ n，
- en: where the square root of p i represents the probability amplitude of the |i⟩
    quantum bin to be measured. In this case, the same quantum state we have been
    manually loading, the state that encodes future prices as discretized probable
    values, will be created, based on data samples extracted from our market data
    through a learning process that will iterate, making G map the preceding equation.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，p i 的平方根表示 |i⟩ 量子箱的测量概率幅度。在这种情况下，我们将根据通过学习过程从市场数据中提取的数据样本，创建相同的量子状态，这个量子状态编码了未来价格的离散化可能值，G
    会根据该过程进行迭代，从而映射出前述方程。
- en: '**Generative Adversarial Networks** (**GANs**) have been successful in realistic
    image and video generation, as you may be aware of, due to the success in the
    media of deepfakes. However, GANs can be exploited in many other regimes, from
    tabular data to time series data, which is quite a common case in the financial
    sector. Their quantum version was proposed by Zoufal et al. in 2019\. It is based
    on opposing two models, one quantum generator and one classical discriminator
    (a classical neural network), that are trained with opposing objectives so that
    we end up in a Nash equilibrium.'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '**生成对抗网络** (**GANs**) 在真实图像和视频生成方面取得了成功，正如你可能通过媒体中深伪技术的成功而了解到的。然而，GANs 还可以在许多其他领域中得到应用，从表格数据到时间序列数据，这在金融领域是相当常见的。它们的量子版本由
    Zoufal 等人在 2019 年提出。该方法基于对立的两个模型，一个是量子生成器，一个是经典判别器（经典神经网络），这两个模型通过相对立的目标进行训练，以最终达到纳什均衡。'
- en: '![Figure 4.6 – A pictorial representation of the two models used in qGAN, the
    quantum generator G and classical discriminator D, as presented by Zoufal et al.](img/B19146_04_006.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.6 – qGAN 中使用的两个模型的图示，量子生成器 G 和经典判别器 D，如 Zoufal 等人所示。](img/B19146_04_006.jpg)'
- en: Figure 4.6 – A pictorial representation of the two models used in qGAN, the
    quantum generator G and classical discriminator D, as presented by Zoufal et al.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.6 – qGAN 中使用的两个模型的图示，量子生成器 G 和经典判别器 D，如 Zoufal 等人所示。
- en: 'From a dataset loaded from Binance, where we can select the stocks to be used,
    we can select a subset:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 从从 Binance 加载的数据集中，我们可以选择要使用的股票，并从中选择一个子集：
- en: '[PRE15]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'As we already know, a discretized and truncated version of the data must be
    delivered to the quantum device to fit our data into the quantum regime:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们已经知道的，必须将数据的离散化和截断版本传递给量子设备，以将我们的数据适配到量子领域：
- en: '[PRE16]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'We need to map our samples to discrete values. This means depending on the
    qubit resolution we choose. Each sample will need to be placed in a discrete bin
    as before. Choosing a 3-qubit representation means our data should fit into 2 3
    = 8 bins. This is something that needs to be considered, as it affects the resolution
    of our model:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要将样本映射到离散值。这意味着根据我们选择的量子比特分辨率，每个样本将需要像之前一样放入一个离散的区间。选择一个 3 量子比特表示意味着我们的数据应该适应
    2^3 = 8 个区间。这一点需要考虑，因为它会影响模型的分辨率：
- en: '[PRE17]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'We can plot our discrete distribution for the three assets to learn which distributions
    we can effectively encode in our quantum resource:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以绘制三个资产的离散分布，以了解哪些分布我们能够有效地编码到我们的量子资源中：
- en: '[PRE18]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![Figure 4.7 – Discretized distribution of three targeted stocks](img/B19146_04_007.jpg)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.7 – 三只目标股票的离散化分布](img/B19146_04_007.jpg)'
- en: Figure 4.7 – Discretized distribution of three targeted stocks
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.7 – 三只目标股票的离散化分布
- en: 'The original paper by Zoufal et al. proposed a specific parameterized quantum
    circuit as the generator circuit, using a sequence of *Y* rotations parameterized
    per qubit and a cycle of CZ gates circularly entangling all qubits (called an
    entangling block). We will try to mimic a similar approach in PennyLane:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: Zoufal 等人提出的原始论文中，使用了一个特定的参数化量子电路作为生成器电路，该电路使用每个量子比特参数化的*Y*旋转序列和一个环状纠缠所有量子比特的
    CZ 门周期（称为纠缠块）。我们将尝试在 PennyLane 中模仿类似的方法：
- en: '[PRE19]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'That way we can easily use this setup for different repetitions and data dimensions
    we might be looking for:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 这样我们可以轻松地使用这个设置来进行不同的重复实验和数据维度的探索：
- en: '[PRE20]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The output circuit should look like the one in *Figure 4**.8*. Even though it
    does not show a detailed view in the ansatz, this circuit is parameterized by
    the weights or parameters provided to the generator function. To know which parameters
    will output our expected distribution, we need to find them by following the techniques
    described in [*Chapter 2*](B19146_02.xhtml#_idTextAnchor032) for ansatz training.
    GANs offer a different approach to how these parameters are adapted, opposing
    the discriminator as the cost function for the training of the generator.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 输出电路应该像*图 4.8*中那样。尽管在 Ansatz 中没有显示详细视图，但该电路是由提供给生成器函数的权重或参数进行参数化的。为了知道哪些参数会输出我们期望的分布，我们需要通过遵循[
    *第二章*](B19146_02.xhtml#_idTextAnchor032)中描述的 Ansatz 训练技术来找到它们。GAN 提供了一种不同的方法来调整这些参数，与判别器作为生成器训练的成本函数相对立。
- en: '![Figure 4.8 – The generator ansatz composed of Hadamard gates, the parameterized
    Y rotations, and the CZ gate cycle by the nearest neighbor coupling](img/B19146_04_008.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.8 – 由 Hadamard 门、参数化的 Y 旋转和最近邻耦合的 CZ 门周期组成的生成器 Ansatz](img/B19146_04_008.jpg)'
- en: Figure 4.8 – The generator ansatz composed of Hadamard gates, the parameterized
    Y rotations, and the CZ gate cycle by the nearest neighbor coupling
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.8 – 由 Hadamard 门、参数化的 Y 旋转和最近邻耦合的 CZ 门周期组成的生成器 Ansatz
- en: 'GANs need a counterpart for the discriminator trying to assess whether samples
    come from the real dataset or the data faked by the generator, as depicted in
    *Figure 4**.8*. For this discriminator, a simple neural network will be defined,
    whose binary output should establish the sample source:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: GAN 需要一个与判别器相对立的部分，判别器尝试评估样本是否来自真实数据集，还是来自生成器伪造的数据，如*图 4.8*所示。对于这个判别器，将定义一个简单的神经网络，其二进制输出应该确定样本的来源：
- en: '[PRE21]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This choice for the classical discriminator and its architecture of layers can
    be as complex as you want, and a big effort has been made by the community to
    identify the best-performing quantum and classical model designs for specific
    tasks.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 经典判别器的选择及其层架构可以根据需要变得非常复杂，社区已经付出了巨大努力，旨在为特定任务识别表现最佳的量子和经典模型设计。
- en: The key now resides in opposing the loss functions associated with training
    both models, quantum and classical. The loss is opposed, so you can see how variations
    on the parameters associated with our generator (G) are also considered in the
    discriminators’ loss function.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 关键在于对抗与训练两个模型（量子模型和经典模型）相关的损失函数。损失是对抗的，因此你可以看到与生成器（G）相关的参数变化如何也被考虑在判别器的损失函数中。
- en: L G(ϕ, θ) = −  1 _ m  ∑ i=1 m log D ψ( g i)
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: L G(ϕ, θ) = −  1/m ∑ i=1 m log D ψ( g i)
- en: L D(ϕ, θ) = −  1 _ m  ∑ i=1 m log D ψ(x i) + log(1 − D ψ( g i))
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: L D(ϕ, θ) = −  1/m ∑ i=1 m log D ψ(x i) + log(1 − D ψ( g i))
- en: 'In both cases, the Adam optimization method (*Kingma et al., 2014*) will be
    used to train the model. This is enabled due to the fact that both frameworks,
    PennyLane for the quantum model and PyTorch for the classical one, provide this
    method:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在这两种情况下，Adam优化方法（*Kingma 等，2014*）将用于训练模型。这是因为两个框架，量子模型的PennyLane和经典模型的PyTorch，都提供了这种方法：
- en: '[PRE22]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Once all pieces are set, it is just a matter of iteration, looking for the
    Nash equilibrium between the G and D models:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦所有部分都设置完毕，接下来就只是迭代的问题，寻找G和D模型之间的纳什均衡：
- en: '[PRE23]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: By plotting the evolution of both loss functions (appended to `generator_loss_values`
    and `discriminator_loss_values` arrays), we can see how both models try to adapt
    to one another so that the generator will ultimately be the best version of a
    synthetic data generator we can achieve.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 通过绘制两个损失函数的演变（分别附加到`generator_loss_values`和`discriminator_loss_values`数组中），我们可以看到两个模型如何相互适应，以便生成器最终成为我们能实现的最佳合成数据生成器版本。
- en: '![Figure 4.9 – Loss evolution while training both models reaching the equilibrium
    point at the end of the iterations](img/B19146_04_009.jpg)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.9 – 在训练两个模型的过程中，损失演变，最终在迭代结束时达到均衡点](img/B19146_04_009.jpg)'
- en: Figure 4.9 – Loss evolution while training both models reaching the equilibrium
    point at the end of the iterations
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.9 – 在训练两个模型的过程中，损失演变，最终在迭代结束时达到均衡点
- en: With this, we obtain a P block, as shown when manually loading the distribution
    using Qiskit, but trained to mimic the price distribution, as seen in the historic
    dataset we used to train the generator in our qGAN. Therefore, by adding this
    trained generator as the probability and appending the linear amplitude function
    and QAE blocks a purely data-driven quantum approach for the pricing of our stocks
    would be created. It would take quite a big block of code with different frameworks
    to perform such a task, so the technical complexity to implement this may be too
    high, but we definitely recommend going through the three blocks to understand
    how these interfaces between different frameworks can be achieved (PennyLane for
    a trainable parameterized quantum circuit and Qiskit Finance to avoid implementing
    the already available functionalities).
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 通过此方法，我们获得了一个P块，如在使用Qiskit手动加载分布时所示，但它已经经过训练以模拟价格分布，正如我们用于训练生成器的历史数据集所展示的那样。因此，通过将这个训练过的生成器作为概率并附加线性幅度函数和QAE块，我们可以创建一个完全数据驱动的量子股票定价方法。执行这一任务将需要大量的代码块和不同的框架，因此实现的技术复杂性可能非常高，但我们强烈推荐逐步了解这三个块，以理解如何实现不同框架之间的接口（PennyLane用于可训练的参数化量子电路，Qiskit
    Finance用于避免重新实现已提供的功能）。
- en: Summary
  id: totrans-260
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we explored a complex use case to forecast the future, the
    future of how markets will evolve, how stock prices will evolve, and so on a non-trivial
    task indeed. We showed how classical statistics extensively used in the field
    can be used in a quantum regime. This brings some benefits but also, given its
    current status and the limitations of the devices themselves, poses other impediments
    we would need to work around.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了一个复杂的用例，用于预测未来，预测市场将如何发展，股票价格将如何变化，等等，这无疑是一个非平凡的任务。我们展示了如何将传统统计学中广泛使用的技术应用于量子领域。这带来了一些好处，但也由于其当前的状态和设备本身的局限性，提出了我们需要绕过的其他障碍。
- en: Encoding a probability distribution on a gate-based quantum device entails some
    resolution loss. Probability distributions may need to be truncated, and value
    ranges will be rendered as the same discrete bin that the future price of an option
    may be placed. This limitation will probably change when bigger devices are made
    available so that larger distributions can be encoded. However, it is indeed a
    limitation we should have present in our minds when adopting these techniques.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 在基于门的量子设备上编码概率分布会导致一些分辨率损失。概率分布可能需要被截断，且数值范围将被渲染为与未来期权价格可能落入的相同离散区间。这一限制在未来当更大的设备问世时可能会发生变化，从而允许更大的分布被编码。然而，这确实是我们在采用这些技术时需要牢记的一个限制。
- en: Of course, there are benefits, as quantum devices are capable of native parallelization
    of many calculations, which are done sequentially or require large classical setups
    to perform fast enough. Thanks to QML setups and qGANs in particular, we can even
    compose a piece of machinery that does this distribution encoding, based on an
    asset’s past evolution, which might not be entirely accurate but at least is based
    on evidence. So far, simulators have been used in this section to ease the complexity
    of using real devices, as we will explain in the following chapters. Dealing with
    device specifics could be quite challenging as well and add more complexity to
    the already complex procedure we showed here. Even though we will cover use cases
    that better fit the current status of quantum devices, being the growing field
    that it is and with its relevance in the financial sector, we must keep an eye
    on advances toward better price forecasting in the literature. There are really
    relevant research initiatives that could give us a breakthrough not far from now.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，也有其好处，因为量子设备能够原生并行化许多计算，而这些计算通常是顺序执行的，或者需要大型经典设备来快速完成。得益于QML设置，尤其是qGANs，我们甚至可以构建一台机器来执行这种基于资产过去演变的分布编码，虽然它可能不完全准确，但至少是基于证据的。到目前为止，在本节中我们使用了模拟器，以简化使用真实设备的复杂性，正如我们将在后续章节中解释的那样。处理设备特性也可能相当具有挑战性，并且会为我们在这里展示的复杂过程增添更多复杂性。尽管我们将讨论一些更适合当前量子设备状态的用例，但鉴于其作为一个快速发展的领域，以及在金融行业的相关性，我们必须关注文献中向更好的价格预测的进展。确实有一些非常重要的研究计划，可能会在不久的将来为我们带来突破。
- en: Further reading
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: A quintessential part of what we have discussed in this chapter relates to some
    of the foundational algorithms in quantum computing. Grover’s algorithm (Jozsa
    1999) and QAE (Rao et al. 2020) are not only key contenders for financial use
    cases but also for numerous applications pertaining to quantum algorithms.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中我们讨论的一个重要部分与量子计算中的一些基础算法有关。Grover算法（Jozsa 1999）和QAE（Rao 等，2020）不仅是金融用例的关键算法，也是与量子算法相关的众多应用的重要竞争者。
- en: More and more, QML is gaining relevance, as it allows the exploitation of existing
    data to create those embeddings or dynamics that quantum algorithms often require.
    [*Chapter 6*](B19146_06.xhtml#_idTextAnchor124) will examine in more detail these
    techniques. However, for those already knowledgeable about classical generative
    models such as GANs, variational autoencoders, and neural networks in general,
    there is plenty of literature that can be found to help their adaptation to the
    Quantum regime (Lloyd and Weedbrook, 2018). New ways that QNNs can be exploited
    for financial applications (Tapia et al. 2022) or different perspectives on how
    a price projection can be tackled constantly appear in the literature (Singh 2021).
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: QML的相关性日益增加，因为它允许利用现有数据来创建量子算法通常所需的嵌入或动态。[*第六章*](B19146_06.xhtml#_idTextAnchor124)将更详细地探讨这些技术。然而，对于那些已经了解经典生成模型（如GANs、变分自编码器和神经网络等）的人来说，有大量文献可以帮助其适应量子领域（Lloyd
    和 Weedbrook, 2018）。有关QNNs如何在金融应用中发挥作用的新方法（Tapia 等，2022），或如何处理价格预测的不同视角，文献中不断有新的研究成果出现（Singh
    2021）。
- en: On a more practical note, even though understanding the basics of how these
    algorithms are designed and implemented can be crucial at this stage, higher and
    higher abstraction enablers such as Qiskit Finance or ML will boost your ability
    to try and test some of the cutting-edge discoveries, offering a faster-paced
    transition from research to corporate innovation (Moguel et al. 2020).
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 从更实际的角度来看，尽管理解这些算法的基本设计和实现至关重要，但越来越高层次的抽象工具，如Qiskit Finance或机器学习，将提升你尝试和测试一些前沿发现的能力，从而加速从研究到企业创新的过渡（Moguel
    等，2020）。
- en: References
  id: totrans-268
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '*Glasserman, P. (2004). Monte Carlo methods in financial engineering (Vol.
    53, pp. xiv+-596). New* *York: Springer.*'
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Glasserman, P. (2004). 金融工程中的蒙特卡洛方法（第53卷，第xiv+-596页）。纽约：Springer。*'
- en: '*Jozsa, R. (1999). Searching in Grover’s algorithm. arXiv* *preprint quant-ph/9901021.*'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Jozsa, R. (1999). 在Grover算法中的搜索。arXiv* *预印本 quant-ph/9901021。*'
- en: '*Kingma, D. P., & Ba, J. (2014). Adam: A method for stochastic optimization.
    arXiv* *preprint arXiv:1412.6980.*'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Kingma, D. P., & Ba, J. (2014). Adam: 一种随机优化方法。arXiv* *预印本 arXiv:1412.6980。*'
- en: '*Lloyd, S., & Weedbrook, C. (2018). Quantum generative adversarial learning.
    Physical review letters,* *121(4), 040502.*'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Lloyd, S., & Weedbrook, C. (2018). 量子生成对抗学习。物理评论快报，* *121(4), 040502。*'
- en: '*MacBeth, J. D., & Merville, L. J. (1979). An empirical examination of the
    Black-Scholes call option pricing model. The journal of finance,* *34(5), 1173-1186.*'
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*MacBeth, J. D., & Merville, L. J. (1979). 对Black-Scholes看涨期权定价模型的实证检验。金融学杂志,*
    *34(5), 1173-1186.*'
- en: '*Moguel, E., Berrocal, J., García-Alonso, J., & Murillo, J. M. (2020, October).
    A Roadmap for Quantum Software Engineering: Applying the Lessons Learned from
    the Classics. In Q-SET@ QCE (**pp. 5-13).*'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Moguel, E., Berrocal, J., García-Alonso, J., & Murillo, J. M. (2020年10月).
    量子软件工程的路线图：应用经典经验教训。在Q-SET@ QCE (**第5-13页).*'
- en: '*Singh, P. (2021). FQTSFM: A fuzzy-quantum time series forecasting model. Information
    Sciences,* *566, 57-79.*'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Singh, P. (2021). FQTSFM：一种模糊量子时间序列预测模型。信息科学,* *566, 57-79.*'
- en: '*Stojkoski, V., Sandev, T., Basnarkov, L., Kocarev, L., & Metzler, R. (2020).
    Generalised geometric Brownian motion: Theory and applications to option pricing.
    Entropy,* *22(12), 1432.*'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Stojkoski, V., Sandev, T., Basnarkov, L., Kocarev, L., & Metzler, R. (2020).
    广义几何布朗运动：理论及其在期权定价中的应用。熵,* *22(12), 1432.*'
- en: '*Tapia, E. P., Scarpa, G., & Pozas-Kerstjens, A. (2022). Fraud detection with
    a single-qubit quantum neural network. arXiv* *preprint arXiv:2211.13191.*'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Tapia, E. P., Scarpa, G., & Pozas-Kerstjens, A. (2022). 使用单量子比特量子神经网络进行欺诈检测。arXiv*
    *预印本 arXiv:2211.13191.*'
- en: '*Rao, P., Yu, K., Lim, H., Jin, D., & Choi, D. (2020, August). Quantum amplitude
    estimation algorithms on IBM quantum devices. In Quantum Communications and Quantum
    Imaging XVIII (Vol. 11507, pp.* *49-60). SPIE.*'
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Rao, P., Yu, K., Lim, H., Jin, D., & Choi, D. (2020年8月). IBM量子设备上的量子幅度估计算法。在量子通信与量子成像第十八卷
    (第11507卷，第49-60页). SPIE.*'
- en: '*Ross, S. M., Kelly, J. J., Sullivan, R. J., Perry, W. J., Mercer, D., Davis,
    R. M., ... & Bristow, V. L. (1996). Stochastic processes (Vol. 2). New* *York:
    Wiley.*'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ross, S. M., Kelly, J. J., Sullivan, R. J., Perry, W. J., Mercer, D., Davis,
    R. M., ... & Bristow, V. L. (1996). 随机过程 (第2卷)。纽约：Wiley.*'
- en: '*Zoufal, C., Lucchi, A., & Woerner, S. (2019). Quantum generative adversarial
    networks for learning and loading random distributions. npj Quantum Information,*
    *5(1), 103.*'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Zoufal, C., Lucchi, A., & Woerner, S. (2019). 用于学习和加载随机分布的量子生成对抗网络。npj量子信息,*
    *5(1), 103.*'
